(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"/ezw":function(et,je,o){"use strict";var d=o("rePB"),i=o("wx14"),a=o("U8pU"),p=o("q1tI"),m=o("TSYQ"),c=o.n(m),E=function(y){var I=y.prefixCls,F=y.className,P=y.width,Y=y.style;return p.createElement("h3",{className:c()(I,F),style:Object(i.a)({width:P},Y)})},w=E,b=o("KQm4"),_=function(y){var I=function(ie){var Ge=y.width,ot=y.rows,st=ot===void 0?2:ot;if(Array.isArray(Ge))return Ge[ie];if(st-1===ie)return Ge},F=y.prefixCls,P=y.className,Y=y.style,$=y.rows,te=Object(b.a)(Array($)).map(function(ne,ie){return p.createElement("li",{key:ie,style:{width:I(ie)}})});return p.createElement("ul",{className:c()(F,P),style:Y},te)},O=_,T=o("H84U"),R=function(y){var I,F,P=y.prefixCls,Y=y.className,$=y.style,te=y.size,ne=y.shape,ie=c()((I={},Object(d.a)(I,"".concat(P,"-lg"),te==="large"),Object(d.a)(I,"".concat(P,"-sm"),te==="small"),I)),Ge=c()((F={},Object(d.a)(F,"".concat(P,"-circle"),ne==="circle"),Object(d.a)(F,"".concat(P,"-square"),ne==="square"),Object(d.a)(F,"".concat(P,"-round"),ne==="round"),F)),ot=typeof te=="number"?{width:te,height:te,lineHeight:"".concat(te,"px")}:{};return p.createElement("span",{className:c()(P,ie,Ge,Y),style:Object(i.a)(Object(i.a)({},ot),$)})},g=R,h=o("bT9E"),S=function(y){var I=function(P){var Y=P.getPrefixCls,$=y.prefixCls,te=y.className,ne=y.active,ie=Y("skeleton",$),Ge=Object(h.a)(y,["prefixCls"]),ot=c()(ie,"".concat(ie,"-element"),Object(d.a)({},"".concat(ie,"-active"),ne),te);return p.createElement("div",{className:ot},p.createElement(g,Object(i.a)({prefixCls:"".concat(ie,"-avatar")},Ge)))};return p.createElement(T.a,null,I)};S.defaultProps={size:"default",shape:"circle"};var M=S,W=function(y){var I=function(P){var Y=P.getPrefixCls,$=y.prefixCls,te=y.className,ne=y.active,ie=Y("skeleton",$),Ge=Object(h.a)(y,["prefixCls"]),ot=c()(ie,"".concat(ie,"-element"),Object(d.a)({},"".concat(ie,"-active"),ne),te);return p.createElement("div",{className:ot},p.createElement(g,Object(i.a)({prefixCls:"".concat(ie,"-button")},Ge)))};return p.createElement(T.a,null,I)};W.defaultProps={size:"default"};var B=W,U=function(y){var I=function(P){var Y=P.getPrefixCls,$=y.prefixCls,te=y.className,ne=y.active,ie=Y("skeleton",$),Ge=Object(h.a)(y,["prefixCls"]),ot=c()(ie,"".concat(ie,"-element"),Object(d.a)({},"".concat(ie,"-active"),ne),te);return p.createElement("div",{className:ot},p.createElement(g,Object(i.a)({prefixCls:"".concat(ie,"-input")},Ge)))};return p.createElement(T.a,null,I)};U.defaultProps={size:"default"};var z=U,N="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",D=function(y){var I=function(P){var Y=P.getPrefixCls,$=y.prefixCls,te=y.className,ne=y.style,ie=Y("skeleton",$),Ge=c()(ie,"".concat(ie,"-element"),te);return p.createElement("div",{className:Ge},p.createElement("div",{className:c()("".concat(ie,"-image"),te),style:ne},p.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(ie,"-image-svg")},p.createElement("path",{d:N,className:"".concat(ie,"-image-path")}))))};return p.createElement(T.a,null,I)},L=D;function k(v){return v&&Object(a.a)(v)==="object"?v:{}}function J(v,y){return v&&!y?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function ee(v,y){return!v&&y?{width:"38%"}:v&&y?{width:"50%"}:{}}function ae(v,y){var I={};return(!v||!y)&&(I.width="61%"),!v&&y?I.rows=3:I.rows=2,I}var Re=function(y){var I=function(P){var Y=P.getPrefixCls,$=P.direction,te=y.prefixCls,ne=y.loading,ie=y.className,Ge=y.children,ot=y.avatar,st=y.title,ct=y.paragraph,Mt=y.active,wt=y.round,$e=Y("skeleton",te);if(ne||!("loading"in y)){var yt,ut=!!ot,xt=!!st,_e=!!ct,X;if(ut){var j=Object(i.a)(Object(i.a)({prefixCls:"".concat($e,"-avatar")},J(xt,_e)),k(ot));X=p.createElement("div",{className:"".concat($e,"-header")},p.createElement(g,j))}var G;if(xt||_e){var K;if(xt){var oe=Object(i.a)(Object(i.a)({prefixCls:"".concat($e,"-title")},ee(ut,_e)),k(st));K=p.createElement(w,oe)}var Ee;if(_e){var Se=Object(i.a)(Object(i.a)({prefixCls:"".concat($e,"-paragraph")},ae(ut,xt)),k(ct));Ee=p.createElement(O,Se)}G=p.createElement("div",{className:"".concat($e,"-content")},K,Ee)}var de=c()($e,(yt={},Object(d.a)(yt,"".concat($e,"-with-avatar"),ut),Object(d.a)(yt,"".concat($e,"-active"),Mt),Object(d.a)(yt,"".concat($e,"-rtl"),$==="rtl"),Object(d.a)(yt,"".concat($e,"-round"),wt),yt),ie);return p.createElement("div",{className:de},X,G)}return Ge};return p.createElement(T.a,null,I)};Re.defaultProps={avatar:!1,title:!0,paragraph:!0},Re.Button=B,Re.Avatar=M,Re.Input=z,Re.Image=L;var V=Re,l=je.a=V},"14J3":function(et,je,o){"use strict";var d=o("cIOH"),i=o.n(d),a=o("1GLa")},"1wcP":function(et,je,o){},"2qtc":function(et,je,o){"use strict";var d=o("cIOH"),i=o.n(d),a=o("1wcP"),p=o.n(a),m=o("+L6B")},"3wW7":function(et,je,o){},BMrR:function(et,je,o){"use strict";var d=o("qrJ5");je.a=d.a},"F/zT":function(et,je,o){"use strict";var d=o("q1tI"),i=o.n(d),a=o("/s86"),p=o("WFLz");function m(){return m=Object.assign||function(_){for(var O=1;O<arguments.length;O++){var T=arguments[O];for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(_[R]=T[R])}return _},m.apply(this,arguments)}function c(_,O){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(_);O&&(R=R.filter(function(g){return Object.getOwnPropertyDescriptor(_,g).enumerable})),T.push.apply(T,R)}return T}function E(_){for(var O=1;O<arguments.length;O++){var T=arguments[O]!=null?arguments[O]:{};O%2?c(Object(T),!0).forEach(function(R){w(_,R,T[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):c(Object(T)).forEach(function(R){Object.defineProperty(_,R,Object.getOwnPropertyDescriptor(T,R))})}return _}function w(_,O,T){return O in _?Object.defineProperty(_,O,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[O]=T,_}var b=i.a.forwardRef(function(_,O){var T=_.fieldProps,R=_.unCheckedChildren,g=_.checkedChildren,h=_.proFieldProps;return i.a.createElement(a.a,m({valueType:"switch",mode:"edit",fieldProps:E(E({},T),{},{unCheckedChildren:R,checkedChildren:g}),text:T==null?void 0:T.checked,ref:O},h))});je.a=Object(p.a)(b,{valuePropName:"checked"})},FJDo:function(et,je,o){"use strict";var d=o("q1tI"),i=o.n(d),a=o("/s86"),p=o("WFLz");function m(){return m=Object.assign||function(_){for(var O=1;O<arguments.length;O++){var T=arguments[O];for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(_[R]=T[R])}return _},m.apply(this,arguments)}function c(_,O){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(_);O&&(R=R.filter(function(g){return Object.getOwnPropertyDescriptor(_,g).enumerable})),T.push.apply(T,R)}return T}function E(_){for(var O=1;O<arguments.length;O++){var T=arguments[O]!=null?arguments[O]:{};O%2?c(Object(T),!0).forEach(function(R){w(_,R,T[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):c(Object(T)).forEach(function(R){Object.defineProperty(_,R,Object.getOwnPropertyDescriptor(T,R))})}return _}function w(_,O,T){return O in _?Object.defineProperty(_,O,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[O]=T,_}var b=function(O,T){var R=O.fieldProps,g=O.min,h=O.proFieldProps,S=O.max;return i.a.createElement(a.a,m({mode:"edit",valueType:"digit",fieldProps:E({min:g,max:S},R),ref:T},h))};je.a=Object(p.a)(i.a.forwardRef(b))},IzEo:function(et,je,o){"use strict";var d=o("cIOH"),i=o.n(d),a=o("lnY3"),p=o.n(a),m=o("Znn+"),c=o("14J3"),E=o("jCWc")},Mwp2:function(et,je,o){"use strict";var d=o("cIOH"),i=o("3wW7"),a=o("R9oj"),p=o("T2oS"),m=o("Urep"),c=o("OaEy"),E=o("1GLa")},S76h:function(et,je,o){},TLLU:function(et,je,o){"use strict";var d=o("5OYt");je.a={useBreakpoint:d.a}},Texg:function(et,je,o){"use strict";o.r(je),o.d(je,"Dexie",function(){return Xn}),o.d(je,"liveQuery",function(){return Wr}),o.d(je,"RangeSet",function(){return hn}),o.d(je,"mergeRanges",function(){return Ln}),o.d(je,"rangesOverlap",function(){return Kr});var d=function(){return d=Object.assign||function(n){for(var r,s=1,u=arguments.length;s<u;s++){r=arguments[s];for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(n[f]=r[f])}return n},d.apply(this,arguments)};function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var u=arguments[e],f=0,x=u.length;f<x;f++,s++)r[s]=u[f];return r}var a=Object.keys,p=Array.isArray,m=typeof self!="undefined"?self:typeof window!="undefined"?window:global;typeof Promise!="undefined"&&!m.Promise&&(m.Promise=Promise);function c(t,e){return typeof e!="object"||a(e).forEach(function(n){t[n]=e[n]}),t}var E=Object.getPrototypeOf,w={}.hasOwnProperty;function b(t,e){return w.call(t,e)}function _(t,e){typeof e=="function"&&(e=e(E(t))),a(e).forEach(function(n){T(t,n,e[n])})}var O=Object.defineProperty;function T(t,e,n,r){O(t,e,c(n&&b(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function R(t){return{from:function(n){return t.prototype=Object.create(n.prototype),T(t.prototype,"constructor",t),{extend:_.bind(null,t.prototype)}}}}var g=Object.getOwnPropertyDescriptor;function h(t,e){var n=g(t,e),r;return n||(r=E(t))&&h(r,e)}var S=[].slice;function M(t,e,n){return S.call(t,e,n)}function W(t,e){return e(t)}function B(t){if(!t)throw new Error("Assertion Failed")}function U(t){m.setImmediate?setImmediate(t):setTimeout(t,0)}function z(t,e){return t.reduce(function(n,r,s){var u=e(r,s);return u&&(n[u[0]]=u[1]),n},{})}function N(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function D(t,e){if(b(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,s=e.length;r<s;++r){var u=D(t,e[r]);n.push(u)}return n}var f=e.indexOf(".");if(f!==-1){var x=t[e.substr(0,f)];return x===void 0?void 0:D(x,e.substr(f+1))}}function L(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){B(typeof n!="string"&&"length"in n);for(var r=0,s=e.length;r<s;++r)L(t,e[r],n[r])}else{var u=e.indexOf(".");if(u!==-1){var f=e.substr(0,u),x=e.substr(u+1);if(x==="")n===void 0?p(t)&&!isNaN(parseInt(f))?t.splice(f,1):delete t[f]:t[f]=n;else{var C=t[f];C||(C=t[f]={}),L(C,x,n)}}else n===void 0?p(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function k(t,e){typeof e=="string"?L(t,e,void 0):"length"in e&&[].map.call(e,function(n){L(t,n,void 0)})}function J(t){var e={};for(var n in t)b(t,n)&&(e[n]=t[n]);return e}var ee=[].concat;function ae(t){return ee.apply([],t)}var Re="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(ae([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return m[t]}),V=Re.map(function(t){return m[t]}),l=z(Re,function(t){return[t,!0]}),v=null;function y(t){v=typeof WeakMap!="undefined"&&new WeakMap;var e=I(t);return v=null,e}function I(t){if(!t||typeof t!="object")return t;var e=v&&v.get(t);if(e)return e;if(p(t)){e=[],v&&v.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(I(t[n]))}else if(V.indexOf(t.constructor)>=0)e=t;else{var s=E(t);e=s===Object.prototype?{}:Object.create(s),v&&v.set(t,e);for(var u in t)b(t,u)&&(e[u]=I(t[u]))}return e}var F={}.toString;function P(t){return F.call(t).slice(8,-1)}var Y=function t(e,n){return n==="Array"?""+e.map(function(r){return t(r,P(r))}):n==="ArrayBuffer"?""+new Uint8Array(e):n==="Date"?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function $(t,e,n,r){return n=n||{},r=r||"",a(t).forEach(function(s){if(!b(e,s))n[r+s]=void 0;else{var u=t[s],f=e[s];if(typeof u=="object"&&typeof f=="object"&&u&&f){var x=P(u),C=P(f);x===C?l[x]||p(u)?Y(u,x)!==Y(f,C)&&(n[r+s]=e[s]):$(u,f,n,r+s+"."):n[r+s]=e[s]}else u!==f&&(n[r+s]=e[s])}}),a(e).forEach(function(s){b(t,s)||(n[r+s]=e[s])}),n}var te=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",ne=typeof te=="symbol"?function(t){var e;return t!=null&&(e=t[te])&&e.apply(t)}:function(){return null},ie={};function Ge(t){var e,n,r,s;if(arguments.length===1){if(p(t))return t.slice();if(this===ie&&typeof t=="string")return[t];if(s=ne(t)){for(n=[];r=s.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var ot=typeof Symbol!="undefined"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},st=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ct(t,e){st=t,Mt=e}var Mt=function(){return!0},wt=!new Error("").stack;function $e(){if(wt)try{throw new Error}catch(t){return t}return new Error}function yt(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(Mt).map(function(r){return`
`+r}).join("")):""}var ut=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],xt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_e=ut.concat(xt),X={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function j(t,e){this._e=$e(),this.name=t,this.message=e}R(j).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+yt(this._e,2))}},toString:function(){return this.name+": "+this.message}});function G(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,s){return s.indexOf(n)===r}).join(`
`)}function K(t,e,n,r){this._e=$e(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=G(t,e)}R(K).from(j);function oe(t,e){this._e=$e(),this.name="BulkError",this.failures=e,this.message=G(t,e)}R(oe).from(j);var Ee=_e.reduce(function(t,e){return t[e]=e+"Error",t},{}),Se=j,de=_e.reduce(function(t,e){var n=e+"Error";function r(s,u){this._e=$e(),this.name=n,s?typeof s=="string"?(this.message=""+s+(u?`
 `+u:""),this.inner=u||null):typeof s=="object"&&(this.message=s.name+" "+s.message,this.inner=s):(this.message=X[e]||n,this.inner=null)}return R(r).from(Se),t[e]=r,t},{});de.Syntax=SyntaxError,de.Type=TypeError,de.Range=RangeError;var Xe=xt.reduce(function(t,e){return t[e+"Error"]=de[e],t},{});function He(t,e){if(!t||t instanceof j||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Xe[t.name])return t;var n=new Xe[t.name](e||t.message,t);return"stack"in t&&T(n,"stack",{get:function(){return this.inner.stack}}),n}var fe=_e.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=de[e]),t},{});fe.ModifyError=K,fe.DexieError=j,fe.BulkError=oe;function Z(){}function Te(t){return t}function Q(t,e){return t==null||t===Te?e:function(n){return e(t(n))}}function A(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function le(t,e){return t===Z?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var u=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?A(r,this.onsuccess):r),s&&(this.onerror=this.onerror?A(s,this.onerror):s),u!==void 0?u:n}}function ce(t,e){return t===Z?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?A(n,this.onsuccess):n),r&&(this.onerror=this.onerror?A(r,this.onerror):r)}}function ge(t,e){return t===Z?e:function(n){var r=t.apply(this,arguments);c(n,r);var s=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var f=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?A(s,this.onsuccess):s),u&&(this.onerror=this.onerror?A(u,this.onerror):u),r===void 0?f===void 0?void 0:f:c(r,f)}}function Ie(t,e){return t===Z?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function ve(t,e){return t===Z?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,u=new Array(s);s--;)u[s]=arguments[s];return n.then(function(){return e.apply(r,u)})}return e.apply(this,arguments)}}var Ae={},ke=100,Be=20,ze=100,ft=typeof Promise=="undefined"?[]:function(){var t=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[t,E(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,E(e),t]}(),Ve=ft[0],Je=ft[1],dt=ft[2],nt=Je&&Je.then,pt=Ve&&Ve.constructor,bt=!!dt,rt=!1,Ot=dt?function(){dt.then(tn)}:m.setImmediate?setImmediate.bind(null,tn):m.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){tn(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(tn,0)},Ft=function(e,n){Ht.push([e,n]),St&&(Ot(),St=!1)},Dt=!0,St=!0,qe=[],It=[],dn=null,mt=Te,gt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Sr,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{Sr(e[0],e[1])}catch(n){}})}},Me=gt,Ht=[],Nt=0,jt=[];function Ce(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Z,this._lib=!1;var e=this._PSD=Me;if(st&&(this._stackHolder=$e(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Ae)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&qt(this,this._value);return}this._state=null,this._value=null,++e.ref,Zt(this,t)}var Gt={get:function(){var e=Me,n=zt;function r(s,u){var f=this,x=!e.global&&(e!==Me||n!==zt),C=x&&!Qe(),H=new Ce(function(q,ue){on(f,new At(zn(s,e,x,C),zn(u,e,x,C),q,ue,e))});return st&&en(H,this),H}return r.prototype=Ae,r},set:function(e){T(this,"then",e&&e.prototype===Ae?Gt:{get:function(){return e},set:Gt.set})}};_(Ce.prototype,{then:Gt,_then:function(e,n){on(this,new At(null,null,e,n,Me))},catch:function(e){if(arguments.length===1)return this.then(null,e);var n=arguments[0],r=arguments[1];return typeof n=="function"?this.then(null,function(s){return s instanceof n?r(s):Kt(s)}):this.then(null,function(s){return s&&s.name===n?r(s):Kt(s)})},finally:function(e){return this.then(function(n){return e(),n},function(n){return e(),Kt(n)})},stack:{get:function(){if(this._stack)return this._stack;try{rt=!0;var e=tt(this,[],Be),n=e.join(`
From previous: `);return this._state!==null&&(this._stack=n),n}finally{rt=!1}}},timeout:function(e,n){var r=this;return e<Infinity?new Ce(function(s,u){var f=setTimeout(function(){return u(new de.Timeout(n))},e);r.then(s,u).finally(clearTimeout.bind(null,f))}):this}}),typeof Symbol!="undefined"&&Symbol.toStringTag&&T(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),gt.env=gn();function At(t,e,n,r,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=s}_(Ce,{all:function(){var e=Ge.apply(null,arguments).map(it);return new Ce(function(n,r){e.length===0&&n([]);var s=e.length;e.forEach(function(u,f){return Ce.resolve(u).then(function(x){e[f]=x,--s||n(e)},r)})})},resolve:function(e){if(e instanceof Ce)return e;if(e&&typeof e.then=="function")return new Ce(function(r,s){e.then(r,s)});var n=new Ce(Ae,!0,e);return en(n,dn),n},reject:Kt,race:function(){var e=Ge.apply(null,arguments).map(it);return new Ce(function(n,r){e.map(function(s){return Ce.resolve(s).then(n,r)})})},PSD:{get:function(){return Me},set:function(e){return Me=e}},totalEchoes:{get:function(){return zt}},newPSD:$t,usePSD:un,scheduler:{get:function(){return Ft},set:function(e){Ft=e}},rejectionMapper:{get:function(){return mt},set:function(e){mt=e}},follow:function(e,n){return new Ce(function(r,s){return $t(function(u,f){var x=Me;x.unhandleds=[],x.onunhandled=f,x.finalize=A(function(){var C=this;Yt(function(){C.unhandleds.length===0?u():f(C.unhandleds[0])})},x.finalize),e()},n,r,s)})}}),pt&&(pt.allSettled&&T(Ce,"allSettled",function(){var t=Ge.apply(null,arguments).map(it);return new Ce(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(s,u){return Ce.resolve(s).then(function(f){return r[u]={status:"fulfilled",value:f}},function(f){return r[u]={status:"rejected",reason:f}}).then(function(){return--n||e(r)})})})}),pt.any&&typeof AggregateError!="undefined"&&T(Ce,"any",function(){var t=Ge.apply(null,arguments).map(it);return new Ce(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,s=new Array(r);t.forEach(function(u,f){return Ce.resolve(u).then(function(x){return e(x)},function(x){s[f]=x,--r||n(new AggregateError(s))})})})}));function Zt(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&lt();n&&typeof n.then=="function"?Zt(t,function(s,u){n instanceof Ce?n._then(s,u):n.then(s,u)}):(t._state=!0,t._value=n,Lt(t)),r&&_t()}},qt.bind(null,t))}catch(n){qt(t,n)}}function qt(t,e){if(It.push(e),t._state===null){var n=t._lib&&lt();e=mt(e),t._state=!1,t._value=e,st&&e!==null&&typeof e=="object"&&!e._promise&&N(function(){var r=h(e,"stack");e._promise=t,T(e,"stack",{get:function(){return rt?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),sn(t),Lt(t),n&&_t()}}function Lt(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)on(t,e[n]);var s=t._PSD;--s.ref||s.finalize(),Nt===0&&(++Nt,Ft(function(){--Nt==0&&Et()},[]))}function on(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Nt,Ft(Bt,[n,t,e])}function Bt(t,e,n){try{dn=e;var r,s=e._value;e._state?r=t(s):(It.length&&(It=[]),r=t(s),It.indexOf(s)===-1&&Pt(e)),n.resolve(r)}catch(u){n.reject(u)}finally{dn=null,--Nt==0&&Et(),--n.psd.ref||n.psd.finalize()}}function tt(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var s=t._value,u,f;s!=null?(u=s.name||"Error",f=s.message||s,r=yt(s,0)):(u=s,f=""),e.push(u+(f?": "+f:"")+r)}return st&&(r=yt(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&tt(t._prev,e,n)),e}function en(t,e){var n=e?e._numPrev+1:0;n<ke&&(t._prev=e,t._numPrev=n)}function tn(){lt()&&_t()}function lt(){var t=Dt;return Dt=!1,St=!1,t}function _t(){var t,e,n;do for(;Ht.length>0;)for(t=Ht,Ht=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Ht.length>0);Dt=!0,St=!0}function Et(){var t=qe;qe=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=jt.slice(0),n=e.length;n;)e[--n]()}function Yt(t){function e(){t(),jt.splice(jt.indexOf(e),1)}jt.push(e),++Nt,Ft(function(){--Nt==0&&Et()},[])}function sn(t){qe.some(function(e){return e._value===t._value})||qe.push(t)}function Pt(t){for(var e=qe.length;e;)if(qe[--e]._value===t._value){qe.splice(e,1);return}}function Kt(t){return new Ce(Ae,!1,t)}function at(t,e){var n=Me;return function(){var r=lt(),s=Me;try{return Ut(n,!0),t.apply(this,arguments)}catch(u){e&&e(u)}finally{Ut(s,!1),r&&_t()}}}var vt={awaits:0,echoes:0,id:0},Fn=0,nn=[],mn=0,zt=0,Pn=0;function $t(t,e,n,r){var s=Me,u=Object.create(s);u.parent=s,u.ref=0,u.global=!1,u.id=++Pn;var f=gt.env;u.env=bt?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject,nthen:Cr(f.nthen,u),gthen:Cr(f.gthen,u)}:{},e&&c(u,e),++s.ref,u.finalize=function(){--this.parent.ref||this.parent.finalize()};var x=un(u,t,n,r);return u.ref===0&&u.finalize(),x}function Ct(){return vt.id||(vt.id=++Fn),++vt.awaits,vt.echoes+=ze,vt.id}function Qe(){return vt.awaits?(--vt.awaits==0&&(vt.id=0),vt.echoes=vt.awaits*ze,!0):!1}(""+nt).indexOf("[native code]")===-1&&(Ct=Qe=Z);function it(t){return vt.echoes&&t&&t.constructor===pt?(Ct(),t.then(function(e){return Qe(),e},function(e){return Qe(),kt(e)})):t}function Rt(t){++zt,(!vt.echoes||--vt.echoes==0)&&(vt.echoes=vt.id=0),nn.push(Me),Ut(t,!0)}function Tt(){var t=nn[nn.length-1];nn.pop(),Ut(t,!1)}function Ut(t,e){var n=Me;if((e?vt.echoes&&(!mn++||t!==Me):mn&&(!--mn||t!==Me))&&Er(e?Rt.bind(null,t):Tt),t!==Me&&(Me=t,n===gt&&(gt.env=gn()),bt)){var r=gt.env.Promise,s=t.env;Je.then=s.nthen,r.prototype.then=s.gthen,(n.global||t.global)&&(Object.defineProperty(m,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function gn(){var t=m.Promise;return bt?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(m,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Je.then,gthen:t.prototype.then}:{}}function un(t,e,n,r,s){var u=Me;try{return Ut(t,!0),e(n,r,s)}finally{Ut(u,!1)}}function Er(t){nt.call(Ve,t)}function zn(t,e,n,r){return typeof t!="function"?t:function(){var s=Me;n&&Ct(),Ut(e,!0);try{return t.apply(this,arguments)}finally{Ut(s,!1),r&&Er(Qe)}}}function Cr(t,e){return function(n,r){return t.call(this,zn(n,e),zn(r,e))}}var wr="unhandledrejection";function Sr(t,e){var n;try{n=e.onuncatched(t)}catch(u){}if(n!==!1)try{var r,s={promise:e,reason:t};if(m.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(wr,!0,!0),c(r,s)):m.CustomEvent&&(r=new CustomEvent(wr,{detail:s}),c(r,s)),r&&m.dispatchEvent&&(dispatchEvent(r),!m.PromiseRejectionEvent&&m.onunhandledrejection))try{m.onunhandledrejection(r)}catch(u){}st&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch(u){}}var kt=Ce.reject;function Or(t,e,n,r){if(!t._state.openComplete&&!Me.letThrough){if(!t._state.isBeingOpened){if(!t._options.autoOpen)return kt(new de.DatabaseClosed);t.open().catch(Z)}return t._state.dbReadyPromise.then(function(){return Or(t,e,n,r)})}else{var s=t._createTransaction(e,n,t._dbSchema);try{s.create()}catch(u){return kt(u)}return s._promise(e,function(u,f){return $t(function(){return Me.trans=s,r(u,f,s)})}).then(function(u){return s._completion.then(function(){return u})})}}var Fr="3.1.0-alpha.6",xn=String.fromCharCode(65535),Qn=-Infinity,vn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Pr="String expected.",In=[],Zn=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Yr=Zn,$r=Zn,_r=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Un="__dbnames",qn="readonly",er="readwrite";function En(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var An;try{An={indexedDB:m.indexedDB||m.mozIndexedDB||m.webkitIndexedDB||m.msIndexedDB,IDBKeyRange:m.IDBKeyRange||m.webkitIDBKeyRange}}catch(t){An={indexedDB:null,IDBKeyRange:null}}function Tr(t){return t.length===1?t[0]:t}var _n=function(e){try{return e.only([[]]),_n=function(){return[[]]},[[]]}catch(n){return _n=function(){return xn},xn}},Ir={type:3,lower:-Infinity,lowerOpen:!1,get upper(){return _n(An.IDBKeyRange)},upperOpen:!1};function Wn(t){return function(e){return D(e,t)===void 0&&(e=y(e),k(e,t)),e}}var Xr=function(){function t(){}return t.prototype._trans=function(e,n,r){var s=this._tx||Me.trans,u=this.name;function f(C,H,q){if(!q.schema[u])throw new de.NotFound("Table "+u+" not part of transaction");return n(q.idbtrans,q)}var x=lt();try{return s&&s.db===this.db?s===Me.trans?s._promise(e,f,r):$t(function(){return s._promise(e,f,r)},{trans:s,transless:Me.transless||Me}):Or(this.db,e,[this.name],f)}finally{x&&_t()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(s){return r.core.get({trans:s,key:e}).then(function(u){return r.hook.reading.fire(u)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(p(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=a(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(q){return q.compound&&n.every(function(ue){return q.keyPath.indexOf(ue)>=0})&&q.keyPath.every(function(ue){return n.indexOf(ue)>=0})})[0];if(r&&this.db._maxKey!==xn)return this.where(r.name).equals(r.keyPath.map(function(q){return e[q]}));!r&&st&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var s=this.schema.idxByName,u=this.db._deps.indexedDB;function f(q,ue){try{return u.cmp(q,ue)===0}catch(Fe){return!1}}var x=n.reduce(function(q,ue){var Fe=q[0],Pe=q[1],he=s[ue],pe=e[ue];return[Fe||he,Fe||!he?En(Pe,he&&he.multi?function(xe){var re=D(xe,ue);return p(re)&&re.some(function(we){return f(pe,we)})}:function(xe){return f(pe,D(xe,ue))}):Pe]},[null,null]),C=x[0],H=x[1];return C?this.where(C.name).equals(e[C.keyPath]).filter(H):r?this.filter(H):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,p(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(s){if(!s)return s;var u=Object.create(e.prototype);for(var f in s)if(b(s,f))try{u[f]=s[f]}catch(x){}return u};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){c(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,s=this.schema.primKey,u=s.auto,f=s.keyPath,x=e;return f&&u&&(x=Wn(f)(e)),this._trans("readwrite",function(C){return r.core.mutate({trans:C,type:"add",keys:n!=null?[n]:null,values:[x]})}).then(function(C){return C.numFailures?Ce.reject(C.failures[0]):C.lastResult}).then(function(C){if(f)try{L(e,f,C)}catch(H){}return C})},t.prototype.update=function(e,n){if(typeof e=="object"&&!p(e)){var r=D(e,this.schema.primKey.keyPath);if(r===void 0)return kt(new de.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?a(n).forEach(function(s){L(e,s,n[s])}):n(e,{value:e,primKey:r})}catch(s){}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,s=this.schema.primKey,u=s.auto,f=s.keyPath,x=e;return f&&u&&(x=Wn(f)(e)),this._trans("readwrite",function(C){return r.core.mutate({trans:C,type:"put",values:[x],keys:n!=null?[n]:null})}).then(function(C){return C.numFailures?Ce.reject(C.failures[0]):C.lastResult}).then(function(C){if(f)try{L(e,f,C)}catch(H){}return C})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?Ce.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:Ir})}).then(function(n){return n.numFailures?Ce.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(s){return s.map(function(u){return n.hook.reading.fire(u)})})})},t.prototype.bulkAdd=function(e,n,r){var s=this,u=Array.isArray(n)?n:void 0;r=r||(u?void 0:n);var f=r?r.allKeys:void 0;return this._trans("readwrite",function(x){var C=s.schema.primKey,H=C.auto,q=C.keyPath;if(q&&u)throw new de.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var ue=e.length,Fe=q&&H?e.map(Wn(q)):e;return s.core.mutate({trans:x,type:"add",keys:u,values:Fe,wantResults:f}).then(function(Pe){var he=Pe.numFailures,pe=Pe.results,xe=Pe.lastResult,re=Pe.failures,we=f?pe:xe;if(he===0)return we;throw new oe(s.name+".bulkAdd(): "+he+" of "+ue+" operations failed",Object.keys(re).map(function(me){return re[me]}))})})},t.prototype.bulkPut=function(e,n,r){var s=this,u=Array.isArray(n)?n:void 0;r=r||(u?void 0:n);var f=r?r.allKeys:void 0;return this._trans("readwrite",function(x){var C=s.schema.primKey,H=C.auto,q=C.keyPath;if(q&&u)throw new de.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(u&&u.length!==e.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var ue=e.length,Fe=q&&H?e.map(Wn(q)):e;return s.core.mutate({trans:x,type:"put",keys:u,values:Fe,wantResults:f}).then(function(Pe){var he=Pe.numFailures,pe=Pe.results,xe=Pe.lastResult,re=Pe.failures,we=f?pe:xe;if(he===0)return we;throw new oe(s.name+".bulkPut(): "+he+" of "+ue+" operations failed",Object.keys(re).map(function(me){return re[me]}))})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"delete",keys:e})}).then(function(s){var u=s.numFailures,f=s.lastResult,x=s.failures;if(u===0)return f;throw new oe(n.name+".bulkDelete(): "+u+" of "+r+" operations failed",x)})},t}();function Rn(t){var e={},n=function(C,H){if(H){for(var q=arguments.length,ue=new Array(q-1);--q;)ue[q-1]=arguments[q];return e[C].subscribe.apply(null,ue),t}else if(typeof C=="string")return e[C]};n.addEventType=u;for(var r=1,s=arguments.length;r<s;++r)u(arguments[r]);return n;function u(x,C,H){if(typeof x=="object")return f(x);C||(C=Ie),H||(H=Z);var q={subscribers:[],fire:H,subscribe:function(Fe){q.subscribers.indexOf(Fe)===-1&&(q.subscribers.push(Fe),q.fire=C(q.fire,Fe))},unsubscribe:function(Fe){q.subscribers=q.subscribers.filter(function(Pe){return Pe!==Fe}),q.fire=q.subscribers.reduce(C,H)}};return e[x]=n[x]=q,q}function f(x){a(x).forEach(function(C){var H=x[C];if(p(H))u(C,x[C][0],x[C][1]);else if(H==="asap")var q=u(C,Te,function(){for(var Fe=arguments.length,Pe=new Array(Fe);Fe--;)Pe[Fe]=arguments[Fe];q.subscribers.forEach(function(he){U(function(){he.apply(null,Pe)})})});else throw new de.InvalidArgument("Invalid event config")})}}function kn(t,e){return R(e).from({prototype:t}),e}function Jr(t){return kn(Xr.prototype,function(n,r,s){this.db=t,this._tx=s,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:Rn(null,{creating:[le,Z],reading:[Q,Te],updating:[ge,Z],deleting:[ce,Z]})})}function Mn(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function tr(t,e){t.filter=En(t.filter,e)}function nr(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return En(r(),e())}:e,t.justLimit=n&&!r}function Qr(t,e){t.isMatch=En(t.isMatch,e)}function Vn(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new de.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Ar(t,e,n){var r=Vn(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Hn(t,e,n,r){var s=t.replayFilter?En(t.filter,t.replayFilter()):t.filter;if(t.or){var u={},f=function(C,H,q){if(!s||s(H,q,function(Pe){return H.stop(Pe)},function(Pe){return H.fail(Pe)})){var ue=H.primaryKey,Fe=""+ue;Fe==="[object ArrayBuffer]"&&(Fe=""+new Uint8Array(ue)),b(u,Fe)||(u[Fe]=!0,e(C,H,q))}};return Promise.all([t.or._iterate(f,n),Rr(Ar(t,r,n),t.algorithm,f,!t.keysOnly&&t.valueMapper)])}else return Rr(Ar(t,r,n),En(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function Rr(t,e,n,r){var s=r?function(f,x,C){return n(r(f),x,C)}:n,u=at(s);return t.then(function(f){if(f)return f.start(function(){var x=function(){return f.continue()};(!e||e(f,function(C){return x=C},function(C){f.stop(C),x=Z},function(C){f.fail(C),x=Z}))&&u(f.value,f,function(C){return x=C}),x()})})}var Zr=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,kt.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,kt.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=En(n.algorithm,e)},t.prototype._iterate=function(e,n){return Hn(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&c(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return Hn(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var s=n._ctx,u=s.table.core;if(Mn(s,!0))return u.count({trans:r,query:{index:Vn(s,u.schema),range:s.range}}).then(function(x){return Math.min(x,s.limit)});var f=0;return Hn(s,function(){return++f,!1},r,u).then(function(){return f})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),s=r[0],u=r.length-1;function f(H,q){return q?f(H[r[q]],q-1):H[s]}var x=this._ctx.dir==="next"?1:-1;function C(H,q){var ue=f(H,u),Fe=f(q,u);return ue<Fe?-x:ue>Fe?x:0}return this.toArray(function(H){return H.sort(C)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var s=n._ctx;if(s.dir==="next"&&Mn(s,!0)&&s.limit>0){var u=s.valueMapper,f=Vn(s,s.table.core.schema);return s.table.core.query({trans:r,limit:s.limit,values:!0,query:{index:f,range:s.range}}).then(function(C){var H=C.result;return u?H.map(u):H})}else{var x=[];return Hn(s,function(C){return x.push(C)},r,s.table.core).then(function(){return x})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,Mn(n)?nr(n,function(){var r=e;return function(s,u){return r===0?!0:r===1?(--r,!1):(u(function(){s.advance(r),r=0}),!1)}}):nr(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),nr(this._ctx,function(){var n=e;return function(r,s,u){return--n<=0&&s(u),n>=0}},!0),this},t.prototype.until=function(e,n){return tr(this._ctx,function(r,s,u){return e(r.value)?(s(u),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return tr(this._ctx,function(n){return e(n.value)}),Qr(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.key,s)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.primaryKey,s)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,u){r.push(u.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&Mn(n,!0)&&n.limit>0)return this._read(function(s){var u=Vn(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:u,range:n.range}})}).then(function(s){var u=s.result;return u}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,u){r.push(u.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return tr(this._ctx,function(s){var u=s.primaryKey.toString(),f=b(r,u);return r[u]=!0,!f}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(s){var u;if(typeof e=="function")u=e;else{var f=a(e),x=f.length;u=function(me){for(var Oe=!1,se=0;se<x;++se){var be=f[se],ye=e[be];D(me,be)!==ye&&(L(me,be,ye),Oe=!0)}return Oe}}var C=r.table.core,H=C.schema.primaryKey,q=H.outbound,ue=H.extractKey,Fe=n.db._options.modifyChunkSize||200,Pe=n.db.core.cmp,he=[],pe=0,xe=[],re=function(me,Oe){var se=Oe.failures,be=Oe.numFailures;pe+=me-be;for(var ye=0,De=a(se);ye<De.length;ye++){var Le=De[ye];he.push(se[Le])}};return n.clone().primaryKeys().then(function(we){var me=function Oe(se){var be=Math.min(Fe,we.length-se);return C.getMany({trans:s,keys:we.slice(se,se+be),cache:"immutable"}).then(function(ye){for(var De=[],Le=[],Ne=q?[]:null,Ke=[],Ue=0;Ue<be;++Ue){var Ze=ye[Ue],Ye={value:y(Ze),primKey:we[se+Ue]};u.call(Ye,Ye.value,Ye)!==!1&&(Ye.value==null?Ke.push(we[se+Ue]):!q&&Pe(ue(Ze),ue(Ye.value))!==0?(Ke.push(we[se+Ue]),De.push(Ye.value)):(Le.push(Ye.value),q&&Ne.push(we[se+Ue])))}return Promise.resolve(De.length>0&&C.mutate({trans:s,type:"add",values:De}).then(function(ht){for(var rn in ht.failures)Ke.splice(parseInt(rn),1);re(De.length,ht)})).then(function(){return Le.length>0&&C.mutate({trans:s,type:"put",keys:Ne,values:Le}).then(function(ht){return re(Le.length,ht)})}).then(function(){return Ke.length>0&&C.mutate({trans:s,type:"delete",keys:Ke}).then(function(ht){return re(Ke.length,ht)})}).then(function(){return we.length>se+be&&Oe(se+Fe)})})};return me(0).then(function(){if(he.length>0)throw new K("Error modifying one or more objects",he,pe,xe);return we.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return Mn(e)&&(e.isPrimKey&&!$r||n.type===3)?this._write(function(r){var s=e.table.core.schema.primaryKey,u=n;return e.table.core.count({trans:r,query:{index:s,range:u}}).then(function(f){return e.table.core.mutate({trans:r,type:"deleteRange",range:u}).then(function(x){var C=x.failures,H=x.lastResult,q=x.results,ue=x.numFailures;if(ue)throw new K("Could not delete some values",Object.keys(C).map(function(Fe){return C[Fe]}),f-ue);return f-ue})})}):this.modify(function(r,s){return s.value=null})},t}();function qr(t){return kn(Zr.prototype,function(n,r){this.db=t;var s=Ir,u=null;if(r)try{s=r()}catch(H){u=H}var f=n._ctx,x=f.table,C=x.hook.reading.fire;this._ctx={table:x,index:f.index,isPrimKey:!f.index||x.schema.primKey.keyPath&&f.index===x.schema.primKey.name,range:s,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:u,or:f.or,valueMapper:C!==Te?C:null}})}function ea(t,e){return t<e?-1:t===e?0:1}function ta(t,e){return t>e?-1:t===e?0:1}function Wt(t,e,n){var r=t instanceof Mr?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Tn(t){return new t.Collection(t,function(){return kr("")}).limit(0)}function na(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function ra(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function aa(t,e,n,r,s,u){for(var f=Math.min(t.length,r.length),x=-1,C=0;C<f;++C){var H=e[C];if(H!==r[C])return s(t[C],n[C])<0?t.substr(0,C)+n[C]+n.substr(C+1):s(t[C],r[C])<0?t.substr(0,C)+r[C]+n.substr(C+1):x>=0?t.substr(0,x)+e[x]+n.substr(x+1):null;s(t[C],H)<0&&(x=C)}return f<r.length&&u==="next"?t+n.substr(t.length):f<t.length&&u==="prev"?t.substr(0,n.length):x<0?null:t.substr(0,x)+r[x]+n.substr(x+1)}function Gn(t,e,n,r){var s,u,f,x,C,H,q,ue=n.length;if(!n.every(function(pe){return typeof pe=="string"}))return Wt(t,Pr);function Fe(pe){s=na(pe),u=ra(pe),f=pe==="next"?ea:ta;var xe=n.map(function(re){return{lower:u(re),upper:s(re)}}).sort(function(re,we){return f(re.lower,we.lower)});x=xe.map(function(re){return re.upper}),C=xe.map(function(re){return re.lower}),H=pe,q=pe==="next"?"":r}Fe("next");var Pe=new t.Collection(t,function(){return yn(x[0],C[ue-1]+r)});Pe._ondirectionchange=function(pe){Fe(pe)};var he=0;return Pe._addAlgorithm(function(pe,xe,re){var we=pe.key;if(typeof we!="string")return!1;var me=u(we);if(e(me,C,he))return!0;for(var Oe=null,se=he;se<ue;++se){var be=aa(we,me,x[se],C[se],f,H);be===null&&Oe===null?he=se+1:(Oe===null||f(Oe,be)>0)&&(Oe=be)}return xe(Oe!==null?function(){pe.continue(Oe+q)}:re),!1}),Pe}function yn(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function kr(t){return{type:1,lower:t,upper:t}}var Mr=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),t.prototype.between=function(e,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||s)&&!(r&&s)?Tn(this):new this.Collection(this,function(){return yn(e,n,!r,!s)})}catch(u){return Wt(this,vn)}},t.prototype.equals=function(e){return e==null?Wt(this,vn):new this.Collection(this,function(){return kr(e)})},t.prototype.above=function(e){return e==null?Wt(this,vn):new this.Collection(this,function(){return yn(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?Wt(this,vn):new this.Collection(this,function(){return yn(e,void 0,!1)})},t.prototype.below=function(e){return e==null?Wt(this,vn):new this.Collection(this,function(){return yn(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?Wt(this,vn):new this.Collection(this,function(){return yn(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?Wt(this,Pr):this.between(e,e+xn,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Gn(this,function(n,r){return n.indexOf(r[0])===0},[e],xn)},t.prototype.equalsIgnoreCase=function(e){return Gn(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=Ge.apply(ie,arguments);return e.length===0?Tn(this):Gn(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=Ge.apply(ie,arguments);return e.length===0?Tn(this):Gn(this,function(n,r){return r.some(function(s){return n.indexOf(s)===0})},e,xn)},t.prototype.anyOf=function(){var e=this,n=Ge.apply(ie,arguments),r=this._cmp;try{n.sort(r)}catch(f){return Wt(this,vn)}if(n.length===0)return Tn(this);var s=new this.Collection(this,function(){return yn(n[0],n[n.length-1])});s._ondirectionchange=function(f){r=f==="next"?e._ascending:e._descending,n.sort(r)};var u=0;return s._addAlgorithm(function(f,x,C){for(var H=f.key;r(H,n[u])>0;)if(++u,u===n.length)return x(C),!1;return r(H,n[u])===0?!0:(x(function(){f.continue(n[u])}),!1)}),s},t.prototype.notEqual=function(e){return this.inAnyRange([[Qn,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=Ge.apply(ie,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch(r){return Wt(this,vn)}var n=e.reduce(function(r,s){return r?r.concat([[r[r.length-1][1],s]]):[[Qn,s]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,s=this._cmp,u=this._ascending,f=this._descending,x=this._min,C=this._max;if(e.length===0)return Tn(this);if(!e.every(function(se){return se[0]!==void 0&&se[1]!==void 0&&u(se[0],se[1])<=0}))return Wt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",de.InvalidArgument);var H=!n||n.includeLowers!==!1,q=n&&n.includeUppers===!0;function ue(se,be){for(var ye=0,De=se.length;ye<De;++ye){var Le=se[ye];if(s(be[0],Le[1])<0&&s(be[1],Le[0])>0){Le[0]=x(Le[0],be[0]),Le[1]=C(Le[1],be[1]);break}}return ye===De&&se.push(be),se}var Fe=u;function Pe(se,be){return Fe(se[0],be[0])}var he;try{he=e.reduce(ue,[]),he.sort(Pe)}catch(se){return Wt(this,vn)}var pe=0,xe=q?function(se){return u(se,he[pe][1])>0}:function(se){return u(se,he[pe][1])>=0},re=H?function(se){return f(se,he[pe][0])>0}:function(se){return f(se,he[pe][0])>=0};function we(se){return!xe(se)&&!re(se)}var me=xe,Oe=new this.Collection(this,function(){return yn(he[0][0],he[he.length-1][1],!H,!q)});return Oe._ondirectionchange=function(se){se==="next"?(me=xe,Fe=u):(me=re,Fe=f),he.sort(Pe)},Oe._addAlgorithm(function(se,be,ye){for(var De=se.key;me(De);)if(++pe,pe===he.length)return be(ye),!1;return we(De)?!0:(r._cmp(De,he[pe][1])===0||r._cmp(De,he[pe][0])===0||be(function(){Fe===u?se.continue(he[pe][0]):se.continue(he[pe][1])}),!1)}),Oe},t.prototype.startsWithAnyOf=function(){var e=Ge.apply(ie,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?Tn(this):this.inAnyRange(e.map(function(n){return[n,n+xn]})):Wt(this,"startsWithAnyOf() only works with strings")},t}();function ia(t){return kn(Mr.prototype,function(n,r,s){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:s};var u=t._deps.indexedDB;if(!u)throw new de.MissingAPI;this._cmp=this._ascending=u.cmp.bind(u),this._descending=function(f,x){return u.cmp(x,f)},this._max=function(f,x){return u.cmp(f,x)>0?f:x},this._min=function(f,x){return u.cmp(f,x)<0?f:x},this._IDBKeyRange=t._deps.IDBKeyRange})}function ln(t){return at(function(e){return Dn(e),t(e.target.error),!1})}function Dn(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Cn=Rn(null,"txcommitted"),oa=function(){function t(){}return t.prototype._lock=function(){return B(!Me.global),++this._reculock,this._reculock===1&&!Me.global&&(Me.lockOwnerFor=this),this},t.prototype._unlock=function(){if(B(!Me.global),--this._reculock==0)for(Me.global||(Me.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{un(e[1],e[0])}catch(n){}}return this},t.prototype._locked=function(){return this._reculock&&Me.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,s=this.db._state.dbOpenError;if(B(!this.idbtrans),!e&&!r)switch(s&&s.name){case"DatabaseClosedError":throw new de.DatabaseClosed(s);case"MissingAPIError":throw new de.MissingAPI(s.message,s);default:throw new de.OpenFailed(s)}if(!this.active)throw new de.TransactionInactive;return B(this._completion._state===null),e=this.idbtrans=e||r.transaction(Tr(this.storeNames),this.mode),e.onerror=at(function(u){Dn(u),n._reject(e.error)}),e.onabort=at(function(u){Dn(u),n.active&&n._reject(new de.Abort(e.error)),n.active=!1,n.on("abort").fire(u)}),e.oncomplete=at(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&Cn.txcommitted.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,r){var s=this;if(e==="readwrite"&&this.mode!=="readwrite")return kt(new de.ReadOnly("Transaction is readonly"));if(!this.active)return kt(new de.TransactionInactive);if(this._locked())return new Ce(function(f,x){s._blockedFuncs.push([function(){s._promise(e,n,r).then(f,x)},Me])});if(r)return $t(function(){var f=new Ce(function(x,C){s._lock();var H=n(x,C,s);H&&H.then&&H.then(x,C)});return f.finally(function(){return s._unlock()}),f._lib=!0,f});var u=new Ce(function(f,x){var C=n(f,x,s);C&&C.then&&C.then(f,x)});return u._lib=!0,u},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=Ce.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function f(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-Infinity).onsuccess=f)})()}var u=n._waitingFor;return new Ce(function(f,x){r.then(function(C){return n._waitingQueue.push(at(f.bind(null,C)))},function(C){return n._waitingQueue.push(at(x.bind(null,C)))}).finally(function(){n._waitingFor===u&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&this._reject(new de.Abort),this.active=!1},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(b(n,e))return n[e];var r=this.schema[e];if(!r)throw new de.NotFound("Table "+e+" not part of transaction");var s=new this.db.Table(e,r,this);return s.core=this.db.core.table(e),n[e]=s,s},t}();function sa(t){return kn(oa.prototype,function(n,r,s,u){var f=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=s,this.idbtrans=null,this.on=Rn(this,"complete","error","abort"),this.parent=u||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(function(x,C){f._resolve=x,f._reject=C}),this._completion.then(function(){f.active=!1,f.on.complete.fire()},function(x){var C=f.active;return f.active=!1,f.on.error.fire(x),f.parent?f.parent._reject(x):C&&f.idbtrans&&f.idbtrans.abort(),kt(x)})})}function rr(t,e,n,r,s,u,f){return{name:t,keyPath:e,unique:n,multi:r,auto:s,compound:u,src:(n&&!f?"&":"")+(r?"*":"")+(s?"++":"")+Dr(e)}}function Dr(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Nr(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:z(n,function(r){return[r.name,r]})}}function ar(t){return t==null?function(){}:typeof t=="string"?ua(t):function(e){return D(e,t)}}function ua(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return D(n,t)}}function Br(t){return[].slice.call(t)}var la=0;function Nn(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function ca(t,e,n,r){var s=e.cmp.bind(e);function u(Pe,he){var pe=Br(Pe.objectStoreNames);return{schema:{name:Pe.name,tables:pe.map(function(xe){return he.objectStore(xe)}).map(function(xe){var re=xe.keyPath,we=xe.autoIncrement,me=p(re),Oe=re==null,se={},be={name:xe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Oe,compound:me,keyPath:re,autoIncrement:we,unique:!0,extractKey:ar(re)},indexes:Br(xe.indexNames).map(function(ye){return xe.index(ye)}).map(function(ye){var De=ye.name,Le=ye.unique,Ne=ye.multiEntry,Ke=ye.keyPath,Ue=p(Ke),Ze={name:De,compound:Ue,keyPath:Ke,unique:Le,multiEntry:Ne,extractKey:ar(Ke)};return se[Nn(Ke)]=Ze,Ze}),getIndexByKeyPath:function(De){return se[Nn(De)]}};return se[":id"]=be.primaryKey,re!=null&&(se[Nn(re)]=be.primaryKey),be})},hasGetAll:pe.length>0&&"getAll"in he.objectStore(pe[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function f(Pe){if(Pe.type===3)return null;if(Pe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var he=Pe.lower,pe=Pe.upper,xe=Pe.lowerOpen,re=Pe.upperOpen,we=he===void 0?pe===void 0?null:n.upperBound(pe,!!re):pe===void 0?n.lowerBound(he,!!xe):n.bound(he,pe,!!xe,!!re);return we}function x(Pe){var he=Pe.name;function pe(we){var me=we.trans,Oe=we.type,se=we.keys,be=we.values,ye=we.range;return new Promise(function(De,Le){De=at(De);var Ne=me.objectStore(he),Ke=Ne.keyPath==null,Ue=Oe==="put"||Oe==="add";if(!Ue&&Oe!=="delete"&&Oe!=="deleteRange")throw new Error("Invalid operation type: "+Oe);var Ze=(se||be||{length:1}).length;if(se&&be&&se.length!==be.length)throw new Error("Given keys array must have same length as given values array.");if(Ze===0)return De({numFailures:0,failures:{},results:[],lastResult:void 0});var Ye,ht=[],rn=[],We=0,an=function(Sn){++We,Dn(Sn)};if(Oe==="deleteRange"){if(ye.type===4)return De({numFailures:We,failures:rn,results:[],lastResult:void 0});ye.type===3?ht.push(Ye=Ne.clear()):ht.push(Ye=Ne.delete(f(ye)))}else{var Jt=Ue?Ke?[be,se]:[be,null]:[se,null],cn=Jt[0],Vt=Jt[1];if(Ue)for(var Qt=0;Qt<Ze;++Qt)ht.push(Ye=Vt&&Vt[Qt]!==void 0?Ne[Oe](cn[Qt],Vt[Qt]):Ne[Oe](cn[Qt])),Ye.onerror=an;else for(var Qt=0;Qt<Ze;++Qt)ht.push(Ye=Ne[Oe](cn[Qt])),Ye.onerror=an}var fn=function(Sn){var On=Sn.target.result;ht.forEach(function(pn,xr){return pn.error!=null&&(rn[xr]=pn.error)}),De({numFailures:We,failures:rn,results:Oe==="delete"?se:ht.map(function(pn){return pn.result}),lastResult:On})};Ye.onerror=function(bn){an(bn),fn(bn)},Ye.onsuccess=fn})}function xe(we){var me=we.trans,Oe=we.values,se=we.query,be=we.reverse,ye=we.unique;return new Promise(function(De,Le){De=at(De);var Ne=se.index,Ke=se.range,Ue=me.objectStore(he),Ze=Ne.isPrimaryKey?Ue:Ue.index(Ne.name),Ye=be?ye?"prevunique":"prev":ye?"nextunique":"next",ht=Oe||!("openKeyCursor"in Ze)?Ze.openCursor(f(Ke),Ye):Ze.openKeyCursor(f(Ke),Ye);ht.onerror=ln(Le),ht.onsuccess=at(function(rn){var We=ht.result;if(!We){De(null);return}We.___id=++la,We.done=!1;var an=We.continue.bind(We),Jt=We.continuePrimaryKey;Jt&&(Jt=Jt.bind(We));var cn=We.advance.bind(We),Vt=function(){throw new Error("Cursor not started")},Qt=function(){throw new Error("Cursor not stopped")};We.trans=me,We.stop=We.continue=We.continuePrimaryKey=We.advance=Vt,We.fail=at(Le),We.next=function(){var fn=this,bn=1;return this.start(function(){return bn--?fn.continue():fn.stop()}).then(function(){return fn})},We.start=function(fn){var bn=new Promise(function(On,pn){On=at(On),ht.onerror=ln(pn),We.fail=pn,We.stop=function(xr){We.stop=We.continue=We.continuePrimaryKey=We.advance=Qt,On(xr)}}),Sn=function(){if(ht.result)try{fn()}catch(pn){We.fail(pn)}else We.done=!0,We.start=function(){throw new Error("Cursor behind last entry")},We.stop()};return ht.onsuccess=at(function(On){ht.onsuccess=Sn,Sn()}),We.continue=an,We.continuePrimaryKey=Jt,We.advance=cn,Sn(),bn},De(We)},Le)})}function re(we){return function(me){return new Promise(function(Oe,se){Oe=at(Oe);var be=me.trans,ye=me.values,De=me.limit,Le=me.query,Ne=De===Infinity?void 0:De,Ke=Le.index,Ue=Le.range,Ze=be.objectStore(he),Ye=Ke.isPrimaryKey?Ze:Ze.index(Ke.name),ht=f(Ue);if(De===0)return Oe({result:[]});if(we){var rn=ye?Ye.getAll(ht,Ne):Ye.getAllKeys(ht,Ne);rn.onsuccess=function(cn){return Oe({result:cn.target.result})},rn.onerror=ln(se)}else{var We=0,an=ye||!("openKeyCursor"in Ye)?Ye.openCursor(ht):Ye.openKeyCursor(ht),Jt=[];an.onsuccess=function(cn){var Vt=an.result;if(!Vt)return Oe({result:Jt});if(Jt.push(ye?Vt.value:Vt.primaryKey),++We===De)return Oe({result:Jt});Vt.continue()},an.onerror=ln(se)}})}}return{name:he,schema:Pe,mutate:pe,getMany:function(me){var Oe=me.trans,se=me.keys;return new Promise(function(be,ye){be=at(be);for(var De=Oe.objectStore(he),Le=se.length,Ne=new Array(Le),Ke=0,Ue=0,Ze=0,Ye,ht=function(cn){var Vt=cn.target;(Ne[Vt._pos]=Vt.result)!=null&&++Ze,++Ue===Ke&&be(Ne)},rn=ln(ye),We=0;We<Le;++We){var an=se[We];an!=null&&(Ye=De.get(se[We]),Ye._pos=We,Ye.onsuccess=ht,Ye.onerror=rn,++Ke)}Ke===0&&be(Ne)})},get:function(me){var Oe=me.trans,se=me.key;return new Promise(function(be,ye){be=at(be);var De=Oe.objectStore(he),Le=De.get(se);Le.onsuccess=function(Ne){return be(Ne.target.result)},Le.onerror=ln(ye)})},query:re(q),openCursor:xe,count:function(me){var Oe=me.query,se=me.trans,be=Oe.index,ye=Oe.range;return new Promise(function(De,Le){var Ne=se.objectStore(he),Ke=be.isPrimaryKey?Ne:Ne.index(be.name),Ue=f(ye),Ze=Ue?Ke.count(Ue):Ke.count();Ze.onsuccess=at(function(Ye){return De(Ye.target.result)}),Ze.onerror=ln(Le)})}}}var C=u(t,r),H=C.schema,q=C.hasGetAll,ue=H.tables.map(function(Pe){return x(Pe)}),Fe={};return ue.forEach(function(Pe){return Fe[Pe.name]=Pe}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(he){var pe=Fe[he];if(!pe)throw new Error("Table '"+he+"' not found");return Fe[he]},cmp:s,MIN_KEY:-Infinity,MAX_KEY:_n(n),schema:H}}function fa(t,e){return e.reduce(function(n,r){var s=r.create;return d(d({},n),s(n))},t)}function da(t,e,n,r){var s=n.IDBKeyRange,u=n.indexedDB,f=fa(ca(e,u,s,r),t.dbcore);return{dbcore:f}}function ir(t,e){var n=e.db,r=da(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(function(s){var u=s.name;t.core.schema.tables.some(function(f){return f.name===u})&&(s.core=t.core.table(u),t[u]instanceof t.Table&&(t[u].core=s.core))})}function Yn(t,e,n,r){n.forEach(function(s){var u=r[s];e.forEach(function(f){var x=h(f,s);(!x||"value"in x&&x.value===void 0)&&(f===t.Transaction.prototype||f instanceof t.Transaction?T(f,s,{get:function(){return this.table(s)},set:function(H){O(this,s,{value:H,writable:!0,configurable:!0,enumerable:!0})}}):f[s]=new t.Table(s,u))})})}function or(t,e){e.forEach(function(n){for(var r in n)n[r]instanceof t.Table&&delete n[r]})}function va(t,e){return t._cfg.version-e._cfg.version}function ha(t,e,n,r){var s=t._dbSchema,u=t._createTransaction("readwrite",t._storeNames,s);u.create(n),u._completion.catch(r);var f=u._reject.bind(u),x=Me.transless||Me;$t(function(){Me.trans=u,Me.transless=x,e===0?(a(s).forEach(function(C){sr(n,C,s[C].primKey,s[C].indexes)}),ir(t,n),Ce.follow(function(){return t.on.populate.fire(u)}).catch(f)):pa(t,e,u,n).catch(f)})}function pa(t,e,n,r){var s=[],u=t._versions,f=t._dbSchema=lr(t,t.idbdb,r),x=!1,C=u.filter(function(q){return q._cfg.version>=e});C.forEach(function(q){s.push(function(){var ue=f,Fe=q._cfg.dbschema;cr(t,ue,r),cr(t,Fe,r),f=t._dbSchema=Fe;var Pe=jr(ue,Fe);Pe.add.forEach(function(me){sr(r,me[0],me[1].primKey,me[1].indexes)}),Pe.change.forEach(function(me){if(me.recreate)throw new de.Upgrade("Not yet support for changing primary key");var Oe=r.objectStore(me.name);me.add.forEach(function(se){return ur(Oe,se)}),me.change.forEach(function(se){Oe.deleteIndex(se.name),ur(Oe,se)}),me.del.forEach(function(se){return Oe.deleteIndex(se)})});var he=q._cfg.contentUpgrade;if(he&&q._cfg.version>e){ir(t,r),n._memoizedTables={},x=!0;var pe=J(Fe);Pe.del.forEach(function(me){pe[me]=ue[me]}),or(t,[t.Transaction.prototype]),Yn(t,[t.Transaction.prototype],a(pe),pe),n.schema=pe;var xe=ot(he);xe&&Ct();var re,we=Ce.follow(function(){if(re=he(n),re&&xe){var me=Qe.bind(null,null);re.then(me,me)}});return re&&typeof re.then=="function"?Ce.resolve(re):we.then(function(){return re})}}),s.push(function(ue){if(!x||!Yr){var Fe=q._cfg.dbschema;ga(Fe,ue)}or(t,[t.Transaction.prototype]),Yn(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema})});function H(){return s.length?Ce.resolve(s.shift()(n.idbtrans)).then(H):Ce.resolve()}return H().then(function(){ma(f,r)})}function jr(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var s=t[r],u=e[r];if(!s)n.add.push([r,u]);else{var f={name:r,def:u,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(u.primKey.keyPath||"")||s.primKey.auto!==u.primKey.auto&&!Zn)f.recreate=!0,n.change.push(f);else{var x=s.idxByName,C=u.idxByName,H=void 0;for(H in x)C[H]||f.del.push(H);for(H in C){var q=x[H],ue=C[H];q?q.src!==ue.src&&f.change.push(ue):f.add.push(ue)}(f.del.length>0||f.add.length>0||f.change.length>0)&&n.change.push(f)}}}return n}function sr(t,e,n,r){var s=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(u){return ur(s,u)}),s}function ma(t,e){a(t).forEach(function(n){e.db.objectStoreNames.contains(n)||sr(e,n,t[n].primKey,t[n].indexes)})}function ga(t,e){for(var n=0;n<e.db.objectStoreNames.length;++n){var r=e.db.objectStoreNames[n];t[r]==null&&e.db.deleteObjectStore(r)}}function ur(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function lr(t,e,n){var r={},s=M(e.objectStoreNames,0);return s.forEach(function(u){for(var f=n.objectStore(u),x=f.keyPath,C=rr(Dr(x),x||"",!1,!1,!!f.autoIncrement,x&&typeof x!="string",!0),H=[],q=0;q<f.indexNames.length;++q){var ue=f.index(f.indexNames[q]);x=ue.keyPath;var Fe=rr(ue.name,x,!!ue.unique,!!ue.multiEntry,!1,x&&typeof x!="string",!1);H.push(Fe)}r[u]=Nr(u,C,H)}),r}function ya(t,e,n){t.verno=e.version/10;var r=t._dbSchema=lr(t,e,n);t._storeNames=M(e.objectStoreNames,0),Yn(t,[t._allTables],a(r),r)}function ba(t,e){var n=lr(t,t.idbdb,e),r=jr(n,t._dbSchema);return!(r.add.length||r.change.some(function(s){return s.add.length||s.change.length}))}function cr(t,e,n){for(var r=n.db.objectStoreNames,s=0;s<r.length;++s){var u=r[s],f=n.objectStore(u);t._hasGetAll="getAll"in f;for(var x=0;x<f.indexNames.length;++x){var C=f.indexNames[x],H=f.index(C).keyPath,q=typeof H=="string"?H:"["+M(H).join("+")+"]";if(e[u]){var ue=e[u].idxByName[q];ue&&(ue.name=C,delete e[u].idxByName[q],e[u].idxByName[C]=ue)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&m.WorkerGlobalScope&&m instanceof m.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function xa(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),s=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return rr(r,s||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),p(s),n===0)})}var Ea=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){a(e).forEach(function(r){if(e[r]!==null){var s=xa(e[r]),u=s.shift();if(u.multi)throw new de.Schema("Primary key cannot be multi-valued");s.forEach(function(f){if(f.auto)throw new de.Schema("Only primary key can be marked as autoIncrement (++)");if(!f.keyPath)throw new de.Schema("Index must have a name and cannot be an empty string")}),n[r]=Nr(r,u,s)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,e):e;var r=n._versions,s={},u={};return r.forEach(function(f){c(s,f._cfg.storesSource),u=f._cfg.dbschema={},f._parseStoresSpec(s,u)}),n._dbSchema=u,or(n,[n._allTables,n,n.Transaction.prototype]),Yn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],a(u),u),n._storeNames=a(u),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=e,this},t}();function Ca(t){return kn(Ea.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function fr(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Xn(Un,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function dr(t){return t&&typeof t.databases=="function"}function wa(t){var e=t.indexedDB,n=t.IDBKeyRange;return dr(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(s){return s.name}).filter(function(s){return s!==Un})}):fr(e,n).toCollection().primaryKeys()}function Sa(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!dr(n)&&e!==Un&&fr(n,r).put({name:e}).catch(Z)}function Oa(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!dr(n)&&e!==Un&&fr(n,r).delete(e).catch(Z)}function vr(t){return $t(function(){return Me.letThrough=!0,t()})}function Fa(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?kt(e.dbOpenError):t});st&&(e.openCanceller._stackHolder=$e()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.dbReadyResolve,s=null;return Ce.race([e.openCanceller,new Ce(function(u,f){if(!n)throw new de.MissingAPI;var x=t.name,C=e.autoSchema?n.open(x):n.open(x,Math.round(t.verno*10));if(!C)throw new de.MissingAPI;C.onerror=ln(f),C.onblocked=at(t._fireOnBlocked),C.onupgradeneeded=at(function(H){if(s=C.transaction,e.autoSchema&&!t._options.allowEmptyDB){C.onerror=Dn,s.abort(),C.result.close();var q=n.deleteDatabase(x);q.onsuccess=q.onerror=at(function(){f(new de.NoSuchDatabase("Database "+x+" doesnt exist"))})}else{s.onerror=ln(f);var ue=H.oldVersion>Math.pow(2,62)?0:H.oldVersion;t.idbdb=C.result,ha(t,ue/10,s,f)}},f),C.onsuccess=at(function(){s=null;var H=t.idbdb=C.result,q=M(H.objectStoreNames);if(q.length>0)try{var ue=H.transaction(Tr(q),"readonly");e.autoSchema?ya(t,H,ue):(cr(t,t._dbSchema,ue),ba(t,ue)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),ir(t,ue)}catch(Fe){}In.push(t),H.onversionchange=at(function(Fe){e.vcFired=!0,t.on("versionchange").fire(Fe)}),Sa(t._deps,x),u()},f)})]).then(function(){return e.onReadyBeingFired=[],Ce.resolve(vr(t.on.ready.fire)).then(function u(){if(e.onReadyBeingFired.length>0){var f=e.onReadyBeingFired.reduce(ve,Z);return e.onReadyBeingFired=[],Ce.resolve(vr(f)).then(u)}})}).finally(function(){e.onReadyBeingFired=null}).then(function(){return e.isBeingOpened=!1,t}).catch(function(u){try{s&&s.abort()}catch(f){}return e.isBeingOpened=!1,t.close(),e.dbOpenError=u,kt(e.dbOpenError)}).finally(function(){e.openComplete=!0,r()})}function hr(t){var e=function(x){return t.next(x)},n=function(x){return t.throw(x)},r=u(e),s=u(n);function u(f){return function(x){var C=f(x),H=C.value;return C.done?H:!H||typeof H.then!="function"?p(H)?Promise.all(H).then(r,s):r(H):H.then(r,s)}}return u(e)()}function Pa(t,e,n){var r=arguments.length;if(r<2)throw new de.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];n=s.pop();var u=ae(s);return[t,u,n]}function _a(t,e,n,r,s){return Ce.resolve().then(function(){var u=Me.transless||Me,f=t._createTransaction(e,n,t._dbSchema,r),x={trans:f,transless:u};r?f.idbtrans=r.idbtrans:f.create();var C=ot(s);C&&Ct();var H,q=Ce.follow(function(){if(H=s.call(f,f),H)if(C){var ue=Qe.bind(null,null);H.then(ue,ue)}else typeof H.next=="function"&&typeof H.throw=="function"&&(H=hr(H))},x);return(H&&typeof H.then=="function"?Ce.resolve(H).then(function(ue){return f.active?ue:kt(new de.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):q.then(function(){return H})).then(function(ue){return r&&f._resolve(),f._completion.then(function(){return ue})}).catch(function(ue){return f._reject(ue),kt(ue)})})}function Bn(t,e,n){for(var r=p(t)?t.slice():[t],s=0;s<n;++s)r.push(e);return r}function Ta(t){return d(d({},t),{table:function(n){var r=t.table(n),s=r.schema,u={},f=[];function x(xe,re,we){var me=Nn(xe),Oe=u[me]=u[me]||[],se=xe==null?0:typeof xe=="string"?1:xe.length,be=re>0,ye=d(d({},we),{isVirtual:be,isPrimaryKey:!be&&we.isPrimaryKey,keyTail:re,keyLength:se,extractKey:ar(xe),unique:!be&&we.unique});if(Oe.push(ye),ye.isPrimaryKey||f.push(ye),se>1){var De=se===2?xe[0]:xe.slice(0,se-1);x(De,re+1,we)}return Oe.sort(function(Le,Ne){return Le.keyTail-Ne.keyTail}),ye}var C=x(s.primaryKey.keyPath,0,s.primaryKey);u[":id"]=[C];for(var H=0,q=s.indexes;H<q.length;H++){var ue=q[H];x(ue.keyPath,0,ue)}function Fe(xe){var re=u[Nn(xe)];return re&&re[0]}function Pe(xe,re){return{type:xe.type===1?2:xe.type,lower:Bn(xe.lower,xe.lowerOpen?t.MAX_KEY:t.MIN_KEY,re),lowerOpen:!0,upper:Bn(xe.upper,xe.upperOpen?t.MIN_KEY:t.MAX_KEY,re),upperOpen:!0}}function he(xe){var re=xe.query.index;return re.isVirtual?d(d({},xe),{query:{index:re,range:Pe(xe.query.range,re.keyTail)}}):xe}var pe=d(d({},r),{schema:d(d({},s),{primaryKey:C,indexes:f,getIndexByKeyPath:Fe}),count:function(re){return r.count(he(re))},query:function(re){return r.query(he(re))},openCursor:function(re){var we=re.query.index,me=we.keyTail,Oe=we.isVirtual,se=we.keyLength;if(!Oe)return r.openCursor(re);function be(ye){function De(Ne){Ne!=null?ye.continue(Bn(Ne,re.reverse?t.MAX_KEY:t.MIN_KEY,me)):re.unique?ye.continue(Bn(ye.key,re.reverse?t.MIN_KEY:t.MAX_KEY,me)):ye.continue()}var Le=Object.create(ye,{continue:{value:De},continuePrimaryKey:{value:function(Ke,Ue){ye.continuePrimaryKey(Bn(Ke,t.MAX_KEY,me),Ue)}},key:{get:function(){var Ke=ye.key;return se===1?Ke[0]:Ke.slice(0,se)}},value:{get:function(){return ye.value}}});return Le}return r.openCursor(he(re)).then(function(ye){return ye&&be(ye)})}});return pe}})}var Ia={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Ta};function Aa(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var Ra={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return d(d({},e),{table:function(r){var s=e.table(r),u=s.schema.primaryKey,f=d(d({},s),{mutate:function(C){var H=Me.trans,q=H.table(r).hook,ue=q.deleting,Fe=q.creating,Pe=q.updating;switch(C.type){case"add":if(Fe.fire===Z)break;return H._promise("readwrite",function(){return he(C)},!0);case"put":if(Fe.fire===Z&&Pe.fire===Z)break;return H._promise("readwrite",function(){return he(C)},!0);case"delete":if(ue.fire===Z)break;return H._promise("readwrite",function(){return he(C)},!0);case"deleteRange":if(ue.fire===Z)break;return H._promise("readwrite",function(){return pe(C)},!0)}return s.mutate(C);function he(re){var we=Me.trans,me=re.keys||Aa(u,re);if(!me)throw new Error("Keys missing");return re=re.type==="add"||re.type==="put"?d(d({},re),{keys:me}):d({},re),re.type!=="delete"&&(re.values=i(re.values)),re.keys&&(re.keys=i(re.keys)),ka(s,re,me).then(function(Oe){var se=me.map(function(be,ye){var De=Oe[ye],Le={onerror:null,onsuccess:null};if(re.type==="delete")ue.fire.call(Le,be,De,we);else if(re.type==="add"||De===void 0){var Ne=Fe.fire.call(Le,be,re.values[ye],we);be==null&&Ne!=null&&(be=Ne,re.keys[ye]=be,u.outbound||L(re.values[ye],u.keyPath,be))}else{var Ke=$(De,re.values[ye]),Ue=Pe.fire.call(Le,Ke,be,De,we);if(Ue){var Ze=re.values[ye];Object.keys(Ue).forEach(function(Ye){b(Ze,Ye)?Ze[Ye]=Ue[Ye]:L(Ze,Ye,Ue[Ye])})}}return Le});return s.mutate(re).then(function(be){for(var ye=be.failures,De=be.results,Le=be.numFailures,Ne=be.lastResult,Ke=0;Ke<me.length;++Ke){var Ue=De?De[Ke]:me[Ke],Ze=se[Ke];Ue==null?Ze.onerror&&Ze.onerror(ye[Ke]):Ze.onsuccess&&Ze.onsuccess(re.type==="put"&&Oe[Ke]?re.values[Ke]:Ue)}return{failures:ye,results:De,numFailures:Le,lastResult:Ne}}).catch(function(be){return se.forEach(function(ye){return ye.onerror&&ye.onerror(be)}),Promise.reject(be)})})}function pe(re){return xe(re.trans,re.range,1e4)}function xe(re,we,me){return s.query({trans:re,values:!1,query:{index:u,range:we},limit:me}).then(function(Oe){var se=Oe.result;return he({type:"delete",keys:se,trans:re}).then(function(be){return be.numFailures>0?Promise.reject(be.failures[0]):se.length<me?{failures:[],numFailures:0,lastResult:void 0}:xe(re,d(d({},we),{lower:se[se.length-1],lowerOpen:!0}),me)})})}}});return f}})}};function ka(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}var $n;function Xt(t,e){if($n)return $n(t,e);var n=An.indexedDB;if(!n)throw new de.MissingAPI;return $n=function(s,u){try{return s==null||u==null?NaN:n.cmp(s,u)}catch(f){return NaN}},$n(t,e)}function Lr(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],s=0,u=0;s<e.keys.length&&u<t.length;++s)Xt(e.keys[s],t[u])===0&&(r.push(n?y(e.values[s]):e.values[s]),++u);return r.length===t.length?r:null}catch(f){return null}}var Ma={stack:"dbcore",level:-1,create:function(e){return{table:function(r){var s=e.table(r);return d(d({},s),{getMany:function(f){if(!f.cache)return s.getMany(f);var x=Lr(f.keys,f.trans._cache,f.cache==="clone");return x?Ce.resolve(x):s.getMany(f).then(function(C){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?y(C):C},C})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),s.mutate(f)}})}}}},pr;function mr(t){return!("from"in t)}var hn=function t(e,n){if(this)c(this,arguments.length?{d:1,from:e,to:arguments.length>1?n:e}:{d:0});else{var r=new t;return e&&"d"in e&&c(r,e),r}};_(hn.prototype,(pr={add:function(e){return Ln(this,e),this},addKey:function(e){return jn(this,e,e),this},addKeys:function(e){var n=this;return e.forEach(function(r){return jn(n,r,r)}),this}},pr[te]=function(){return gr(this)},pr));function jn(t,e,n){if(Xt(e,n)>0)throw RangeError();if(mr(t))return c(t,{from:e,to:n,d:1});var r=t.l,s=t.r;if(Xt(n,t.from)<0)return r?jn(r,e,n):t.l={from:e,to:n,d:1,l:null,r:null},zr(t);if(Xt(e,t.to)>0)return s?jn(s,e,n):t.r={from:e,to:n,d:1,l:null,r:null},zr(t);Xt(e,t.from)<0&&(t.from=e,t.l=null,t.d=s?s.d+1:1),Xt(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1),r&&!t.l&&Ln(t,r),s&&!t.r&&Ln(t,s)}function Ln(t,e){function n(r,s){var u=s.from,f=s.to,x=s.l,C=s.r;jn(r,u,f),x&&n(r,x),C&&n(r,C)}mr(e)||n(t,e)}function Kr(t,e){var n=gr(e),r=n.next();if(r.done)return!1;for(var s=r.value,u=gr(t),f=u.next(s.from),x=f.value;!r.done&&!f.done;){if(Xt(x.from,s.to)<=0&&Xt(x.to,s.from)>=0)return!0;Xt(s.from,x.from)<0?s=(r=n.next(x.from)).value:x=(f=u.next(s.from)).value}return!1}function gr(t){var e=mr(t)?null:{s:0,n:t};return{next:function(r){for(var s=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,s)for(;e.n.l&&Xt(r,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!s||Xt(r,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function zr(t){var e,n,r=d({},t),s=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),u=s>1?"r":s<-1?"l":"";if(u){var f=u==="r"?"l":"r";c(t,r[u]),c(r[u],r),r[u][u]=t[f],t[f]=r[u],r[u].d=Ur(r[u])}t.d=Ur(t)}function Ur(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}var Da={stack:"dbcore",level:0,create:function(e){var n=e.schema.name,r=new hn(e.MIN_KEY,e.MAX_KEY);return d(d({},e),{table:function(u){var f=e.table(u),x=f.schema,C=x.primaryKey,H=C.extractKey,q=C.outbound,ue=d(d({},f),{mutate:function(pe){var xe=pe.trans,re=xe.mutatedParts||(xe.mutatedParts={}),we=function(Ke){var Ue="idb://"+n+"/"+u+"/"+Ke;return re[Ue]||(re[Ue]=new hn)},me=we(""),Oe=we(":dels"),se=pe.type,be=pe.type==="deleteRange"?[pe.range]:pe.type==="delete"?[pe.keys]:pe.values.length<50?[[],pe.values]:[],ye=be[0],De=be[1],Le=pe.trans._cache;return f.mutate(pe).then(function(Ne){if(p(ye)){se!=="delete"&&(ye=Ne.results),me.addKeys(ye);var Ke=Lr(ye,Le);!Ke&&se!=="add"?Oe.addKeys(ye):Na(we,x,Ke,De)}else if(ye){var Ue={from:ye.lower,to:ye.upper};Oe.add(Ue),me.add(Ue)}else me.add(r),Oe.add(r);return Ne})}}),Fe=function(pe){var xe=pe.query,re=xe.index,we=xe.range,me,Oe;return[re,new hn((me=we.lower)!==null&&me!==void 0?me:e.MIN_KEY,(Oe=we.upper)!==null&&Oe!==void 0?Oe:e.MAX_KEY)]},Pe={get:function(pe){return[C,new hn(pe.key)]},getMany:function(pe){return[C,new hn().addKeys(pe.keys)]},count:Fe,query:Fe,openCursor:Fe};return a(Pe).forEach(function(he){ue[he]=function(pe){var xe=Me.subscr;if(xe){var re=function(Le){var Ne="idb://"+n+"/"+u+"/"+Le;return xe[Ne]||(xe[Ne]=new hn)},we=re(""),me=re(":dels"),Oe=Pe[he](pe),se=Oe[0],be=Oe[1];if(re(se.name||"").add(be),!se.isPrimaryKey)if(he==="count")me.add(r);else{var ye=he==="query"&&q&&pe.values&&f.query(d(d({},pe),{values:!1}));return f[he].apply(this,arguments).then(function(De){if(he==="query"){if(q&&pe.values)return ye.then(function(Ue){var Ze=Ue.result;return we.addKeys(Ze),De});var Le=pe.values?De.result.map(H):De.result;pe.values?we.addKeys(Le):me.addKeys(Le)}else if(he==="openCursor"){var Ne=De,Ke=pe.values;return Ne&&Object.create(Ne,{key:{get:function(){return me.addKey(Ne.primaryKey),Ne.key}},primaryKey:{get:function(){var Ze=Ne.primaryKey;return me.addKey(Ze),Ze}},value:{get:function(){return Ke&&we.addKey(Ne.primaryKey),Ne.value}}})}return De})}}return f[he].apply(this,arguments)}}),ue}})}};function Na(t,e,n,r){function s(u){var f=t(u.name||"");function x(C){return C!=null?u.extractKey(C):null}(n||r).forEach(function(C,H){var q=n&&x(n[H]),ue=r&&x(r[H]);Xt(q,ue)!==0&&(q&&f.addKey(q),ue&&f.addKey(ue))})}e.indexes.forEach(s)}var Xn=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var s=t.dependencies;this._options=n=d({addons:t.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var u=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var f={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Z,dbReadyPromise:null,cancelOpen:Z,openCanceller:null,autoSchema:!0};f.dbReadyPromise=new Ce(function(x){f.dbReadyResolve=x}),f.openCanceller=new Ce(function(x,C){f.cancelOpen=C}),this._state=f,this.name=e,this.on=Rn(this,"populate","blocked","versionchange",{ready:[ve,Z]}),this.on.ready.subscribe=W(this.on.ready.subscribe,function(x){return function(C,H){t.vip(function(){var q=r._state;if(q.openComplete)q.dbOpenError||Ce.resolve().then(C),H&&x(C);else if(q.onReadyBeingFired)q.onReadyBeingFired.push(C),H&&x(C);else{x(C);var ue=r;H||x(function Fe(){ue.on.ready.unsubscribe(C),ue.on.ready.unsubscribe(Fe)})}})}}),this.Collection=qr(this),this.Table=Jr(this),this.Transaction=sa(this),this.Version=Ca(this),this.WhereClause=ia(this),this.on("versionchange",function(x){x.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(x){!x.newVersion||x.newVersion<x.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+x.oldVersion/10)}),this._maxKey=_n(n.IDBKeyRange),this._createTransaction=function(x,C,H,q){return new r.Transaction(x,C,H,q)},this._fireOnBlocked=function(x){r.on("blocked").fire(x),In.filter(function(C){return C.name===r.name&&C!==r&&!C._state.vcFired}).map(function(C){return C.on("versionchange").fire(x)})},this.use(Ia),this.use(Ra),this.use(Da),this.use(Ma),u.forEach(function(x){return x(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new de.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new de.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(s){return s._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(va),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this._state.openComplete||Me.letThrough?e():new Ce(function(r,s){if(!n._state.isBeingOpened){if(!n._options.autoOpen){s(new de.DatabaseClosed);return}n.open().catch(Z)}n._state.dbReadyPromise.then(r,s)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,s=e.level,u=e.name;u&&this.unuse({stack:n,name:u});var f=this._middlewares[n]||(this._middlewares[n]=[]);return f.push({stack:n,create:r,level:s==null?10:s,name:u}),f.sort(function(x,C){return x.level-C.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,s=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(u){return s?u.create!==s:r?u.name!==r:!1})),this},t.prototype.open=function(){return Fa(this)},t.prototype.close=function(){var e=In.indexOf(this),n=this._state;if(e>=0&&In.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(r){}this.idbdb=null}this._options.autoOpen=!1,n.dbOpenError=new de.DatabaseClosed,n.isBeingOpened&&n.cancelOpen(n.dbOpenError),n.dbReadyPromise=new Ce(function(r){n.dbReadyResolve=r}),n.openCanceller=new Ce(function(r,s){n.cancelOpen=s})},t.prototype.delete=function(){var e=this,n=arguments.length>0,r=this._state;return new Ce(function(s,u){var f=function(){e.close();var C=e._deps.indexedDB.deleteDatabase(e.name);C.onsuccess=at(function(){Oa(e._deps,e.name),s()}),C.onerror=ln(u),C.onblocked=e._fireOnBlocked};if(n)throw new de.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(f):f()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var n=this;return a(this._allTables).map(function(r){return n._allTables[r]})},enumerable:!0,configurable:!0}),t.prototype.transaction=function(){var e=Pa.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var s=this,u=Me.trans;(!u||u.db!==this||e.indexOf("!")!==-1)&&(u=null);var f=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var x,C;try{if(C=n.map(function(q){var ue=q instanceof s.Table?q.name:q;if(typeof ue!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ue}),e=="r"||e===qn)x=qn;else if(e=="rw"||e==er)x=er;else throw new de.InvalidArgument("Invalid transaction mode: "+e);if(u){if(u.mode===qn&&x===er)if(f)u=null;else throw new de.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");u&&C.forEach(function(q){if(u&&u.storeNames.indexOf(q)===-1)if(f)u=null;else throw new de.SubTransaction("Table "+q+" not included in parent transaction.")}),f&&u&&!u.active&&(u=null)}}catch(q){return u?u._promise(null,function(ue,Fe){Fe(q)}):kt(q)}var H=_a.bind(null,this,x,C,u,r);return u?u._promise(x,H,"lock"):Me.trans?un(Me.transless,function(){return s._whenReady(H)}):this._whenReady(H)},t.prototype.table=function(e){if(!b(this._allTables,e))throw new de.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),Ba=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",ja=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,r){return this._subscribe(typeof e=="function"?{next:e,error:n,complete:r}:e)},t.prototype[Ba]=function(){return this},t}();function yr(t,e){return a(e).forEach(function(n){var r=t[n]||(t[n]=new hn);Ln(r,e[n])}),t}function Wr(t){return new ja(function(e){var n=ot(t);function r(Pe){n&&Ct();var he=function(){return $t(t,{subscr:Pe,trans:null})},pe=Me.trans?un(Me.transless,he):he();return n&&pe.then(Qe,Qe),pe}var s=!1,u={},f={},x={get closed(){return s},unsubscribe:function(){s=!0,Cn.txcommitted.unsubscribe(ue)}};e.start&&e.start(x);var C=!1,H=!1;function q(){return a(f).some(function(Pe){return u[Pe]&&Kr(u[Pe],f[Pe])})}var ue=function(he){yr(u,he),q()&&Fe()},Fe=function Pe(){if(!(C||s)){u={};var he={},pe=r(he);H||(Cn("txcommitted",ue),H=!0),C=!0,Promise.resolve(pe).then(function(xe){C=!1,!s&&(q()?Pe():(u={},f=he,e.next&&e.next(xe)))},function(xe){C=!1,e.error&&e.error(xe),x.unsubscribe()})}};return Fe(),x})}var wn=Xn;_(wn,d(d({},fe),{delete:function(e){var n=new wn(e);return n.delete()},exists:function(e){return new wn(e,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return wa(wn.dependencies).then(e)}catch(n){return kt(new de.MissingAPI)}},defineClass:function(){function e(n){c(this,n)}return e},ignoreTransaction:function(e){return Me.trans?un(Me.transless,e):e()},vip:vr,async:function(e){return function(){try{var n=hr(e.apply(this,arguments));return!n||typeof n.then!="function"?Ce.resolve(n):n}catch(r){return kt(r)}}},spawn:function(e,n,r){try{var s=hr(e.apply(r,n||[]));return!s||typeof s.then!="function"?Ce.resolve(s):s}catch(u){return kt(u)}},currentTransaction:{get:function(){return Me.trans||null}},waitFor:function(e,n){var r=Ce.resolve(typeof e=="function"?wn.ignoreTransaction(e):e).timeout(n||6e4);return Me.trans?Me.trans.waitFor(r):r},Promise:Ce,debug:{get:function(){return st},set:function(e){ct(e,e==="dexie"?function(){return!0}:_r)}},derive:R,extend:c,props:_,override:W,Events:Rn,on:Cn,liveQuery:Wr,extendObservabilitySet:yr,getByKeyPath:D,setByKeyPath:L,delByKeyPath:k,shallowClone:J,deepClone:y,getObjectDiff:$,asap:U,minKey:Qn,addons:[],connections:In,errnames:Ee,dependencies:An,semVer:Fr,version:Fr.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})})),wn.maxKey=_n(wn.dependencies.IDBKeyRange);function Vr(t){var e=Kn;try{Kn=!0,Cn.txcommitted.fire(t)}finally{Kn=e}}var br=Vr,Kn=!1,Jn={};if(typeof document!="undefined"&&document.addEventListener){var Hr=function(){document.visibilityState==="visible"&&(Object.keys(Jn).length>0&&Vr(Jn),Jn={})};document.addEventListener("visibilitychange",Hr),br=function(e){yr(Jn,e),Hr()}}if(typeof BroadcastChannel!="undefined"){var Gr=new BroadcastChannel("dexie-txcommitted");Cn("txcommitted",function(t){Kn||Gr.postMessage(t)}),Gr.onmessage=function(t){t.data&&br(t.data)}}else typeof localStorage!="undefined"&&(Cn("txcommitted",function(t){try{Kn||localStorage.setItem("dexie-txcommitted",JSON.stringify({trig:Math.random(),changedParts:t}))}catch(e){}}),addEventListener("storage",function(t){if(t.key==="dexie-txcommitted"){var e=JSON.parse(t.newValue);e&&br(e.changedParts)}}));Ce.rejectionMapper=He,ct(st,_r),je.default=Xn},Urep:function(et,je,o){},VXEj:function(et,je,o){"use strict";o.d(je,"a",function(){return Se});var d=o("KQm4"),i=o("wx14"),a=o("rePB"),p=o("ODXe"),m=o("U8pU"),c=o("q1tI"),E=o.n(c),w=o("TSYQ"),b=o.n(w),_=o("W9HT"),O=o("5OYt"),T=o("ACnJ"),R=o("H84U"),g=o("VTBJ"),h=o("1OyB"),S=o("vuIU"),M=o("Ji7U"),W=o("LK+K"),B=function(Z){var Te,Q="".concat(Z.rootPrefixCls,"-item"),A=b()(Q,"".concat(Q,"-").concat(Z.page),(Te={},Object(a.a)(Te,"".concat(Q,"-active"),Z.active),Object(a.a)(Te,Z.className,!!Z.className),Object(a.a)(Te,"".concat(Q,"-disabled"),!Z.page),Te)),le=function(){Z.onClick(Z.page)},ce=function(Ie){Z.onKeyPress(Ie,Z.onClick,Z.page)};return E.a.createElement("li",{title:Z.showTitle?Z.page:null,className:A,onClick:le,onKeyPress:ce,tabIndex:"0"},Z.itemRender(Z.page,"page",E.a.createElement("a",{rel:"nofollow"},Z.page)))},U=B,z={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},N=function(fe){Object(M.a)(Te,fe);var Z=Object(W.a)(Te);function Te(){var Q;Object(h.a)(this,Te);for(var A=arguments.length,le=new Array(A),ce=0;ce<A;ce++)le[ce]=arguments[ce];return Q=Z.call.apply(Z,[this].concat(le)),Q.state={goInputText:""},Q.buildOptionText=function(ge){return"".concat(ge," ").concat(Q.props.locale.items_per_page)},Q.changeSize=function(ge){Q.props.changeSize(Number(ge))},Q.handleChange=function(ge){Q.setState({goInputText:ge.target.value})},Q.handleBlur=function(ge){var Ie=Q.props,ve=Ie.goButton,Ae=Ie.quickGo,ke=Ie.rootPrefixCls,Be=Q.state.goInputText;ve||Be===""||ge.relatedTarget&&(ge.relatedTarget.className.indexOf("".concat(ke,"-prev"))>=0||ge.relatedTarget.className.indexOf("".concat(ke,"-next"))>=0)||(Q.setState({goInputText:""}),Ae(Q.getValidValue()))},Q.go=function(ge){var Ie=Q.state.goInputText;Ie!==""&&(ge.keyCode===z.ENTER||ge.type==="click")&&(Q.setState({goInputText:""}),Q.props.quickGo(Q.getValidValue()))},Q}return Object(S.a)(Te,[{key:"getValidValue",value:function(){var A=this.state.goInputText;return!A||isNaN(A)?void 0:Number(A)}},{key:"getPageSizeOptions",value:function(){var A=this.props,le=A.pageSize,ce=A.pageSizeOptions;return ce.some(function(ge){return ge.toString()===le.toString()})?ce:ce.concat([le.toString()]).sort(function(ge,Ie){var ve=isNaN(Number(ge))?0:Number(ge),Ae=isNaN(Number(Ie))?0:Number(Ie);return ve-Ae})}},{key:"render",value:function(){var A=this,le=this.props,ce=le.pageSize,ge=le.locale,Ie=le.rootPrefixCls,ve=le.changeSize,Ae=le.quickGo,ke=le.goButton,Be=le.selectComponentClass,ze=le.buildOptionText,ft=le.selectPrefixCls,Ve=le.disabled,Je=this.state.goInputText,dt="".concat(Ie,"-options"),nt=Be,pt=null,bt=null,rt=null;if(!ve&&!Ae)return null;var Ot=this.getPageSizeOptions();if(ve&&nt){var Ft=Ot.map(function(Dt,St){return E.a.createElement(nt.Option,{key:St,value:Dt.toString()},(ze||A.buildOptionText)(Dt))});pt=E.a.createElement(nt,{disabled:Ve,prefixCls:ft,showSearch:!1,className:"".concat(dt,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(ce||Ot[0]).toString(),onChange:this.changeSize,getPopupContainer:function(St){return St.parentNode}},Ft)}return Ae&&(ke&&(rt=typeof ke=="boolean"?E.a.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:Ve,className:"".concat(dt,"-quick-jumper-button")},ge.jump_to_confirm):E.a.createElement("span",{onClick:this.go,onKeyUp:this.go},ke)),bt=E.a.createElement("div",{className:"".concat(dt,"-quick-jumper")},ge.jump_to,E.a.createElement("input",{disabled:Ve,type:"text",value:Je,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur}),ge.page,rt)),E.a.createElement("li",{className:"".concat(dt)},pt,bt)}}]),Te}(E.a.Component);N.defaultProps={pageSizeOptions:["10","20","50","100"]};var D=N,L=o("N2Kk");function k(){}function J(fe){return typeof fe=="number"&&isFinite(fe)&&Math.floor(fe)===fe}function ee(fe,Z,Te){return Te}function ae(fe,Z,Te){var Q=typeof fe=="undefined"?Z.pageSize:fe;return Math.floor((Te.total-1)/Q)+1}var Re=function(fe){Object(M.a)(Te,fe);var Z=Object(W.a)(Te);function Te(Q){var A;Object(h.a)(this,Te),A=Z.call(this,Q),A.getJumpPrevPage=function(){return Math.max(1,A.state.current-(A.props.showLessItems?3:5))},A.getJumpNextPage=function(){return Math.min(ae(void 0,A.state,A.props),A.state.current+(A.props.showLessItems?3:5))},A.getItemIcon=function(ve,Ae){var ke=A.props.prefixCls,Be=ve||E.a.createElement("button",{type:"button","aria-label":Ae,className:"".concat(ke,"-item-link")});return typeof ve=="function"&&(Be=E.a.createElement(ve,Object(g.a)({},A.props))),Be},A.savePaginationNode=function(ve){A.paginationNode=ve},A.isValid=function(ve){return J(ve)&&ve!==A.state.current},A.shouldDisplayQuickJumper=function(){var ve=A.props,Ae=ve.showQuickJumper,ke=ve.pageSize,Be=ve.total;return Be<=ke?!1:Ae},A.handleKeyDown=function(ve){(ve.keyCode===z.ARROW_UP||ve.keyCode===z.ARROW_DOWN)&&ve.preventDefault()},A.handleKeyUp=function(ve){var Ae=A.getValidValue(ve),ke=A.state.currentInputValue;Ae!==ke&&A.setState({currentInputValue:Ae}),ve.keyCode===z.ENTER?A.handleChange(Ae):ve.keyCode===z.ARROW_UP?A.handleChange(Ae-1):ve.keyCode===z.ARROW_DOWN&&A.handleChange(Ae+1)},A.changePageSize=function(ve){var Ae=A.state.current,ke=ae(ve,A.state,A.props);Ae=Ae>ke?ke:Ae,ke===0&&(Ae=A.state.current),typeof ve=="number"&&("pageSize"in A.props||A.setState({pageSize:ve}),"current"in A.props||A.setState({current:Ae,currentInputValue:Ae})),A.props.onShowSizeChange(Ae,ve),"onChange"in A.props&&A.props.onChange&&A.props.onChange(Ae,ve)},A.handleChange=function(ve){var Ae=A.props.disabled,ke=ve;if(A.isValid(ke)&&!Ae){var Be=ae(void 0,A.state,A.props);ke>Be?ke=Be:ke<1&&(ke=1),"current"in A.props||A.setState({current:ke,currentInputValue:ke});var ze=A.state.pageSize;return A.props.onChange(ke,ze),ke}return A.state.current},A.prev=function(){A.hasPrev()&&A.handleChange(A.state.current-1)},A.next=function(){A.hasNext()&&A.handleChange(A.state.current+1)},A.jumpPrev=function(){A.handleChange(A.getJumpPrevPage())},A.jumpNext=function(){A.handleChange(A.getJumpNextPage())},A.hasPrev=function(){return A.state.current>1},A.hasNext=function(){return A.state.current<ae(void 0,A.state,A.props)},A.runIfEnter=function(ve,Ae){if(ve.key==="Enter"||ve.charCode===13){for(var ke=arguments.length,Be=new Array(ke>2?ke-2:0),ze=2;ze<ke;ze++)Be[ze-2]=arguments[ze];Ae.apply(void 0,Be)}},A.runIfEnterPrev=function(ve){A.runIfEnter(ve,A.prev)},A.runIfEnterNext=function(ve){A.runIfEnter(ve,A.next)},A.runIfEnterJumpPrev=function(ve){A.runIfEnter(ve,A.jumpPrev)},A.runIfEnterJumpNext=function(ve){A.runIfEnter(ve,A.jumpNext)},A.handleGoTO=function(ve){(ve.keyCode===z.ENTER||ve.type==="click")&&A.handleChange(A.state.currentInputValue)};var le=Q.onChange!==k,ce="current"in Q;ce&&!le&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var ge=Q.defaultCurrent;"current"in Q&&(ge=Q.current);var Ie=Q.defaultPageSize;return"pageSize"in Q&&(Ie=Q.pageSize),ge=Math.min(ge,ae(Ie,void 0,Q)),A.state={current:ge,currentInputValue:ge,pageSize:Ie},A}return Object(S.a)(Te,[{key:"componentDidUpdate",value:function(A,le){var ce=this.props.prefixCls;if(le.current!==this.state.current&&this.paginationNode){var ge=this.paginationNode.querySelector(".".concat(ce,"-item-").concat(le.current));ge&&document.activeElement===ge&&ge.blur()}}},{key:"getValidValue",value:function(A){var le=A.target.value,ce=ae(void 0,this.state,this.props),ge=this.state.currentInputValue,Ie;return le===""?Ie=le:isNaN(Number(le))?Ie=ge:le>=ce?Ie=ce:Ie=Number(le),Ie}},{key:"getShowSizeChanger",value:function(){var A=this.props,le=A.showSizeChanger,ce=A.total,ge=A.totalBoundaryShowSizeChanger;return typeof le!="undefined"?le:ce>ge}},{key:"renderPrev",value:function(A){var le=this.props,ce=le.prevIcon,ge=le.itemRender,Ie=ge(A,"prev",this.getItemIcon(ce,"prev page")),ve=!this.hasPrev();return Object(c.isValidElement)(Ie)?Object(c.cloneElement)(Ie,{disabled:ve}):Ie}},{key:"renderNext",value:function(A){var le=this.props,ce=le.nextIcon,ge=le.itemRender,Ie=ge(A,"next",this.getItemIcon(ce,"next page")),ve=!this.hasNext();return Object(c.isValidElement)(Ie)?Object(c.cloneElement)(Ie,{disabled:ve}):Ie}},{key:"render",value:function(){var A=this,le=this.props,ce=le.prefixCls,ge=le.className,Ie=le.style,ve=le.disabled,Ae=le.hideOnSinglePage,ke=le.total,Be=le.locale,ze=le.showQuickJumper,ft=le.showLessItems,Ve=le.showTitle,Je=le.showTotal,dt=le.simple,nt=le.itemRender,pt=le.showPrevNextJumpers,bt=le.jumpPrevIcon,rt=le.jumpNextIcon,Ot=le.selectComponentClass,Ft=le.selectPrefixCls,Dt=le.pageSizeOptions,St=this.state,qe=St.current,It=St.pageSize,dn=St.currentInputValue;if(Ae===!0&&ke<=It)return null;var mt=ae(void 0,this.state,this.props),gt=[],Me=null,Ht=null,Nt=null,jt=null,Ce=null,Gt=ze&&ze.goButton,At=ft?1:2,Zt=qe-1>0?qe-1:0,qt=qe+1<mt?qe+1:mt,Lt=Object.keys(this.props).reduce(function(at,vt){return(vt.substr(0,5)==="data-"||vt.substr(0,5)==="aria-"||vt==="role")&&(at[vt]=A.props[vt]),at},{});if(dt)return Gt&&(typeof Gt=="boolean"?Ce=E.a.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Be.jump_to_confirm):Ce=E.a.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Gt),Ce=E.a.createElement("li",{title:Ve?"".concat(Be.jump_to).concat(qe,"/").concat(mt):null,className:"".concat(ce,"-simple-pager")},Ce)),E.a.createElement("ul",Object(i.a)({className:b()(ce,"".concat(ce,"-simple"),Object(a.a)({},"".concat(ce,"-disabled"),ve),ge),style:Ie,ref:this.savePaginationNode},Lt),E.a.createElement("li",{title:Ve?Be.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:b()("".concat(ce,"-prev"),Object(a.a)({},"".concat(ce,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(Zt)),E.a.createElement("li",{title:Ve?"".concat(qe,"/").concat(mt):null,className:"".concat(ce,"-simple-pager")},E.a.createElement("input",{type:"text",value:dn,disabled:ve,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"}),E.a.createElement("span",{className:"".concat(ce,"-slash")},"/"),mt),E.a.createElement("li",{title:Ve?Be.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:b()("".concat(ce,"-next"),Object(a.a)({},"".concat(ce,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(qt)),Ce);if(mt<=3+At*2){var on={locale:Be,rootPrefixCls:ce,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:Ve,itemRender:nt};mt||gt.push(E.a.createElement(U,Object(i.a)({},on,{key:"noPager",page:mt,className:"".concat(ce,"-disabled")})));for(var Bt=1;Bt<=mt;Bt+=1){var tt=qe===Bt;gt.push(E.a.createElement(U,Object(i.a)({},on,{key:Bt,page:Bt,active:tt})))}}else{var en=ft?Be.prev_3:Be.prev_5,tn=ft?Be.next_3:Be.next_5;pt&&(Me=E.a.createElement("li",{title:Ve?en:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:b()("".concat(ce,"-jump-prev"),Object(a.a)({},"".concat(ce,"-jump-prev-custom-icon"),!!bt))},nt(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(bt,"prev page"))),Ht=E.a.createElement("li",{title:Ve?tn:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:b()("".concat(ce,"-jump-next"),Object(a.a)({},"".concat(ce,"-jump-next-custom-icon"),!!rt))},nt(this.getJumpNextPage(),"jump-next",this.getItemIcon(rt,"next page")))),jt=E.a.createElement(U,{locale:Be,last:!0,rootPrefixCls:ce,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:mt,page:mt,active:!1,showTitle:Ve,itemRender:nt}),Nt=E.a.createElement(U,{locale:Be,rootPrefixCls:ce,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:Ve,itemRender:nt});var lt=Math.max(1,qe-At),_t=Math.min(qe+At,mt);qe-1<=At&&(_t=1+At*2),mt-qe<=At&&(lt=mt-At*2);for(var Et=lt;Et<=_t;Et+=1){var Yt=qe===Et;gt.push(E.a.createElement(U,{locale:Be,rootPrefixCls:ce,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Et,page:Et,active:Yt,showTitle:Ve,itemRender:nt}))}qe-1>=At*2&&qe!==1+2&&(gt[0]=Object(c.cloneElement)(gt[0],{className:"".concat(ce,"-item-after-jump-prev")}),gt.unshift(Me)),mt-qe>=At*2&&qe!==mt-2&&(gt[gt.length-1]=Object(c.cloneElement)(gt[gt.length-1],{className:"".concat(ce,"-item-before-jump-next")}),gt.push(Ht)),lt!==1&&gt.unshift(Nt),_t!==mt&&gt.push(jt)}var sn=null;Je&&(sn=E.a.createElement("li",{className:"".concat(ce,"-total-text")},Je(ke,[ke===0?0:(qe-1)*It+1,qe*It>ke?ke:qe*It])));var Pt=!this.hasPrev()||!mt,Kt=!this.hasNext()||!mt;return E.a.createElement("ul",Object(i.a)({className:b()(ce,ge,Object(a.a)({},"".concat(ce,"-disabled"),ve)),style:Ie,unselectable:"unselectable",ref:this.savePaginationNode},Lt),sn,E.a.createElement("li",{title:Ve?Be.prev_page:null,onClick:this.prev,tabIndex:Pt?null:0,onKeyPress:this.runIfEnterPrev,className:b()("".concat(ce,"-prev"),Object(a.a)({},"".concat(ce,"-disabled"),Pt)),"aria-disabled":Pt},this.renderPrev(Zt)),gt,E.a.createElement("li",{title:Ve?Be.next_page:null,onClick:this.next,tabIndex:Kt?null:0,onKeyPress:this.runIfEnterNext,className:b()("".concat(ce,"-next"),Object(a.a)({},"".concat(ce,"-disabled"),Kt)),"aria-disabled":Kt},this.renderNext(qt)),E.a.createElement(D,{disabled:ve,locale:Be,rootPrefixCls:ce,selectComponentClass:Ot,selectPrefixCls:Ft,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:qe,pageSize:It,pageSizeOptions:Dt,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:Gt}))}}],[{key:"getDerivedStateFromProps",value:function(A,le){var ce={};if("current"in A&&(ce.current=A.current,A.current!==le.current&&(ce.currentInputValue=ce.current)),"pageSize"in A&&A.pageSize!==le.pageSize){var ge=le.current,Ie=ae(A.pageSize,le,A);ge=ge>Ie?Ie:ge,"current"in A||(ce.current=ge,ce.currentInputValue=ge),ce.pageSize=A.pageSize}return ce}}]),Te}(E.a.Component);Re.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:k,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:k,locale:L.a,style:{},itemRender:ee,totalBoundaryShowSizeChanger:50};var V=Re,l=o("H4fg"),v=o("5bA4"),y=o("UESt"),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},F=I,P=o("6VBw"),Y=function(Z,Te){return c.createElement(P.a,Object.assign({},Z,{ref:Te,icon:F}))};Y.displayName="DoubleLeftOutlined";var $=c.forwardRef(Y),te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},ne=te,ie=function(Z,Te){return c.createElement(P.a,Object.assign({},Z,{ref:Te,icon:ne}))};ie.displayName="DoubleRightOutlined";var Ge=c.forwardRef(ie),ot=o("2fM7"),st=function(Z){return c.createElement(ot.a,Object(i.a)({size:"small"},Z))};st.Option=ot.a.Option;var ct=st,Mt=o("YMnH"),wt=function(fe,Z){var Te={};for(var Q in fe)Object.prototype.hasOwnProperty.call(fe,Q)&&Z.indexOf(Q)<0&&(Te[Q]=fe[Q]);if(fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,Q=Object.getOwnPropertySymbols(fe);A<Q.length;A++)Z.indexOf(Q[A])<0&&Object.prototype.propertyIsEnumerable.call(fe,Q[A])&&(Te[Q[A]]=fe[Q[A]]);return Te},$e=function(Z){var Te=Z.prefixCls,Q=Z.selectPrefixCls,A=Z.className,le=Z.size,ce=Z.locale,ge=wt(Z,["prefixCls","selectPrefixCls","className","size","locale"]),Ie=Object(O.a)(),ve=Ie.xs,Ae=c.useContext(R.b),ke=Ae.getPrefixCls,Be=Ae.direction,ze=ke("pagination",Te),ft=function(){var dt=c.createElement("span",{className:"".concat(ze,"-item-ellipsis")},"\u2022\u2022\u2022"),nt=c.createElement("button",{className:"".concat(ze,"-item-link"),type:"button",tabIndex:-1},c.createElement(v.a,null)),pt=c.createElement("button",{className:"".concat(ze,"-item-link"),type:"button",tabIndex:-1},c.createElement(y.a,null)),bt=c.createElement("a",{className:"".concat(ze,"-item-link")},c.createElement("div",{className:"".concat(ze,"-item-container")},c.createElement($,{className:"".concat(ze,"-item-link-icon")}),dt)),rt=c.createElement("a",{className:"".concat(ze,"-item-link")},c.createElement("div",{className:"".concat(ze,"-item-container")},c.createElement(Ge,{className:"".concat(ze,"-item-link-icon")}),dt));if(Be==="rtl"){var Ot=[pt,nt];nt=Ot[0],pt=Ot[1];var Ft=[rt,bt];bt=Ft[0],rt=Ft[1]}return{prevIcon:nt,nextIcon:pt,jumpPrevIcon:bt,jumpNextIcon:rt}},Ve=function(dt){var nt=Object(i.a)(Object(i.a)({},dt),ce),pt=le==="small"||!!(ve&&!le&&ge.responsive),bt=ke("select",Q),rt=b()(Object(a.a)({mini:pt},"".concat(ze,"-rtl"),Be==="rtl"),A);return c.createElement(V,Object(i.a)({},ge,{prefixCls:ze,selectPrefixCls:bt},ft(),{className:rt,selectComponentClass:pt?ct:ot.a,locale:nt}))};return c.createElement(Mt.a,{componentName:"Pagination",defaultLocale:l.a},Ve)},yt=$e,ut=yt,xt=o("qrJ5"),_e=o("/kpp"),X=o("0n0R"),j=function(fe,Z){var Te={};for(var Q in fe)Object.prototype.hasOwnProperty.call(fe,Q)&&Z.indexOf(Q)<0&&(Te[Q]=fe[Q]);if(fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,Q=Object.getOwnPropertySymbols(fe);A<Q.length;A++)Z.indexOf(Q[A])<0&&Object.prototype.propertyIsEnumerable.call(fe,Q[A])&&(Te[Q[A]]=fe[Q[A]]);return Te},G=function(Z){var Te=Z.prefixCls,Q=Z.className,A=Z.avatar,le=Z.title,ce=Z.description,ge=j(Z,["prefixCls","className","avatar","title","description"]),Ie=c.useContext(R.b),ve=Ie.getPrefixCls,Ae=ve("list",Te),ke=b()("".concat(Ae,"-item-meta"),Q),Be=c.createElement("div",{className:"".concat(Ae,"-item-meta-content")},le&&c.createElement("h4",{className:"".concat(Ae,"-item-meta-title")},le),ce&&c.createElement("div",{className:"".concat(Ae,"-item-meta-description")},ce));return c.createElement("div",Object(i.a)({},ge,{className:ke}),A&&c.createElement("div",{className:"".concat(Ae,"-item-meta-avatar")},A),(le||ce)&&Be)},K=function(Z){var Te=Z.prefixCls,Q=Z.children,A=Z.actions,le=Z.extra,ce=Z.className,ge=Z.colStyle,Ie=j(Z,["prefixCls","children","actions","extra","className","colStyle"]),ve=c.useContext(Se),Ae=ve.grid,ke=ve.itemLayout,Be=c.useContext(R.b),ze=Be.getPrefixCls,ft=function(){var rt;return c.Children.forEach(Q,function(Ot){typeof Ot=="string"&&(rt=!0)}),rt&&c.Children.count(Q)>1},Ve=function(){return ke==="vertical"?!!le:!ft()},Je=ze("list",Te),dt=A&&A.length>0&&c.createElement("ul",{className:"".concat(Je,"-item-action"),key:"actions"},A.map(function(bt,rt){return c.createElement("li",{key:"".concat(Je,"-item-action-").concat(rt)},bt,rt!==A.length-1&&c.createElement("em",{className:"".concat(Je,"-item-action-split")}))})),nt=Ae?"div":"li",pt=c.createElement(nt,Object(i.a)({},Ie,{className:b()("".concat(Je,"-item"),Object(a.a)({},"".concat(Je,"-item-no-flex"),!Ve()),ce)}),ke==="vertical"&&le?[c.createElement("div",{className:"".concat(Je,"-item-main"),key:"content"},Q,dt),c.createElement("div",{className:"".concat(Je,"-item-extra"),key:"extra"},le)]:[Q,dt,Object(X.a)(le,{key:"extra"})]);return Ae?c.createElement(_e.a,{flex:1,style:ge},pt):pt};K.Meta=G;var oe=K,Ee=function(fe,Z){var Te={};for(var Q in fe)Object.prototype.hasOwnProperty.call(fe,Q)&&Z.indexOf(Q)<0&&(Te[Q]=fe[Q]);if(fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,Q=Object.getOwnPropertySymbols(fe);A<Q.length;A++)Z.indexOf(Q[A])<0&&Object.prototype.propertyIsEnumerable.call(fe,Q[A])&&(Te[Q[A]]=fe[Q[A]]);return Te},Se=c.createContext({}),de=Se.Consumer;function Xe(fe){var Z,Te=fe.pagination,Q=Te===void 0?!1:Te,A=fe.prefixCls,le=fe.bordered,ce=le===void 0?!1:le,ge=fe.split,Ie=ge===void 0?!0:ge,ve=fe.className,Ae=fe.children,ke=fe.itemLayout,Be=fe.loadMore,ze=fe.grid,ft=fe.dataSource,Ve=ft===void 0?[]:ft,Je=fe.size,dt=fe.header,nt=fe.footer,pt=fe.loading,bt=pt===void 0?!1:pt,rt=fe.rowKey,Ot=fe.renderItem,Ft=fe.locale,Dt=Ee(fe,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),St=Q&&Object(m.a)(Q)==="object"?Q:{},qe=c.useState(St.defaultCurrent||1),It=Object(p.a)(qe,2),dn=It[0],mt=It[1],gt=c.useState(St.defaultPageSize||10),Me=Object(p.a)(gt,2),Ht=Me[0],Nt=Me[1],jt=c.useContext(R.b),Ce=jt.getPrefixCls,Gt=jt.renderEmpty,At=jt.direction,Zt={current:1,total:0},qt={},Lt=function(it){return function(Rt,Tt){mt(Rt),Nt(Tt),Q&&Q[it]&&Q[it](Rt,Tt)}},on=Lt("onChange"),Bt=Lt("onShowSizeChange"),tt=function(it,Rt){if(!Ot)return null;var Tt;return typeof rt=="function"?Tt=rt(it):typeof rt=="string"?Tt=it[rt]:Tt=it.key,Tt||(Tt="list-item-".concat(Rt)),qt[Rt]=Tt,Ot(it,Rt)},en=function(){return!!(Be||Q||nt)},tn=function(it,Rt){return c.createElement("div",{className:"".concat(it,"-empty-text")},Ft&&Ft.emptyText||Rt("List"))},lt=Ce("list",A),_t=bt;typeof _t=="boolean"&&(_t={spinning:_t});var Et=_t&&_t.spinning,Yt="";switch(Je){case"large":Yt="lg";break;case"small":Yt="sm";break;default:break}var sn=b()(lt,(Z={},Object(a.a)(Z,"".concat(lt,"-vertical"),ke==="vertical"),Object(a.a)(Z,"".concat(lt,"-").concat(Yt),Yt),Object(a.a)(Z,"".concat(lt,"-split"),Ie),Object(a.a)(Z,"".concat(lt,"-bordered"),ce),Object(a.a)(Z,"".concat(lt,"-loading"),Et),Object(a.a)(Z,"".concat(lt,"-grid"),ze),Object(a.a)(Z,"".concat(lt,"-something-after-last-item"),en()),Object(a.a)(Z,"".concat(lt,"-rtl"),At==="rtl"),Z),ve),Pt=Object(i.a)(Object(i.a)(Object(i.a)({},Zt),{total:Ve.length,current:dn,pageSize:Ht}),Q||{}),Kt=Math.ceil(Pt.total/Pt.pageSize);Pt.current>Kt&&(Pt.current=Kt);var at=Q?c.createElement("div",{className:"".concat(lt,"-pagination")},c.createElement(ut,Object(i.a)({},Pt,{onChange:on,onShowSizeChange:Bt}))):null,vt=Object(d.a)(Ve);Q&&Ve.length>(Pt.current-1)*Pt.pageSize&&(vt=Object(d.a)(Ve).splice((Pt.current-1)*Pt.pageSize,Pt.pageSize));var Fn=Object(O.a)(),nn=c.useMemo(function(){for(var Qe=0;Qe<T.b.length;Qe+=1){var it=T.b[Qe];if(Fn[it])return it}},[Fn]),mn=c.useMemo(function(){if(!!ze){var Qe=nn&&ze[nn]?ze[nn]:ze.column;if(Qe)return{width:"".concat(100/Qe,"%"),maxWidth:"".concat(100/Qe,"%")}}},[ze==null?void 0:ze.column,nn]),zt=Et&&c.createElement("div",{style:{minHeight:53}});if(vt.length>0){var Pn=vt.map(function(Qe,it){return tt(Qe,it)}),$t=c.Children.map(Pn,function(Qe,it){return c.createElement("div",{key:qt[it],style:mn},Qe)});zt=ze?c.createElement(xt.a,{gutter:ze.gutter},$t):c.createElement("ul",{className:"".concat(lt,"-items")},Pn)}else!Ae&&!Et&&(zt=tn(lt,Gt));var Ct=Pt.position||"bottom";return c.createElement(Se.Provider,{value:{grid:ze,itemLayout:ke}},c.createElement("div",Object(i.a)({className:sn},Dt),(Ct==="top"||Ct==="both")&&at,dt&&c.createElement("div",{className:"".concat(lt,"-header")},dt),c.createElement(_.a,_t,zt,Ae),nt&&c.createElement("div",{className:"".concat(lt,"-footer")},nt),Be||(Ct==="bottom"||Ct==="both")&&at))}Xe.Item=oe;var He=je.b=Xe},VzZb:function(et,je,o){},XdrM:function(et,je,o){(function(d,i){et.exports=i(o("Texg"),o("q1tI"))})(self,function(d,i){return function(){"use strict";var a={437:function(E,w,b){b.r(w),b.d(w,{useLiveQuery:function(){return R}});var _=b(301),O=b(888),T=function(){return(T=Object.assign||function(h){for(var S,M=1,W=arguments.length;M<W;M++)for(var B in S=arguments[M])Object.prototype.hasOwnProperty.call(S,B)&&(h[B]=S[B]);return h}).apply(this,arguments)};function R(g,h,S){var M=(0,O.useState)(S),W=M[0],B=M[1];return function(U){var z=U.getCurrentValue,N=U.subscribe,D=(0,O.useState)(function(){return{getCurrentValue:z,subscribe:N,value:z(),error:null}}),L=D[0],k=D[1];if(L.error)throw L.error;var J=L.value;return L.getCurrentValue===z&&L.subscribe===N||(J=z(),k({getCurrentValue:z,subscribe:N,value:J,error:null})),(0,O.useDebugValue)(J),(0,O.useEffect)(function(){var ee=!1,ae=function(){if(!ee){var l=z();k(function(v){return v.getCurrentValue!==z||v.subscribe!==N||v.value===l?v:T(T({},v),{value:l})})}},Re=N(ae,function(V){return k(function(l){return T(T({},l),{error:V})})});return ae(),function(){ee=!0,Re()}},[z,N]),J}((0,O.useMemo)(function(){var U=W,z=(0,_.liveQuery)(g);return{getCurrentValue:function(){return U},subscribe:function(D,L){var k=z.subscribe(function(J){U=J,B(J),D(J)},L);return k.unsubscribe.bind(k)}}},h||[]))}},301:function(E){E.exports=d},888:function(E){E.exports=i}},p={};function m(c){if(p[c])return p[c].exports;var E=p[c]={exports:{}};return a[c](E,E.exports,m),E.exports}return m.d=function(c,E){for(var w in E)m.o(E,w)&&!m.o(c,w)&&Object.defineProperty(c,w,{enumerable:!0,get:E[w]})},m.o=function(c,E){return Object.prototype.hasOwnProperty.call(c,E)},m.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},m(437)}()})},bx4M:function(et,je,o){"use strict";var d=o("rePB"),i=o("wx14"),a=o("q1tI"),p=o("TSYQ"),m=o.n(p),c=o("bT9E"),E=o("H84U"),w=function(N,D){var L={};for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&D.indexOf(k)<0&&(L[k]=N[k]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var J=0,k=Object.getOwnPropertySymbols(N);J<k.length;J++)D.indexOf(k[J])<0&&Object.prototype.propertyIsEnumerable.call(N,k[J])&&(L[k[J]]=N[k[J]]);return L},b=function(D){var L=D.prefixCls,k=D.className,J=D.hoverable,ee=J===void 0?!0:J,ae=w(D,["prefixCls","className","hoverable"]);return a.createElement(E.a,null,function(Re){var V=Re.getPrefixCls,l=V("card",L),v=m()("".concat(l,"-grid"),k,Object(d.a)({},"".concat(l,"-grid-hoverable"),ee));return a.createElement("div",Object(i.a)({},ae,{className:v}))})},_=b,O=function(N,D){var L={};for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&D.indexOf(k)<0&&(L[k]=N[k]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var J=0,k=Object.getOwnPropertySymbols(N);J<k.length;J++)D.indexOf(k[J])<0&&Object.prototype.propertyIsEnumerable.call(N,k[J])&&(L[k[J]]=N[k[J]]);return L},T=function(D){return a.createElement(E.a,null,function(L){var k=L.getPrefixCls,J=D.prefixCls,ee=D.className,ae=D.avatar,Re=D.title,V=D.description,l=O(D,["prefixCls","className","avatar","title","description"]),v=k("card",J),y=m()("".concat(v,"-meta"),ee),I=ae?a.createElement("div",{className:"".concat(v,"-meta-avatar")},ae):null,F=Re?a.createElement("div",{className:"".concat(v,"-meta-title")},Re):null,P=V?a.createElement("div",{className:"".concat(v,"-meta-description")},V):null,Y=F||P?a.createElement("div",{className:"".concat(v,"-meta-detail")},F,P):null;return a.createElement("div",Object(i.a)({},l,{className:y}),I,Y)})},R=T,g=o("ZTPi"),h=o("BMrR"),S=o("kPKH"),M=o("3Nzz"),W=function(N,D){var L={};for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&D.indexOf(k)<0&&(L[k]=N[k]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var J=0,k=Object.getOwnPropertySymbols(N);J<k.length;J++)D.indexOf(k[J])<0&&Object.prototype.propertyIsEnumerable.call(N,k[J])&&(L[k[J]]=N[k[J]]);return L};function B(N){var D=N.map(function(L,k){return a.createElement("li",{style:{width:"".concat(100/N.length,"%")},key:"action-".concat(k)},a.createElement("span",null,L))});return D}var U=function(D){var L,k,J=a.useContext(E.b),ee=J.getPrefixCls,ae=J.direction,Re=a.useContext(M.b),V=function(Ie){D.onTabChange&&D.onTabChange(Ie)},l=function(){var Ie;return a.Children.forEach(D.children,function(ve){ve&&ve.type&&ve.type===_&&(Ie=!0)}),Ie},v=D.prefixCls,y=D.className,I=D.extra,F=D.headStyle,P=F===void 0?{}:F,Y=D.bodyStyle,$=Y===void 0?{}:Y,te=D.title,ne=D.loading,ie=D.bordered,Ge=ie===void 0?!0:ie,ot=D.size,st=D.type,ct=D.cover,Mt=D.actions,wt=D.tabList,$e=D.children,yt=D.activeTabKey,ut=D.defaultActiveTabKey,xt=D.tabBarExtraContent,_e=D.hoverable,X=D.tabProps,j=X===void 0?{}:X,G=W(D,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),K=ee("card",v),oe=$.padding===0||$.padding==="0px"?{padding:24}:void 0,Ee=a.createElement("div",{className:"".concat(K,"-loading-block")}),Se=a.createElement("div",{className:"".concat(K,"-loading-content"),style:oe},a.createElement(h.a,{gutter:8},a.createElement(S.a,{span:22},Ee)),a.createElement(h.a,{gutter:8},a.createElement(S.a,{span:8},Ee),a.createElement(S.a,{span:15},Ee)),a.createElement(h.a,{gutter:8},a.createElement(S.a,{span:6},Ee),a.createElement(S.a,{span:18},Ee)),a.createElement(h.a,{gutter:8},a.createElement(S.a,{span:13},Ee),a.createElement(S.a,{span:9},Ee)),a.createElement(h.a,{gutter:8},a.createElement(S.a,{span:4},Ee),a.createElement(S.a,{span:3},Ee),a.createElement(S.a,{span:16},Ee))),de=yt!==void 0,Xe=Object(i.a)(Object(i.a)({},j),(L={},Object(d.a)(L,de?"activeKey":"defaultActiveKey",de?yt:ut),Object(d.a)(L,"tabBarExtraContent",xt),L)),He,fe=wt&&wt.length?a.createElement(g.a,Object(i.a)({size:"large"},Xe,{className:"".concat(K,"-head-tabs"),onChange:V}),wt.map(function(ge){return a.createElement(g.a.TabPane,{tab:ge.tab,disabled:ge.disabled,key:ge.key})})):null;(te||I||fe)&&(He=a.createElement("div",{className:"".concat(K,"-head"),style:P},a.createElement("div",{className:"".concat(K,"-head-wrapper")},te&&a.createElement("div",{className:"".concat(K,"-head-title")},te),I&&a.createElement("div",{className:"".concat(K,"-extra")},I)),fe));var Z=ct?a.createElement("div",{className:"".concat(K,"-cover")},ct):null,Te=a.createElement("div",{className:"".concat(K,"-body"),style:$},ne?Se:$e),Q=Mt&&Mt.length?a.createElement("ul",{className:"".concat(K,"-actions")},B(Mt)):null,A=Object(c.a)(G,["onTabChange"]),le=ot||Re,ce=m()(K,(k={},Object(d.a)(k,"".concat(K,"-loading"),ne),Object(d.a)(k,"".concat(K,"-bordered"),Ge),Object(d.a)(k,"".concat(K,"-hoverable"),_e),Object(d.a)(k,"".concat(K,"-contain-grid"),l()),Object(d.a)(k,"".concat(K,"-contain-tabs"),wt&&wt.length),Object(d.a)(k,"".concat(K,"-").concat(le),le),Object(d.a)(k,"".concat(K,"-type-").concat(st),!!st),Object(d.a)(k,"".concat(K,"-rtl"),ae==="rtl"),k),y);return a.createElement("div",Object(i.a)({},A,{className:ce}),He,Z,Te,Q)};U.Grid=_,U.Meta=R;var z=je.a=U},cWXX:function(et,je,o){"use strict";var d=o("cIOH"),i=o.n(d),a=o("oIFs"),p=o.n(a)},jCWc:function(et,je,o){"use strict";var d=o("cIOH"),i=o.n(d),a=o("1GLa")},jryo:function(et,je,o){},kLXV:function(et,je,o){"use strict";var d=o("rePB"),i=o("wx14"),a=o("q1tI"),p=o("hzQT"),m=o("TSYQ"),c=o.n(m),E=o("4i/N"),w=o("ODXe"),b=o("KQm4");function _(){var _e=a.useState([]),X=Object(w.a)(_e,2),j=X[0],G=X[1],K=a.useCallback(function(oe){return G(function(Ee){return[].concat(Object(b.a)(Ee),[oe])}),function(){G(function(Ee){return Ee.filter(function(Se){return Se!==oe})})}},[]);return[j,K]}var O=o("2/Rp"),T=o("zvFY"),R=function(X){var j=a.useRef(!1),G=a.useRef(),K=a.useState(!1),oe=Object(w.a)(K,2),Ee=oe[0],Se=oe[1];a.useEffect(function(){var Q;if(X.autoFocus){var A=G.current;Q=setTimeout(function(){return A.focus()})}return function(){Q&&clearTimeout(Q)}},[]);var de=function(A){var le=X.closeModal;!A||!A.then||(Se(!0),A.then(function(){le.apply(void 0,arguments)},function(ce){console.error(ce),Se(!1),j.current=!1}))},Xe=function(){var A=X.actionFn,le=X.closeModal;if(!j.current){if(j.current=!0,!A){le();return}var ce;if(A.length)ce=A(le),j.current=!1;else if(ce=A(),!ce){le();return}de(ce)}},He=X.type,fe=X.children,Z=X.prefixCls,Te=X.buttonProps;return a.createElement(O.a,Object(i.a)({},Object(T.a)(He),{onClick:Xe,loading:Ee,prefixCls:Z},Te,{ref:G}),fe)},g=R,h=o("uaoM"),S=o("wEI+"),M=function(X){var j=X.icon,G=X.onCancel,K=X.onOk,oe=X.close,Ee=X.zIndex,Se=X.afterClose,de=X.visible,Xe=X.keyboard,He=X.centered,fe=X.getContainer,Z=X.maskStyle,Te=X.okText,Q=X.okButtonProps,A=X.cancelText,le=X.cancelButtonProps,ce=X.direction,ge=X.prefixCls,Ie=X.rootPrefixCls,ve=X.bodyStyle,Ae=X.closable,ke=Ae===void 0?!1:Ae,Be=X.closeIcon,ze=X.modalRender,ft=X.focusTriggerAfterClose;Object(h.a)(!(typeof j=="string"&&j.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(j,"` at https://ant.design/components/icon"));var Ve=X.okType||"primary",Je="".concat(ge,"-confirm"),dt="okCancel"in X?X.okCancel:!0,nt=X.width||416,pt=X.style||{},bt=X.mask===void 0?!0:X.mask,rt=X.maskClosable===void 0?!1:X.maskClosable,Ot=X.autoFocusButton===null?!1:X.autoFocusButton||"ok",Ft=X.transitionName||"zoom",Dt=X.maskTransitionName||"fade",St=c()(Je,"".concat(Je,"-").concat(X.type),Object(d.a)({},"".concat(Je,"-rtl"),ce==="rtl"),X.className),qe=dt&&a.createElement(g,{actionFn:G,closeModal:oe,autoFocus:Ot==="cancel",buttonProps:le,prefixCls:"".concat(Ie,"-btn")},A);return a.createElement($e,{prefixCls:ge,className:St,wrapClassName:c()(Object(d.a)({},"".concat(Je,"-centered"),!!X.centered)),onCancel:function(){return oe({triggerCancel:!0})},visible:de,title:"",transitionName:Ft,footer:"",maskTransitionName:Dt,mask:bt,maskClosable:rt,maskStyle:Z,style:pt,width:nt,zIndex:Ee,afterClose:Se,keyboard:Xe,centered:He,getContainer:fe,closable:ke,closeIcon:Be,modalRender:ze,focusTriggerAfterClose:ft},a.createElement("div",{className:"".concat(Je,"-body-wrapper")},a.createElement(S.a,{prefixCls:Ie},a.createElement("div",{className:"".concat(Je,"-body"),style:ve},j,X.title===void 0?null:a.createElement("span",{className:"".concat(Je,"-title")},X.title),a.createElement("div",{className:"".concat(Je,"-content")},X.content))),a.createElement("div",{className:"".concat(Je,"-btns")},qe,a.createElement(g,{type:Ve,actionFn:K,closeModal:oe,autoFocus:Ot==="ok",buttonProps:Q,prefixCls:"".concat(Ie,"-btn")},Te))))},W=M,B=o("ZvpZ"),U=o("YMnH"),z=o("H84U"),N=function(X,j){var G=X.afterClose,K=X.config,oe=a.useState(!0),Ee=Object(w.a)(oe,2),Se=Ee[0],de=Ee[1],Xe=a.useState(K),He=Object(w.a)(Xe,2),fe=He[0],Z=He[1],Te=a.useContext(z.b),Q=Te.direction,A=Te.getPrefixCls,le=A("modal"),ce=A();function ge(){de(!1);for(var Ie=arguments.length,ve=new Array(Ie),Ae=0;Ae<Ie;Ae++)ve[Ae]=arguments[Ae];var ke=ve.some(function(Be){return Be&&Be.triggerCancel});fe.onCancel&&ke&&fe.onCancel()}return a.useImperativeHandle(j,function(){return{destroy:ge,update:function(ve){Z(function(Ae){return Object(i.a)(Object(i.a)({},Ae),ve)})}}}),a.createElement(U.a,{componentName:"Modal",defaultLocale:B.a.Modal},function(Ie){return a.createElement(W,Object(i.a)({prefixCls:le,rootPrefixCls:ce},fe,{close:ge,visible:Se,afterClose:G,okText:fe.okText||(fe.okCancel?Ie.okText:Ie.justOkText),direction:Q,cancelText:fe.cancelText||Ie.cancelText}))})},D=a.forwardRef(N),L=o("i8i4"),k=o("+YFz"),J=o("Ue1A"),ee=o("2BaD"),ae=o("RCxd"),Re=o("ul5b"),V=function(_e,X){var j={};for(var G in _e)Object.prototype.hasOwnProperty.call(_e,G)&&X.indexOf(G)<0&&(j[G]=_e[G]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,G=Object.getOwnPropertySymbols(_e);K<G.length;K++)X.indexOf(G[K])<0&&Object.prototype.propertyIsEnumerable.call(_e,G[K])&&(j[G[K]]=_e[G[K]]);return j},l="ant";function v(){return l}function y(_e){var X=document.createElement("div");document.body.appendChild(X);var j=Object(i.a)(Object(i.a)({},_e),{close:oe,visible:!0});function G(){var Se=L.unmountComponentAtNode(X);Se&&X.parentNode&&X.parentNode.removeChild(X);for(var de=arguments.length,Xe=new Array(de),He=0;He<de;He++)Xe[He]=arguments[He];var fe=Xe.some(function(Q){return Q&&Q.triggerCancel});_e.onCancel&&fe&&_e.onCancel.apply(_e,Xe);for(var Z=0;Z<ct.length;Z++){var Te=ct[Z];if(Te===oe){ct.splice(Z,1);break}}}function K(Se){var de=Se.okText,Xe=Se.cancelText,He=Se.prefixCls,fe=V(Se,["okText","cancelText","prefixCls"]);setTimeout(function(){var Z=Object(Re.b)();L.render(a.createElement(W,Object(i.a)({},fe,{prefixCls:He||"".concat(v(),"-modal"),rootPrefixCls:v(),okText:de||(fe.okCancel?Z.okText:Z.justOkText),cancelText:Xe||Z.cancelText})),X)})}function oe(){for(var Se=this,de=arguments.length,Xe=new Array(de),He=0;He<de;He++)Xe[He]=arguments[He];j=Object(i.a)(Object(i.a)({},j),{visible:!1,afterClose:function(){typeof _e.afterClose=="function"&&_e.afterClose(),G.apply(Se,Xe)}}),K(j)}function Ee(Se){typeof Se=="function"?j=Se(j):j=Object(i.a)(Object(i.a)({},j),Se),K(j)}return K(j),ct.push(oe),{destroy:oe,update:Ee}}function I(_e){return Object(i.a)(Object(i.a)({icon:a.createElement(ae.a,null),okCancel:!1},_e),{type:"warning"})}function F(_e){return Object(i.a)(Object(i.a)({icon:a.createElement(k.a,null),okCancel:!1},_e),{type:"info"})}function P(_e){return Object(i.a)(Object(i.a)({icon:a.createElement(J.a,null),okCancel:!1},_e),{type:"success"})}function Y(_e){return Object(i.a)(Object(i.a)({icon:a.createElement(ee.a,null),okCancel:!1},_e),{type:"error"})}function $(_e){return Object(i.a)(Object(i.a)({icon:a.createElement(ae.a,null),okCancel:!0},_e),{type:"confirm"})}function te(_e){var X=_e.rootPrefixCls;X&&(l=X)}var ne=0,ie=a.memo(a.forwardRef(function(_e,X){var j=_(),G=Object(w.a)(j,2),K=G[0],oe=G[1];return a.useImperativeHandle(X,function(){return{patchElement:oe}},[]),a.createElement(a.Fragment,null,K)}));function Ge(){var _e=a.useRef(null),X=a.useCallback(function(G){return function(oe){var Ee;ne+=1;var Se=a.createRef(),de,Xe=a.createElement(D,{key:"modal-".concat(ne),config:G(oe),ref:Se,afterClose:function(){de()}});return de=(Ee=_e.current)===null||Ee===void 0?void 0:Ee.patchElement(Xe),{destroy:function(){Se.current&&Se.current.destroy()},update:function(fe){Se.current&&Se.current.update(fe)}}}},[]),j=a.useMemo(function(){return{info:X(F),success:X(P),error:X(Y),warning:X(I),confirm:X($)}},[]);return[j,a.createElement(ie,{ref:_e})]}var ot=function(_e,X){var j={};for(var G in _e)Object.prototype.hasOwnProperty.call(_e,G)&&X.indexOf(G)<0&&(j[G]=_e[G]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,G=Object.getOwnPropertySymbols(_e);K<G.length;K++)X.indexOf(G[K])<0&&Object.prototype.propertyIsEnumerable.call(_e,G[K])&&(j[G[K]]=_e[G[K]]);return j},st,ct=[],Mt=function(X){st={x:X.pageX,y:X.pageY},setTimeout(function(){st=null},100)};typeof window!="undefined"&&window.document&&window.document.documentElement&&document.documentElement.addEventListener("click",Mt,!0);var wt=function(X){var j,G=a.useContext(z.b),K=G.getPopupContainer,oe=G.getPrefixCls,Ee=G.direction,Se=function(ft){var Ve=X.onCancel;Ve&&Ve(ft)},de=function(ft){var Ve=X.onOk;Ve&&Ve(ft)},Xe=function(ft){var Ve=X.okText,Je=X.okType,dt=X.cancelText,nt=X.confirmLoading;return a.createElement(a.Fragment,null,a.createElement(O.a,Object(i.a)({onClick:Se},X.cancelButtonProps),dt||ft.cancelText),a.createElement(O.a,Object(i.a)({},Object(T.a)(Je),{loading:nt,onClick:de},X.okButtonProps),Ve||ft.okText))},He=X.prefixCls,fe=X.footer,Z=X.visible,Te=X.wrapClassName,Q=X.centered,A=X.getContainer,le=X.closeIcon,ce=X.focusTriggerAfterClose,ge=ce===void 0?!0:ce,Ie=ot(X,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),ve=oe("modal",He),Ae=a.createElement(U.a,{componentName:"Modal",defaultLocale:Object(Re.b)()},Xe),ke=a.createElement("span",{className:"".concat(ve,"-close-x")},le||a.createElement(E.a,{className:"".concat(ve,"-close-icon")})),Be=c()(Te,(j={},Object(d.a)(j,"".concat(ve,"-centered"),!!Q),Object(d.a)(j,"".concat(ve,"-wrap-rtl"),Ee==="rtl"),j));return a.createElement(p.a,Object(i.a)({},Ie,{getContainer:A===void 0?K:A,prefixCls:ve,wrapClassName:Be,footer:fe===void 0?Ae:fe,visible:Z,mousePosition:st,onClose:Se,closeIcon:ke,focusTriggerAfterClose:ge}))};wt.useModal=Ge,wt.defaultProps={width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"};var $e=wt;function yt(_e){return y(I(_e))}var ut=$e;ut.info=function(X){return y(F(X))},ut.success=function(X){return y(P(X))},ut.error=function(X){return y(Y(X))},ut.warning=yt,ut.warn=yt,ut.confirm=function(X){return y($(X))},ut.destroyAll=function(){for(;ct.length;){var X=ct.pop();X&&X()}},ut.config=te;var xt=je.a=ut},kPKH:function(et,je,o){"use strict";var d=o("/kpp");je.a=d.a},lRSW:function(et,je,o){},lnY3:function(et,je,o){},nhC9:function(et,je,o){"use strict";var d=o("Znn+"),i=o("ZTPi"),a=o("GNNt"),p=o("wEI+"),m=o("1GLa"),c=o("TLLU"),E=o("q1tI"),w=o.n(E),b=o("UESt"),_=o("kZ8M"),O=o.n(_),T=o("YSkC"),R=o("TSYQ"),g=o.n(R),h=o("BGR+"),S=o("14J3"),M=o("BMrR"),W=o("jCWc"),B=o("kPKH"),U=o("jryo"),z=function(G){var K=G.style,oe=G.prefix;return w.a.createElement("div",{className:"".concat(oe,"-loading-content"),style:K},w.a.createElement(M.a,{gutter:8},w.a.createElement(B.a,{span:22},w.a.createElement("div",{className:"".concat(oe,"-loading-block")}))),w.a.createElement(M.a,{gutter:8},w.a.createElement(B.a,{span:8},w.a.createElement("div",{className:"".concat(oe,"-loading-block")})),w.a.createElement(B.a,{span:15},w.a.createElement("div",{className:"".concat(oe,"-loading-block")}))),w.a.createElement(M.a,{gutter:8},w.a.createElement(B.a,{span:6},w.a.createElement("div",{className:"".concat(oe,"-loading-block")})),w.a.createElement(B.a,{span:18},w.a.createElement("div",{className:"".concat(oe,"-loading-block")}))),w.a.createElement(M.a,{gutter:8},w.a.createElement(B.a,{span:13},w.a.createElement("div",{className:"".concat(oe,"-loading-block")})),w.a.createElement(B.a,{span:9},w.a.createElement("div",{className:"".concat(oe,"-loading-block")}))),w.a.createElement(M.a,{gutter:8},w.a.createElement(B.a,{span:4},w.a.createElement("div",{className:"".concat(oe,"-loading-block")})),w.a.createElement(B.a,{span:3},w.a.createElement("div",{className:"".concat(oe,"-loading-block")})),w.a.createElement(B.a,{span:16},w.a.createElement("div",{className:"".concat(oe,"-loading-block")}))))},N=z,D=o("u1OI");function L(j,G,K){return G in j?Object.defineProperty(j,G,{value:K,enumerable:!0,configurable:!0,writable:!0}):j[G]=K,j}var k=function(G){var K=Object(E.useContext)(p.a.ConfigContext),oe=K.getPrefixCls,Ee=oe("pro-card-divider"),Se=G.className,de=G.style,Xe=de===void 0?{}:de,He=G.children,fe=g()(Ee,Se,L({},"".concat(Ee,"-line"),He===void 0));return w.a.createElement("div",{className:fe,style:Xe},He)},J=k,ee=o("VzZb");function ae(){return ae=Object.assign||function(j){for(var G=1;G<arguments.length;G++){var K=arguments[G];for(var oe in K)Object.prototype.hasOwnProperty.call(K,oe)&&(j[oe]=K[oe])}return j},ae.apply(this,arguments)}function Re(j,G){if(j==null)return{};var K=V(j,G),oe,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(j);for(Ee=0;Ee<Se.length;Ee++)oe=Se[Ee],!(G.indexOf(oe)>=0)&&(!Object.prototype.propertyIsEnumerable.call(j,oe)||(K[oe]=j[oe]))}return K}function V(j,G){if(j==null)return{};var K={},oe=Object.keys(j),Ee,Se;for(Se=0;Se<oe.length;Se++)Ee=oe[Se],!(G.indexOf(Ee)>=0)&&(K[Ee]=j[Ee]);return K}var l=function(G){var K=G.key,oe=G.tab,Ee=G.tabKey,Se=G.disabled,de=G.destroyInactiveTabPane,Xe=G.children,He=G.className,fe=G.style,Z=G.cardProps,Te=Re(G,["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"]),Q=Object(E.useContext)(p.a.ConfigContext),A=Q.getPrefixCls,le=A("pro-card-tabpane"),ce=g()(le,He);return w.a.createElement(i.a.TabPane,ae({key:K,tabKey:Ee,tab:oe,className:ce,style:fe,disabled:Se,destroyInactiveTabPane:de},Te),w.a.createElement(X,Z,Xe))},v=l,y=o("S76h"),I=function(G){var K=G.actions,oe=G.prefixCls;return K&&K.length?w.a.createElement("ul",{className:"".concat(oe,"-actions")},K.map(function(Ee,Se){return w.a.createElement("li",{style:{width:"".concat(100/K.length,"%")},key:"action-".concat(Se)},w.a.createElement("span",null,Ee))})):null},F=I,P=o("lRSW");function Y(){return Y=Object.assign||function(j){for(var G=1;G<arguments.length;G++){var K=arguments[G];for(var oe in K)Object.prototype.hasOwnProperty.call(K,oe)&&(j[oe]=K[oe])}return j},Y.apply(this,arguments)}function $(j,G){var K=Object.keys(j);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(j);G&&(oe=oe.filter(function(Ee){return Object.getOwnPropertyDescriptor(j,Ee).enumerable})),K.push.apply(K,oe)}return K}function te(j){for(var G=1;G<arguments.length;G++){var K=arguments[G]!=null?arguments[G]:{};G%2?$(Object(K),!0).forEach(function(oe){ne(j,oe,K[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(K)):$(Object(K)).forEach(function(oe){Object.defineProperty(j,oe,Object.getOwnPropertyDescriptor(K,oe))})}return j}function ne(j,G,K){return G in j?Object.defineProperty(j,G,{value:K,enumerable:!0,configurable:!0,writable:!0}):j[G]=K,j}function ie(j){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ie=function(K){return typeof K}:ie=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},ie(j)}function Ge(j,G){return wt(j)||Mt(j,G)||st(j,G)||ot()}function ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(j,G){if(!!j){if(typeof j=="string")return ct(j,G);var K=Object.prototype.toString.call(j).slice(8,-1);if(K==="Object"&&j.constructor&&(K=j.constructor.name),K==="Map"||K==="Set")return Array.from(j);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return ct(j,G)}}function ct(j,G){(G==null||G>j.length)&&(G=j.length);for(var K=0,oe=new Array(G);K<G;K++)oe[K]=j[K];return oe}function Mt(j,G){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(j)))){var K=[],oe=!0,Ee=!1,Se=void 0;try{for(var de=j[Symbol.iterator](),Xe;!(oe=(Xe=de.next()).done)&&(K.push(Xe.value),!(G&&K.length===G));oe=!0);}catch(He){Ee=!0,Se=He}finally{try{!oe&&de.return!=null&&de.return()}finally{if(Ee)throw Se}}return K}}function wt(j){if(Array.isArray(j))return j}function $e(j,G){if(j==null)return{};var K=yt(j,G),oe,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(j);for(Ee=0;Ee<Se.length;Ee++)oe=Se[Ee],!(G.indexOf(oe)>=0)&&(!Object.prototype.propertyIsEnumerable.call(j,oe)||(K[oe]=j[oe]))}return K}function yt(j,G){if(j==null)return{};var K={},oe=Object.keys(j),Ee,Se;for(Se=0;Se<oe.length;Se++)Ee=oe[Se],!(G.indexOf(Ee)>=0)&&(K[Ee]=j[Ee]);return K}var ut=c.a.useBreakpoint,xt=w.a.forwardRef(function(j,G){var K,oe,Ee=j.className,Se=j.style,de=j.bodyStyle,Xe=de===void 0?{}:de,He=j.headStyle,fe=He===void 0?{}:He,Z=j.title,Te=j.subTitle,Q=j.extra,A=j.tip,le=j.layout,ce=j.loading,ge=j.colSpan,Ie=j.gutter,ve=Ie===void 0?0:Ie,Ae=j.tooltip,ke=j.split,Be=j.headerBordered,ze=Be===void 0?!1:Be,ft=j.bordered,Ve=ft===void 0?!1:ft,Je=j.children,dt=j.size,nt=j.actions,pt=j.ghost,bt=pt===void 0?!1:pt,rt=j.hoverable,Ot=rt===void 0?!1:rt,Ft=j.direction,Dt=j.collapsed,St=j.collapsible,qe=St===void 0?!1:St,It=j.defaultCollapsed,dn=It===void 0?!1:It,mt=j.onCollapse,gt=j.tabs,Me=j.type,Ht=$e(j,["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","layout","loading","colSpan","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","defaultCollapsed","onCollapse","tabs","type"]),Nt=Object(E.useContext)(p.a.ConfigContext),jt=Nt.getPrefixCls,Ce=ut(),Gt=O()(dn,{value:Dt,onChange:mt}),At=Ge(Gt,2),Zt=At[0],qt=At[1],Lt=["xxl","xl","lg","md","sm","xs"],on=function(Qe){var it=[0,0],Rt=Array.isArray(Qe)?Qe:[Qe,0];return Rt.forEach(function(Tt,Ut){if(ie(Tt)==="object")for(var gn=0;gn<Lt.length;gn+=1){var un=Lt[gn];if(Ce[un]&&Tt[un]!==void 0){it[Ut]=Tt[un];break}}else it[Ut]=Tt||0}),it},Bt=function(Qe,it){return Qe?it:{}},tt=jt("pro-card"),en=on(ve),tn,lt=w.a.Children.toArray(Je),_t=lt.map(function(Ct,Qe){var it;if(Ct==null||(it=Ct.type)===null||it===void 0?void 0:it.isProCard){var Rt;tn=!0;var Tt=Bt(en[0]>0&&Qe!==lt.length-1,{marginRight:en[0]}),Ut=Bt(en[1]>0,{marginBottom:en[1]}),gn=Bt(ke==="vertical"||ke==="horizontal",{borderRadius:0});return w.a.cloneElement(Ct,{className:g()(Ct.props.className,(Rt={},ne(Rt,"".concat(tt,"-split-vertical"),ke==="vertical"&&Qe!==lt.length-1),ne(Rt,"".concat(tt,"-split-horizontal"),ke==="horizontal"&&Qe!==lt.length-1),Rt)),style:te(te(te(te({},Tt),Ut),gn),Ct.props.style)})}return Ct}),Et=ge;if(ie(ge)==="object")for(var Yt=0;Yt<Lt.length;Yt+=1){var sn=Lt[Yt];if(Ce[sn]&&ge[sn]!==void 0){Et=ge[sn];break}}var Pt=Bt(typeof Et=="string"&&/\d%|\dpx/i.test(Et),{width:Et,flexShrink:0}),Kt=te(te({},Pt),Se),at=g()("".concat(tt),Ee,(K={},ne(K,"".concat(tt,"-span-").concat(Et),typeof Et=="number"&&Et>=0&&Et<=24),ne(K,"".concat(tt,"-border"),Ve),ne(K,"".concat(tt,"-contain-card"),tn),ne(K,"".concat(tt,"-loading"),ce),ne(K,"".concat(tt,"-split"),ke==="vertical"||ke==="horizontal"),ne(K,"".concat(tt,"-ghost"),bt),ne(K,"".concat(tt,"-hoverable"),Ot),ne(K,"".concat(tt,"-size-").concat(dt),dt),ne(K,"".concat(tt,"-type-").concat(Me),Me),ne(K,"".concat(tt,"-collapse"),Zt),K)),vt=g()("".concat(tt,"-header"),ne({},"".concat(tt,"-header-border"),ze||Me==="inner")),Fn=g()("".concat(tt,"-body"),(oe={},ne(oe,"".concat(tt,"-body-center"),le==="center"),ne(oe,"".concat(tt,"-body-column"),ke==="horizontal"||Ft==="column"),oe)),nn=Xe.padding===0||Xe.padding==="0px"?{padding:24}:void 0,mn=w.a.isValidElement(ce)?ce:w.a.createElement(N,{prefix:tt,style:nn}),zt=qe&&Dt===void 0&&w.a.createElement(b.a,{rotate:Zt?void 0:90,className:"".concat(tt,"-collapsible-icon")}),Pn=g()("".concat(tt,"-title"),ne({},"".concat(tt,"-title-collapsible"),zt)),$t=w.a.createElement(F,{actions:nt,prefixCls:tt});return w.a.createElement("div",Y({className:at,style:Kt,ref:G},Object(h.a)(Ht,["id","prefixCls"])),(Z||Q||zt)&&w.a.createElement("div",{className:vt,style:fe},w.a.createElement("div",{className:Pn,onClick:function(){zt&&qt(!Zt)}},zt,w.a.createElement(T.a,{label:Z,tooltip:Ae||A,subTitle:Te})),w.a.createElement("div",{className:"".concat(tt,"-extra")},Q)),gt?w.a.createElement("div",{className:"".concat(tt,"-tabs")},w.a.createElement(i.a,Y({onChange:gt.onChange},gt),ce?mn:Je)):w.a.createElement("div",{className:Fn,style:Xe},ce?mn:_t),$t)}),_e=function(G){return w.a.createElement(xt,Y({bodyStyle:{padding:0}},G))};xt.isProCard=!0,xt.TabPane=v,xt.Divider=J,xt.Group=_e;var X=je.a=xt},oIFs:function(et,je,o){},qcaT:function(et,je){var o=o||{};o.ArrayBufferReader=function(d){var i=this;d.onblob=function(a){for(var p=window.atob(a),m=new ArrayBuffer(p.length),c=new Uint8Array(m),E=0;E<p.length;E++)c[E]=p.charCodeAt(E);i.ondata&&i.ondata(m)},d.onend=function(){i.onend&&i.onend()},this.ondata=null,this.onend=null};var o=o||{};o.ArrayBufferWriter=function(d){var i=this;d.onack=function(p){i.onack&&i.onack(p)};function a(p){for(var m="",c=0;c<p.byteLength;c++)m+=String.fromCharCode(p[c]);d.sendBlob(window.btoa(m))}this.blobLength=o.ArrayBufferWriter.DEFAULT_BLOB_LENGTH,this.sendData=function(p){var m=new Uint8Array(p);if(m.length<=i.blobLength)a(m);else for(var c=0;c<m.length;c+=i.blobLength)a(m.subarray(c,c+i.blobLength))},this.sendEnd=function(){d.sendEnd()},this.onack=null},o.ArrayBufferWriter.DEFAULT_BLOB_LENGTH=6048;var o=o||{};o.AudioContextFactory={singleton:null,getAudioContext:function(){var i=window.AudioContext||window.webkitAudioContext;if(i)try{return o.AudioContextFactory.singleton||(o.AudioContextFactory.singleton=new i),o.AudioContextFactory.singleton}catch(a){}return null}};var o=o||{};o.AudioPlayer=function(){this.sync=function(){}},o.AudioPlayer.isSupportedType=function(i){return o.RawAudioPlayer.isSupportedType(i)},o.AudioPlayer.getSupportedTypes=function(){return o.RawAudioPlayer.getSupportedTypes()},o.AudioPlayer.getInstance=function(i,a){return o.RawAudioPlayer.isSupportedType(a)?new o.RawAudioPlayer(i,a):null},o.RawAudioPlayer=function(i,a){var p=o.RawAudioFormat.parse(a),m=o.AudioContextFactory.getAudioContext(),c=m.currentTime,E=new o.ArrayBufferReader(i),w=.02,b=.3,_=p.bytesPerSample===1?window.Int8Array:window.Int16Array,O=p.bytesPerSample===1?128:32768,T=[],R=function(B){if(B.length<=1)return B[0];var U=0;B.forEach(function(L){U+=L.length});var z=0,N=new _(U);return B.forEach(function(L){N.set(L,z),z+=L.length}),N},g=function(B){for(var U=Number.MAX_VALUE,z=B.length,N=Math.floor(B.length/p.channels),D=Math.floor(p.rate*w),L=Math.max(p.channels*D,p.channels*(N-D)),k=L;k<B.length;k+=p.channels){for(var J=0,ee=0;ee<p.channels;ee++)J+=Math.abs(B[k+ee]);J<=U&&(z=k+p.channels,U=J)}return z===B.length?[B]:[new _(B.buffer.slice(0,z*p.bytesPerSample)),new _(B.buffer.slice(z*p.bytesPerSample))]},h=function(B){T.push(new _(B))},S=function(){var B=R(T);return B?(T=g(B),B=T.shift(),B):null},M=function(B){var U=B.length/p.channels,z=m.currentTime;c<z&&(c=z);for(var N=m.createBuffer(p.channels,U,p.rate),D=0;D<p.channels;D++)for(var L=N.getChannelData(D),k=D,J=0;J<U;J++)L[J]=B[k]/O,k+=p.channels;return N};E.ondata=function(B){h(new _(B));var U=S();if(!!U){var z=m.currentTime;c<z&&(c=z);var N=m.createBufferSource();N.connect(m.destination),N.start||(N.start=N.noteOn),N.buffer=M(U),N.start(c),c+=U.length/p.channels/p.rate}},this.sync=function(){var B=m.currentTime;c=Math.min(c,B+b)}},o.RawAudioPlayer.prototype=new o.AudioPlayer,o.RawAudioPlayer.isSupportedType=function(i){return o.AudioContextFactory.getAudioContext()?o.RawAudioFormat.parse(i)!==null:!1},o.RawAudioPlayer.getSupportedTypes=function(){return o.AudioContextFactory.getAudioContext()?["audio/L8","audio/L16"]:[]};var o=o||{};o.AudioRecorder=function(){this.onclose=null,this.onerror=null},o.AudioRecorder.isSupportedType=function(i){return o.RawAudioRecorder.isSupportedType(i)},o.AudioRecorder.getSupportedTypes=function(){return o.RawAudioRecorder.getSupportedTypes()},o.AudioRecorder.getInstance=function(i,a){return o.RawAudioRecorder.isSupportedType(a)?new o.RawAudioRecorder(i,a):null},o.RawAudioRecorder=function(i,a){var p=this,m=2048,c=3,E=o.RawAudioFormat.parse(a),w=o.AudioContextFactory.getAudioContext();navigator.mediaDevices||(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia||(navigator.mediaDevices.getUserMedia=(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia).bind(navigator));var b=new o.ArrayBufferWriter(i),_=E.bytesPerSample===1?window.Int8Array:window.Int16Array,O=E.bytesPerSample===1?128:32768,T=0,R=0,g=null,h=null,S=null,M=function(J){if(J===0)return 1;var ee=Math.PI*J;return Math.sin(ee)/ee},W=function(J,ee){return-ee<J&&J<ee?M(J)*M(J/ee):0},B=function(J,ee){for(var ae=(J.length-1)*ee,Re=Math.floor(ae)-c+1,V=Math.floor(ae)+c,l=0,v=Re;v<=V;v++)l+=(J[v]||0)*W(ae-v,c);return l},U=function(J){var ee=J.length;T+=ee;var ae=Math.round(T*E.rate/J.sampleRate),Re=ae-R;R+=Re;for(var V=new _(Re*E.channels),l=0;l<E.channels;l++)for(var v=J.getChannelData(l),y=l,I=0;I<Re;I++)V[y]=B(v,I/(Re-1))*O,y+=E.channels;return V},z=function(J){S=w.createScriptProcessor(m,E.channels,E.channels),S.connect(w.destination),S.onaudioprocess=function(ae){b.sendData(U(ae.inputBuffer).buffer)},h=w.createMediaStreamSource(J),h.connect(S),w.state==="suspended"&&w.resume(),g=J},N=function(){b.sendEnd(),p.onerror&&p.onerror()},D=function(){var J=navigator.mediaDevices.getUserMedia({audio:!0},z,N);J&&J.then&&J.then(z,N)},L=function(){if(h&&h.disconnect(),S&&S.disconnect(),g)for(var J=g.getTracks(),ee=0;ee<J.length;ee++)J[ee].stop();S=null,h=null,g=null,b.sendEnd()};b.onack=function(J){J.code===o.Status.Code.SUCCESS&&!g?D():(L(),b.onack=null,J.code===o.Status.Code.RESOURCE_CLOSED?p.onclose&&p.onclose():p.onerror&&p.onerror())}},o.RawAudioRecorder.prototype=new o.AudioRecorder,o.RawAudioRecorder.isSupportedType=function(i){return o.AudioContextFactory.getAudioContext()?o.RawAudioFormat.parse(i)!==null:!1},o.RawAudioRecorder.getSupportedTypes=function(){return o.AudioContextFactory.getAudioContext()?["audio/L8","audio/L16"]:[]};var o=o||{};o.BlobReader=function(d,i){var a=this,p=0,m;window.BlobBuilder?m=new BlobBuilder:window.WebKitBlobBuilder?m=new WebKitBlobBuilder:window.MozBlobBuilder?m=new MozBlobBuilder:m=new function(){var c=[];this.append=function(E){c.push(new Blob([E],{type:i}))},this.getBlob=function(){return new Blob(c,{type:i})}},d.onblob=function(c){for(var E=window.atob(c),w=new ArrayBuffer(E.length),b=new Uint8Array(w),_=0;_<E.length;_++)b[_]=E.charCodeAt(_);m.append(w),p+=w.byteLength,a.onprogress&&a.onprogress(w.byteLength),d.sendAck("OK",0)},d.onend=function(){a.onend&&a.onend()},this.getLength=function(){return p},this.getBlob=function(){return m.getBlob()},this.onprogress=null,this.onend=null};var o=o||{};o.BlobWriter=function(i){var a=this,p=new o.ArrayBufferWriter(i);p.onack=function(c){a.onack&&a.onack(c)};var m=function(E,w,b){var _=(E.slice||E.webkitSlice||E.mozSlice).bind(E),O=b-w;if(O!==b){var T=_(w,O);if(T.size===O)return T}return _(w,b)};this.sendBlob=function(E){var w=0,b=new FileReader,_=function(){if(w>=E.size){a.oncomplete&&a.oncomplete(E);return}var T=m(E,w,w+p.blobLength);w+=p.blobLength,b.readAsArrayBuffer(T)};b.onload=function(){p.sendData(b.result),p.onack=function(R){a.onack&&a.onack(R),!R.isError()&&(a.onprogress&&a.onprogress(E,w-p.blobLength),_())}},b.onerror=function(){a.onerror&&a.onerror(E,w,b.error)},_()},this.sendEnd=function(){p.sendEnd()},this.onack=null,this.onerror=null,this.onprogress=null,this.oncomplete=null};var o=o||{};o.Client=function(d){var i=this,a=0,p=1,m=2,c=3,E=4,w=5,b=a,_=0,O=null,T={0:"butt",1:"round",2:"square"},R={0:"bevel",1:"miter",2:"round"},g=new o.Display,h={},S={},M={},W=[],B=[],U=[],z=new o.IntegerPool,N=[];function D(V){V!=b&&(b=V,i.onstatechange&&i.onstatechange(b))}function L(){return b==c||b==m}this.exportState=function(l){var v={currentState:b,currentTimestamp:_,layers:{}},y={};for(var I in h)y[I]=h[I];g.flush(function(){for(var P in y){var Y=parseInt(P),$=y[P],te=$.toCanvas(),ne={width:$.width,height:$.height};$.width&&$.height&&(ne.url=te.toDataURL("image/png")),Y>0&&(ne.x=$.x,ne.y=$.y,ne.z=$.z,ne.alpha=$.alpha,ne.matrix=$.matrix,ne.parent=J($.parent)),v.layers[P]=ne}l(v)})},this.importState=function(l,v){var y,I;b=l.currentState,_=l.currentTimestamp;for(y in h)I=parseInt(y),I>0&&g.dispose(h[y]);h={};for(y in l.layers){I=parseInt(y);var F=l.layers[y],P=k(I);if(g.resize(P,F.width,F.height),F.url&&(g.setChannelMask(P,o.Layer.SRC),g.draw(P,0,0,F.url)),I>0&&F.parent>=0){var Y=k(F.parent);g.move(P,Y,F.x,F.y,F.z),g.shade(P,F.alpha);var $=F.matrix;g.distort(P,$[0],$[1],$[2],$[3],$[4],$[5])}}g.flush(v)},this.getDisplay=function(){return g},this.sendSize=function(V,l){!L()||d.sendMessage("size",V,l)},this.sendKeyEvent=function(V,l){!L()||d.sendMessage("key",l,V)},this.sendMouseState=function(V){if(!!L()){g.moveCursor(Math.floor(V.x),Math.floor(V.y));var l=0;V.left&&(l|=1),V.middle&&(l|=2),V.right&&(l|=4),V.up&&(l|=8),V.down&&(l|=16),d.sendMessage("mouse",Math.floor(V.x),Math.floor(V.y),l)}},this.createOutputStream=function(){var l=z.next(),v=N[l]=new o.OutputStream(i,l);return v},this.createAudioStream=function(V){var l=i.createOutputStream();return d.sendMessage("audio",l.index,V),l},this.createFileStream=function(V,l){var v=i.createOutputStream();return d.sendMessage("file",v.index,V,l),v},this.createPipeStream=function(V,l){var v=i.createOutputStream();return d.sendMessage("pipe",v.index,V,l),v},this.createClipboardStream=function(V){var l=i.createOutputStream();return d.sendMessage("clipboard",l.index,V),l},this.createArgumentValueStream=function(l,v){var y=i.createOutputStream();return d.sendMessage("argv",y.index,l,v),y},this.createObjectOutputStream=function(l,v,y){var I=i.createOutputStream();return d.sendMessage("put",l,I.index,v,y),I},this.requestObjectInputStream=function(l,v){!L()||d.sendMessage("get",l,v)},this.sendAck=function(V,l,v){!L()||d.sendMessage("ack",V,l,v)},this.sendBlob=function(V,l){!L()||d.sendMessage("blob",V,l)},this.endStream=function(V){!L()||(d.sendMessage("end",V),N[V]&&(z.free(V),delete N[V]))},this.onstatechange=null,this.onname=null,this.onerror=null,this.onaudio=null,this.onvideo=null,this.onargv=null,this.onclipboard=null,this.onfile=null,this.onfilesystem=null,this.onpipe=null,this.onrequired=null,this.onsync=null;var k=function(l){var v=h[l];return v||(l===0?v=g.getDefaultLayer():l>0?v=g.createLayer():v=g.createBuffer(),h[l]=v),v},J=function(l){if(!l)return null;for(var v in h)if(l===h[v])return parseInt(v);return null};function ee(V){var l=W[V];return l==null&&(l=W[V]=new o.Parser,l.oninstruction=d.oninstruction),l}var ae={"miter-limit":function(l,v){g.setMiterLimit(l,parseFloat(v))}},Re={ack:function(l){var v=parseInt(l[0]),y=l[1],I=parseInt(l[2]),F=N[v];F&&(F.onack&&F.onack(new o.Status(I,y)),I>=256&&N[v]===F&&(z.free(v),delete N[v]))},arc:function(l){var v=k(parseInt(l[0])),y=parseInt(l[1]),I=parseInt(l[2]),F=parseInt(l[3]),P=parseFloat(l[4]),Y=parseFloat(l[5]),$=parseInt(l[6]);g.arc(v,y,I,F,P,Y,$!=0)},argv:function(l){var v=parseInt(l[0]),y=l[1],I=l[2];if(i.onargv){var F=B[v]=new o.InputStream(i,v);i.onargv(F,y,I)}else i.sendAck(v,"Receiving argument values unsupported",256)},audio:function(l){var v=parseInt(l[0]),y=l[1],I=B[v]=new o.InputStream(i,v),F=null;i.onaudio&&(F=i.onaudio(I,y)),F||(F=o.AudioPlayer.getInstance(I,y)),F?(S[v]=F,i.sendAck(v,"OK",0)):i.sendAck(v,"BAD TYPE",783)},blob:function(l){var v=parseInt(l[0]),y=l[1],I=B[v];I&&I.onblob&&I.onblob(y)},body:function(l){var v=parseInt(l[0]),y=U[v],I=parseInt(l[1]),F=l[2],P=l[3];if(y&&y.onbody){var Y=B[I]=new o.InputStream(i,I);y.onbody(Y,F,P)}else i.sendAck(I,"Receipt of body unsupported",256)},cfill:function(l){var v=parseInt(l[0]),y=k(parseInt(l[1])),I=parseInt(l[2]),F=parseInt(l[3]),P=parseInt(l[4]),Y=parseInt(l[5]);g.setChannelMask(y,v),g.fillColor(y,I,F,P,Y)},clip:function(l){var v=k(parseInt(l[0]));g.clip(v)},clipboard:function(l){var v=parseInt(l[0]),y=l[1];if(i.onclipboard){var I=B[v]=new o.InputStream(i,v);i.onclipboard(I,y)}else i.sendAck(v,"Clipboard unsupported",256)},close:function(l){var v=k(parseInt(l[0]));g.close(v)},copy:function(l){var v=k(parseInt(l[0])),y=parseInt(l[1]),I=parseInt(l[2]),F=parseInt(l[3]),P=parseInt(l[4]),Y=parseInt(l[5]),$=k(parseInt(l[6])),te=parseInt(l[7]),ne=parseInt(l[8]);g.setChannelMask($,Y),g.copy(v,y,I,F,P,$,te,ne)},cstroke:function(l){var v=parseInt(l[0]),y=k(parseInt(l[1])),I=T[parseInt(l[2])],F=R[parseInt(l[3])],P=parseInt(l[4]),Y=parseInt(l[5]),$=parseInt(l[6]),te=parseInt(l[7]),ne=parseInt(l[8]);g.setChannelMask(y,v),g.strokeColor(y,I,F,P,Y,$,te,ne)},cursor:function(l){var v=parseInt(l[0]),y=parseInt(l[1]),I=k(parseInt(l[2])),F=parseInt(l[3]),P=parseInt(l[4]),Y=parseInt(l[5]),$=parseInt(l[6]);g.setCursor(v,y,I,F,P,Y,$)},curve:function(l){var v=k(parseInt(l[0])),y=parseInt(l[1]),I=parseInt(l[2]),F=parseInt(l[3]),P=parseInt(l[4]),Y=parseInt(l[5]),$=parseInt(l[6]);g.curveTo(v,y,I,F,P,Y,$)},disconnect:function(l){i.disconnect()},dispose:function(l){var v=parseInt(l[0]);if(v>0){var y=k(v);g.dispose(y),delete h[v]}else v<0&&delete h[v]},distort:function(l){var v=parseInt(l[0]),y=parseFloat(l[1]),I=parseFloat(l[2]),F=parseFloat(l[3]),P=parseFloat(l[4]),Y=parseFloat(l[5]),$=parseFloat(l[6]);if(v>=0){var te=k(v);g.distort(te,y,I,F,P,Y,$)}},error:function(l){var v=l[0],y=parseInt(l[1]);i.onerror&&i.onerror(new o.Status(y,v)),i.disconnect()},end:function(l){var v=parseInt(l[0]),y=B[v];y&&(y.onend&&y.onend(),delete B[v])},file:function(l){var v=parseInt(l[0]),y=l[1],I=l[2];if(i.onfile){var F=B[v]=new o.InputStream(i,v);i.onfile(F,y,I)}else i.sendAck(v,"File transfer unsupported",256)},filesystem:function(l){var v=parseInt(l[0]),y=l[1];if(i.onfilesystem){var I=U[v]=new o.Object(i,v);i.onfilesystem(I,y)}},identity:function(l){var v=k(parseInt(l[0]));g.setTransform(v,1,0,0,1,0,0)},img:function(l){var v=parseInt(l[0]),y=parseInt(l[1]),I=k(parseInt(l[2])),F=l[3],P=parseInt(l[4]),Y=parseInt(l[5]),$=B[v]=new o.InputStream(i,v);g.setChannelMask(I,y),g.drawStream(I,P,Y,$,F)},jpeg:function(l){var v=parseInt(l[0]),y=k(parseInt(l[1])),I=parseInt(l[2]),F=parseInt(l[3]),P=l[4];g.setChannelMask(y,v),g.draw(y,I,F,"data:image/jpeg;base64,"+P)},lfill:function(l){var v=parseInt(l[0]),y=k(parseInt(l[1])),I=k(parseInt(l[2]));g.setChannelMask(y,v),g.fillLayer(y,I)},line:function(l){var v=k(parseInt(l[0])),y=parseInt(l[1]),I=parseInt(l[2]);g.lineTo(v,y,I)},lstroke:function(l){var v=parseInt(l[0]),y=k(parseInt(l[1])),I=k(parseInt(l[2]));g.setChannelMask(y,v),g.strokeLayer(y,I)},mouse:function(l){var v=parseInt(l[0]),y=parseInt(l[1]);g.showCursor(!0),g.moveCursor(v,y)},move:function(l){var v=parseInt(l[0]),y=parseInt(l[1]),I=parseInt(l[2]),F=parseInt(l[3]),P=parseInt(l[4]);if(v>0&&y>=0){var Y=k(v),$=k(y);g.move(Y,$,I,F,P)}},name:function(l){i.onname&&i.onname(l[0])},nest:function(l){var v=ee(parseInt(l[0]));v.receive(l[1])},pipe:function(l){var v=parseInt(l[0]),y=l[1],I=l[2];if(i.onpipe){var F=B[v]=new o.InputStream(i,v);i.onpipe(F,y,I)}else i.sendAck(v,"Named pipes unsupported",256)},png:function(l){var v=parseInt(l[0]),y=k(parseInt(l[1])),I=parseInt(l[2]),F=parseInt(l[3]),P=l[4];g.setChannelMask(y,v),g.draw(y,I,F,"data:image/png;base64,"+P)},pop:function(l){var v=k(parseInt(l[0]));g.pop(v)},push:function(l){var v=k(parseInt(l[0]));g.push(v)},rect:function(l){var v=k(parseInt(l[0])),y=parseInt(l[1]),I=parseInt(l[2]),F=parseInt(l[3]),P=parseInt(l[4]);g.rect(v,y,I,F,P)},required:function(l){i.onrequired&&i.onrequired(l)},reset:function(l){var v=k(parseInt(l[0]));g.reset(v)},set:function(l){var v=k(parseInt(l[0])),y=l[1],I=l[2],F=ae[y];F&&F(v,I)},shade:function(l){var v=parseInt(l[0]),y=parseInt(l[1]);if(v>=0){var I=k(v);g.shade(I,y)}},size:function(l){var v=parseInt(l[0]),y=k(v),I=parseInt(l[1]),F=parseInt(l[2]);g.resize(y,I,F)},start:function(l){var v=k(parseInt(l[0])),y=parseInt(l[1]),I=parseInt(l[2]);g.moveTo(v,y,I)},sync:function(l){var v=parseInt(l[0]);g.flush(function(){for(var I in S){var F=S[I];F&&F.sync()}v!==_&&(d.sendMessage("sync",v),_=v)}),b===m&&D(c),i.onsync&&i.onsync(v)},transfer:function(l){var v=k(parseInt(l[0])),y=parseInt(l[1]),I=parseInt(l[2]),F=parseInt(l[3]),P=parseInt(l[4]),Y=parseInt(l[5]),$=k(parseInt(l[6])),te=parseInt(l[7]),ne=parseInt(l[8]);Y===3?g.put(v,y,I,F,P,$,te,ne):Y!==5&&g.transfer(v,y,I,F,P,$,te,ne,o.Client.DefaultTransferFunction[Y])},transform:function(l){var v=k(parseInt(l[0])),y=parseFloat(l[1]),I=parseFloat(l[2]),F=parseFloat(l[3]),P=parseFloat(l[4]),Y=parseFloat(l[5]),$=parseFloat(l[6]);g.transform(v,y,I,F,P,Y,$)},undefine:function(l){var v=parseInt(l[0]),y=U[v];y&&y.onundefine&&y.onundefine()},video:function(l){var v=parseInt(l[0]),y=k(parseInt(l[1])),I=l[2],F=B[v]=new o.InputStream(i,v),P=null;i.onvideo&&(P=i.onvideo(F,y,I)),P||(P=o.VideoPlayer.getInstance(F,y,I)),P?(M[v]=P,i.sendAck(v,"OK",0)):i.sendAck(v,"BAD TYPE",783)}};d.oninstruction=function(V,l){var v=Re[V];v&&v(l)},this.disconnect=function(){b!=w&&b!=E&&(D(E),O&&window.clearInterval(O),d.sendMessage("disconnect"),d.disconnect(),D(w))},this.connect=function(V){D(p);try{d.connect(V)}catch(l){throw D(a),l}O=window.setInterval(function(){d.sendMessage("nop")},5e3),D(m)}},o.Client.DefaultTransferFunction={0:function(i,a){a.red=a.green=a.blue=0},15:function(i,a){a.red=a.green=a.blue=255},3:function(i,a){a.red=i.red,a.green=i.green,a.blue=i.blue,a.alpha=i.alpha},5:function(i,a){},12:function(i,a){a.red=255&~i.red,a.green=255&~i.green,a.blue=255&~i.blue,a.alpha=i.alpha},10:function(i,a){a.red=255&~a.red,a.green=255&~a.green,a.blue=255&~a.blue},1:function(i,a){a.red=i.red&a.red,a.green=i.green&a.green,a.blue=i.blue&a.blue},14:function(i,a){a.red=255&~(i.red&a.red),a.green=255&~(i.green&a.green),a.blue=255&~(i.blue&a.blue)},7:function(i,a){a.red=i.red|a.red,a.green=i.green|a.green,a.blue=i.blue|a.blue},8:function(i,a){a.red=255&~(i.red|a.red),a.green=255&~(i.green|a.green),a.blue=255&~(i.blue|a.blue)},6:function(i,a){a.red=i.red^a.red,a.green=i.green^a.green,a.blue=i.blue^a.blue},9:function(i,a){a.red=255&~(i.red^a.red),a.green=255&~(i.green^a.green),a.blue=255&~(i.blue^a.blue)},4:function(i,a){a.red=255&(~i.red&a.red),a.green=255&(~i.green&a.green),a.blue=255&(~i.blue&a.blue)},13:function(i,a){a.red=255&(~i.red|a.red),a.green=255&(~i.green|a.green),a.blue=255&(~i.blue|a.blue)},2:function(i,a){a.red=255&(i.red&~a.red),a.green=255&(i.green&~a.green),a.blue=255&(i.blue&~a.blue)},11:function(i,a){a.red=255&(i.red|~a.red),a.green=255&(i.green|~a.green),a.blue=255&(i.blue|~a.blue)}};var o=o||{};o.DataURIReader=function(d,i){var a=this,p="data:"+i+";base64,";d.onblob=function(c){p+=c},d.onend=function(){a.onend&&a.onend()},this.getURI=function(){return p},this.onend=null};var o=o||{};o.Display=function(){var d=this,i=0,a=0,p=1,m=document.createElement("div");m.style.position="relative",m.style.width=i+"px",m.style.height=a+"px",m.style.transformOrigin=m.style.webkitTransformOrigin=m.style.MozTransformOrigin=m.style.OTransformOrigin=m.style.msTransformOrigin="0 0";var c=new o.Display.VisibleLayer(i,a),E=new o.Display.VisibleLayer(0,0);E.setChannelMask(o.Layer.SRC),m.appendChild(c.getElement()),m.appendChild(E.getElement());var w=document.createElement("div");w.style.position="relative",w.style.width=i*p+"px",w.style.height=a*p+"px",w.appendChild(m),this.cursorHotspotX=0,this.cursorHotspotY=0,this.cursorX=0,this.cursorY=0,this.onresize=null,this.oncursor=null;var b=[],_=[];function O(){for(var h=0;h<_.length;){var S=_[h];if(!S.isReady())break;S.flush(),h++}_.splice(0,h)}function T(h,S){this.isReady=function(){for(var M=0;M<S.length;M++)if(S[M].blocked)return!1;return!0},this.flush=function(){for(var M=0;M<S.length;M++)S[M].execute();h&&h()}}function R(h,S){var M=this;this.blocked=S,this.unblock=function(){M.blocked&&(M.blocked=!1,O())},this.execute=function(){h&&h()}}function g(h,S){var M=new R(h,S);return b.push(M),M}this.getElement=function(){return w},this.getWidth=function(){return i},this.getHeight=function(){return a},this.getDefaultLayer=function(){return c},this.getCursorLayer=function(){return E},this.createLayer=function(){var h=new o.Display.VisibleLayer(i,a);return h.move(c,0,0,0),h},this.createBuffer=function(){var h=new o.Layer(0,0);return h.autosize=1,h},this.flush=function(h){_.push(new T(h,b)),b=[],O()},this.setCursor=function(h,S,M,W,B,U,z){g(function(){d.cursorHotspotX=h,d.cursorHotspotY=S,E.resize(U,z),E.copy(M,W,B,U,z,0,0),d.moveCursor(d.cursorX,d.cursorY),d.oncursor&&d.oncursor(E.toCanvas(),h,S)})},this.showCursor=function(h){var S=E.getElement(),M=S.parentNode;h===!1?M&&M.removeChild(S):M!==m&&m.appendChild(S)},this.moveCursor=function(h,S){E.translate(h-d.cursorHotspotX,S-d.cursorHotspotY),d.cursorX=h,d.cursorY=S},this.resize=function(h,S,M){g(function(){h.resize(S,M),h===c&&(i=S,a=M,m.style.width=i+"px",m.style.height=a+"px",w.style.width=i*p+"px",w.style.height=a*p+"px",d.onresize&&d.onresize(S,M))})},this.drawImage=function(h,S,M,W){g(function(){h.drawImage(S,M,W)})},this.drawBlob=function(h,S,M,W){var B;if(window.createImageBitmap){var U;B=g(function(){h.drawImage(S,M,U)},!0),window.createImageBitmap(W).then(function(L){U=L,B.unblock()})}else{var z=URL.createObjectURL(W);B=g(function(){N.width&&N.height&&h.drawImage(S,M,N),URL.revokeObjectURL(z)},!0);var N=new Image;N.onload=B.unblock,N.onerror=B.unblock,N.src=z}},this.drawStream=function(S,M,W,B,U){if(window.createImageBitmap){var z=new o.BlobReader(B,U);z.onend=function(){d.drawBlob(S,M,W,z.getBlob())}}else{var z=new o.DataURIReader(B,U);z.onend=function(){d.draw(S,M,W,z.getURI())}}},this.draw=function(h,S,M,W){var B=g(function(){U.width&&U.height&&h.drawImage(S,M,U)},!0),U=new Image;U.onload=B.unblock,U.onerror=B.unblock,U.src=W},this.play=function(h,S,M,W){var B=document.createElement("video");B.type=S,B.src=W,B.addEventListener("play",function(){function U(){h.drawImage(0,0,B),B.ended||window.setTimeout(U,20)}U()},!1),g(B.play)},this.transfer=function(h,S,M,W,B,U,z,N,D){g(function(){U.transfer(h,S,M,W,B,z,N,D)})},this.put=function(h,S,M,W,B,U,z,N){g(function(){U.put(h,S,M,W,B,z,N)})},this.copy=function(h,S,M,W,B,U,z,N){g(function(){U.copy(h,S,M,W,B,z,N)})},this.moveTo=function(h,S,M){g(function(){h.moveTo(S,M)})},this.lineTo=function(h,S,M){g(function(){h.lineTo(S,M)})},this.arc=function(h,S,M,W,B,U,z){g(function(){h.arc(S,M,W,B,U,z)})},this.curveTo=function(h,S,M,W,B,U,z){g(function(){h.curveTo(S,M,W,B,U,z)})},this.close=function(h){g(function(){h.close()})},this.rect=function(h,S,M,W,B){g(function(){h.rect(S,M,W,B)})},this.clip=function(h){g(function(){h.clip()})},this.strokeColor=function(h,S,M,W,B,U,z,N){g(function(){h.strokeColor(S,M,W,B,U,z,N)})},this.fillColor=function(h,S,M,W,B){g(function(){h.fillColor(S,M,W,B)})},this.strokeLayer=function(h,S,M,W,B){g(function(){h.strokeLayer(S,M,W,B)})},this.fillLayer=function(h,S){g(function(){h.fillLayer(S)})},this.push=function(h){g(function(){h.push()})},this.pop=function(h){g(function(){h.pop()})},this.reset=function(h){g(function(){h.reset()})},this.setTransform=function(h,S,M,W,B,U,z){g(function(){h.setTransform(S,M,W,B,U,z)})},this.transform=function(h,S,M,W,B,U,z){g(function(){h.transform(S,M,W,B,U,z)})},this.setChannelMask=function(h,S){g(function(){h.setChannelMask(S)})},this.setMiterLimit=function(h,S){g(function(){h.setMiterLimit(S)})},this.dispose=function(S){g(function(){S.dispose()})},this.distort=function(S,M,W,B,U,z,N){g(function(){S.distort(M,W,B,U,z,N)})},this.move=function(S,M,W,B,U){g(function(){S.move(M,W,B,U)})},this.shade=function(S,M){g(function(){S.shade(M)})},this.scale=function(h){m.style.transform=m.style.WebkitTransform=m.style.MozTransform=m.style.OTransform=m.style.msTransform="scale("+h+","+h+")",p=h,w.style.width=i*p+"px",w.style.height=a*p+"px"},this.getScale=function(){return p},this.flatten=function(){var h=document.createElement("canvas");h.width=c.width,h.height=c.height;var S=h.getContext("2d");function M(B){var U=[];for(var z in B.children)U.push(B.children[z]);return U.sort(function(D,L){var k=D.z-L.z;if(k!==0)return k;var J=D.getElement(),ee=L.getElement(),ae=ee.compareDocumentPosition(J);return ae&Node.DOCUMENT_POSITION_PRECEDING?-1:ae&Node.DOCUMENT_POSITION_FOLLOWING?1:0}),U}function W(B,U,z){if(B.width>0&&B.height>0){var N=S.globalAlpha;S.globalAlpha*=B.alpha/255,S.drawImage(B.getCanvas(),U,z);for(var D=M(B),L=0;L<D.length;L++){var k=D[L];W(k,U+k.x,z+k.y)}S.globalAlpha=N}}return W(c,0,0),h}},o.Display.VisibleLayer=function(d,i){o.Layer.apply(this,[d,i]);var a=this;this.__unique_id=o.Display.VisibleLayer.__next_id++,this.alpha=255,this.x=0,this.y=0,this.z=0,this.matrix=[1,0,0,1,0,0],this.parent=null,this.children={};var p=a.getCanvas();p.style.position="absolute",p.style.left="0px",p.style.top="0px";var m=document.createElement("div");m.appendChild(p),m.style.width=d+"px",m.style.height=i+"px",m.style.position="absolute",m.style.left="0px",m.style.top="0px",m.style.overflow="hidden";var c=this.resize;this.resize=function(b,_){m.style.width=b+"px",m.style.height=_+"px",c(b,_)},this.getElement=function(){return m};var E="translate(0px, 0px)",w="matrix(1, 0, 0, 1, 0, 0)";this.translate=function(b,_){a.x=b,a.y=_,E="translate("+b+"px,"+_+"px)",m.style.transform=m.style.WebkitTransform=m.style.MozTransform=m.style.OTransform=m.style.msTransform=E+" "+w},this.move=function(b,_,O,T){if(a.parent!==b){a.parent&&delete a.parent.children[a.__unique_id],a.parent=b,b.children[a.__unique_id]=a;var R=b.getElement();R.appendChild(m)}a.translate(_,O),a.z=T,m.style.zIndex=T},this.shade=function(b){a.alpha=b,m.style.opacity=b/255},this.dispose=function(){a.parent&&(delete a.parent.children[a.__unique_id],a.parent=null),m.parentNode&&m.parentNode.removeChild(m)},this.distort=function(b,_,O,T,R,g){a.matrix=[b,_,O,T,R,g],w="matrix("+b+","+_+","+O+","+T+","+R+","+g+")",m.style.transform=m.style.WebkitTransform=m.style.MozTransform=m.style.OTransform=m.style.msTransform=E+" "+w}},o.Display.VisibleLayer.__next_id=0;var o=o||{};o.InputSink=function(){var i=this,a=document.createElement("textarea");a.style.position="fixed",a.style.outline="none",a.style.border="none",a.style.margin="0",a.style.padding="0",a.style.height="0",a.style.width="0",a.style.left="0",a.style.bottom="0",a.style.resize="none",a.style.background="transparent",a.style.color="transparent",a.addEventListener("keypress",function(m){a.value=""},!1),a.addEventListener("compositionend",function(m){m.data&&(a.value="")},!1),a.addEventListener("input",function(m){m.data&&!m.isComposing&&(a.value="")},!1),a.addEventListener("focus",function(){window.setTimeout(function(){a.click(),a.select()},0)},!0),this.focus=function(){window.setTimeout(function(){a.focus()},0)},this.getElement=function(){return a},document.addEventListener("keydown",function(m){var c=document.activeElement;if(c&&c!==document.body){var E=c.getBoundingClientRect();if(E.left+E.width>0&&E.top+E.height>0)return}i.focus()},!0)};var o=o||{};o.InputStream=function(d,i){var a=this;this.index=i,this.onblob=null,this.onend=null,this.sendAck=function(p,m){d.sendAck(a.index,p,m)}};var o=o||{};o.IntegerPool=function(){var d=this,i=[];this.next_int=0,this.next=function(){return i.length>0?i.shift():d.next_int++},this.free=function(a){i.push(a)}};var o=o||{};o.JSONReader=function(i){var a=this,p=new o.StringReader(i),m="";this.getLength=function(){return m.length},this.getJSON=function(){return JSON.parse(m)},p.ontext=function(E){m+=E,a.onprogress&&a.onprogress(E.length)},p.onend=function(){a.onend&&a.onend()},this.onprogress=null,this.onend=null};var o=o||{};o.Keyboard=function(i){var a=this,p=o.Keyboard._nextID++,m="_GUAC_KEYBOARD_HANDLED_BY_"+p;this.onkeydown=null,this.onkeyup=null;var c={keyupUnreliable:!1,altIsTypableOnly:!1,capsLockKeyupUnreliable:!1};navigator&&navigator.platform&&(navigator.platform.match(/ipad|iphone|ipod/i)?c.keyupUnreliable=!0:navigator.platform.match(/^mac/i)&&(c.altIsTypableOnly=!0,c.capsLockKeyupUnreliable=!0));var E=function(){var P=this;this.timestamp=new Date().getTime(),this.defaultPrevented=!1,this.keysym=null,this.reliable=!1,this.getAge=function(){return new Date().getTime()-P.timestamp}},w=function(P,Y,$,te){E.apply(this),this.keyCode=P,this.keyIdentifier=Y,this.key=$,this.location=te,this.keysym=N($,te)||k(P,te),this.keyupReliable=!c.keyupUnreliable,this.keysym&&!z(this.keysym)&&(this.reliable=!0),!this.keysym&&J(P,Y)&&(this.keysym=N(Y,te,a.modifiers.shift)),a.modifiers.meta&&this.keysym!==65511&&this.keysym!==65512?this.keyupReliable=!1:this.keysym===65509&&c.capsLockKeyupUnreliable&&(this.keyupReliable=!1);var ne=!a.modifiers.ctrl&&!c.altIsTypableOnly,ie=!a.modifiers.alt;(ie&&a.modifiers.ctrl||ne&&a.modifiers.alt||a.modifiers.meta||a.modifiers.hyper)&&(this.reliable=!0),M[P]=this.keysym};w.prototype=new E;var b=function(P){E.apply(this),this.charCode=P,this.keysym=L(P),this.reliable=!0};b.prototype=new E;var _=function(P,Y,$,te){E.apply(this),this.keyCode=P,this.keyIdentifier=Y,this.key=$,this.location=te,this.keysym=k(P,te)||N($,te),a.pressed[this.keysym]||(this.keysym=M[P]||this.keysym),this.reliable=!0};_.prototype=new E;var O=[],T={8:[65288],9:[65289],12:[65291,65291,65291,65461],13:[65293],16:[65505,65505,65506],17:[65507,65507,65508],18:[65513,65513,65027],19:[65299],20:[65509],27:[65307],32:[32],33:[65365,65365,65365,65465],34:[65366,65366,65366,65459],35:[65367,65367,65367,65457],36:[65360,65360,65360,65463],37:[65361,65361,65361,65460],38:[65362,65362,65362,65464],39:[65363,65363,65363,65462],40:[65364,65364,65364,65458],45:[65379,65379,65379,65456],46:[65535,65535,65535,65454],91:[65515],92:[65383],93:null,96:[65456],97:[65457],98:[65458],99:[65459],100:[65460],101:[65461],102:[65462],103:[65463],104:[65464],105:[65465],106:[65450],107:[65451],109:[65453],110:[65454],111:[65455],112:[65470],113:[65471],114:[65472],115:[65473],116:[65474],117:[65475],118:[65476],119:[65477],120:[65478],121:[65479],122:[65480],123:[65481],144:[65407],145:[65300],225:[65027]},R={Again:[65382],AllCandidates:[65341],Alphanumeric:[65328],Alt:[65513,65513,65027],Attn:[64782],AltGraph:[65027],ArrowDown:[65364],ArrowLeft:[65361],ArrowRight:[65363],ArrowUp:[65362],Backspace:[65288],CapsLock:[65509],Cancel:[65385],Clear:[65291],Convert:[65313],Copy:[64789],Crsel:[64796],CrSel:[64796],CodeInput:[65335],Compose:[65312],Control:[65507,65507,65508],ContextMenu:[65383],Delete:[65535],Down:[65364],End:[65367],Enter:[65293],EraseEof:[64774],Escape:[65307],Execute:[65378],Exsel:[64797],ExSel:[64797],F1:[65470],F2:[65471],F3:[65472],F4:[65473],F5:[65474],F6:[65475],F7:[65476],F8:[65477],F9:[65478],F10:[65479],F11:[65480],F12:[65481],F13:[65482],F14:[65483],F15:[65484],F16:[65485],F17:[65486],F18:[65487],F19:[65488],F20:[65489],F21:[65490],F22:[65491],F23:[65492],F24:[65493],Find:[65384],GroupFirst:[65036],GroupLast:[65038],GroupNext:[65032],GroupPrevious:[65034],FullWidth:null,HalfWidth:null,HangulMode:[65329],Hankaku:[65321],HanjaMode:[65332],Help:[65386],Hiragana:[65317],HiraganaKatakana:[65319],Home:[65360],Hyper:[65517,65517,65518],Insert:[65379],JapaneseHiragana:[65317],JapaneseKatakana:[65318],JapaneseRomaji:[65316],JunjaMode:[65336],KanaMode:[65325],KanjiMode:[65313],Katakana:[65318],Left:[65361],Meta:[65511,65511,65512],ModeChange:[65406],NumLock:[65407],PageDown:[65366],PageUp:[65365],Pause:[65299],Play:[64790],PreviousCandidate:[65342],PrintScreen:[65377],Redo:[65382],Right:[65363],RomanCharacters:null,Scroll:[65300],Select:[65376],Separator:[65452],Shift:[65505,65505,65506],SingleCandidate:[65340],Super:[65515,65515,65516],Tab:[65289],UIKeyInputDownArrow:[65364],UIKeyInputEscape:[65307],UIKeyInputLeftArrow:[65361],UIKeyInputRightArrow:[65363],UIKeyInputUpArrow:[65362],Up:[65362],Undo:[65381],Win:[65515],Zenkaku:[65320],ZenkakuHankaku:[65322]},g={65027:!0,65505:!0,65506:!0,65507:!0,65508:!0,65509:!0,65511:!0,65512:!0,65513:!0,65514:!0,65515:!0,65516:!0};this.modifiers=new o.Keyboard.ModifierState,this.pressed={};var h={},S={},M={},W=null,B=null,U=function(P,Y){return P?P[Y]||P[0]:null},z=function(P){return P>=0&&P<=255||(P&4294901760)==16777216};function N(F,P,Y){if(!F)return null;var $,te=F.indexOf("U+");if(te>=0){var ne=F.substring(te+2);$=String.fromCharCode(parseInt(ne,16))}else if(F.length===1&&P!==3)$=F;else return U(R[F],P);Y===!0?$=$.toUpperCase():Y===!1&&($=$.toLowerCase());var ie=$.charCodeAt(0);return L(ie)}function D(F){return F<=31||F>=127&&F<=159}function L(F){return D(F)?65280|F:F>=0&&F<=255?F:F>=256&&F<=1114111?16777216|F:null}function k(F,P){return U(T[F],P)}var J=function(P,Y){if(!Y)return!1;var $=Y.indexOf("U+");if($===-1)return!0;var te=parseInt(Y.substring($+2),16);return P!==te||P>=65&&P<=90||P>=48&&P<=57};this.press=function(F){if(F!==null){if(!a.pressed[F]&&(a.pressed[F]=!0,a.onkeydown)){var P=a.onkeydown(F);return S[F]=P,window.clearTimeout(W),window.clearInterval(B),g[F]||(W=window.setTimeout(function(){B=window.setInterval(function(){a.onkeyup(F),a.onkeydown(F)},50)},500)),P}return S[F]||!1}},this.release=function(F){a.pressed[F]&&(delete a.pressed[F],delete h[F],window.clearTimeout(W),window.clearInterval(B),F!==null&&a.onkeyup&&a.onkeyup(F))},this.type=function(P){for(var Y=0;Y<P.length;Y++){var $=P.codePointAt?P.codePointAt(Y):P.charCodeAt(Y),te=L($);a.press(te),a.release(te)}},this.reset=function(){for(var F in a.pressed)a.release(parseInt(F));O=[]};var ee=function(P,Y,$,te){var ne;if($.indexOf(te.keysym)===-1){if(P&&Y===!1)for(ne=0;ne<$.length;ne++)a.release($[ne]);else if(!P&&Y){for(ne=0;ne<$.length;ne++)if(a.pressed[$[ne]])return;var ie=$[0];te.keysym&&(h[ie]=!0),a.press(ie)}}},ae=function(P,Y){var $=o.Keyboard.ModifierState.fromKeyboardEvent(P);ee(a.modifiers.alt,$.alt,[65513,65514,65027],Y),ee(a.modifiers.shift,$.shift,[65505,65506],Y),ee(a.modifiers.ctrl,$.ctrl,[65507,65508],Y),ee(a.modifiers.meta,$.meta,[65511,65512],Y),ee(a.modifiers.hyper,$.hyper,[65515,65516],Y),a.modifiers=$},Re=function(){for(var P in a.pressed)if(!h[P])return!1;return!0};function V(){var F=v();if(!F)return!1;var P;do P=F,F=v();while(F!==null);return Re()&&a.reset(),P.defaultPrevented}var l=function(P){!a.modifiers.ctrl||!a.modifiers.alt||P>=65&&P<=90||P>=97&&P<=122||(P<=255||(P&4278190080)==16777216)&&(a.release(65507),a.release(65508),a.release(65513),a.release(65514))},v=function(){var P=O[0];if(!P)return null;if(P instanceof w){var Y=null,$=[];if(P.reliable?(Y=P.keysym,$=O.splice(0,1)):O[1]instanceof b?(Y=O[1].keysym,$=O.splice(0,2)):O[1]&&(Y=P.keysym,$=O.splice(0,1)),$.length>0){if(Y){l(Y);var te=!a.press(Y);M[P.keyCode]=Y,P.keyupReliable||a.release(Y);for(var ne=0;ne<$.length;ne++)$[ne].defaultPrevented=te}return P}}else if(P instanceof _&&!c.keyupUnreliable){var Y=P.keysym;if(Y)a.release(Y),delete M[P.keyCode],P.defaultPrevented=!0;else return a.reset(),P;return O.shift()}else return O.shift();return null},y=function(P){return"location"in P?P.location:"keyLocation"in P?P.keyLocation:0},I=function(P){return P[m]?!1:(P[m]=!0,!0)};this.listenTo=function(P){P.addEventListener("keydown",function(te){if(!!a.onkeydown&&!!I(te)){var ne;window.event?ne=window.event.keyCode:te.which&&(ne=te.which);var ie=new w(ne,te.keyIdentifier,te.key,y(te));ae(te,ie),ne!==229&&(O.push(ie),V()&&te.preventDefault())}},!0),P.addEventListener("keypress",function(te){if(!(!a.onkeydown&&!a.onkeyup)&&!!I(te)){var ne;window.event?ne=window.event.keyCode:te.which&&(ne=te.which);var ie=new b(ne);ae(te,ie),O.push(ie),V()&&te.preventDefault()}},!0),P.addEventListener("keyup",function(te){if(!!a.onkeyup&&!!I(te)){te.preventDefault();var ne;window.event?ne=window.event.keyCode:te.which&&(ne=te.which);var ie=new _(ne,te.keyIdentifier,te.key,y(te));ae(te,ie),O.push(ie),V()}},!0);var Y=function(ne){!a.onkeydown&&!a.onkeyup||!I(ne)||ne.data&&!ne.isComposing&&(P.removeEventListener("compositionend",$,!1),a.type(ne.data))},$=function(ne){!a.onkeydown&&!a.onkeyup||!I(ne)||ne.data&&(P.removeEventListener("input",Y,!1),a.type(ne.data))};P.addEventListener("input",Y,!1),P.addEventListener("compositionend",$,!1)},i&&a.listenTo(i)},o.Keyboard._nextID=0,o.Keyboard.ModifierState=function(){this.shift=!1,this.ctrl=!1,this.alt=!1,this.meta=!1,this.hyper=!1},o.Keyboard.ModifierState.fromKeyboardEvent=function(d){var i=new o.Keyboard.ModifierState;return i.shift=d.shiftKey,i.ctrl=d.ctrlKey,i.alt=d.altKey,i.meta=d.metaKey,d.getModifierState&&(i.hyper=d.getModifierState("OS")||d.getModifierState("Super")||d.getModifierState("Hyper")||d.getModifierState("Win")),i};var o=o||{};o.Layer=function(d,i){var a=this,p=64,m=document.createElement("canvas"),c=m.getContext("2d");c.save();var E=!0,w=!0,b=0,_={1:"destination-in",2:"destination-out",4:"source-in",6:"source-atop",8:"source-out",9:"destination-atop",10:"xor",11:"destination-over",12:"copy",14:"source-over",15:"lighter"},O=function(g,h){g=g||0,h=h||0;var S=Math.ceil(g/p)*p,M=Math.ceil(h/p)*p;if(m.width!==S||m.height!==M){var W=null;if(!E&&m.width!==0&&m.height!==0){W=document.createElement("canvas"),W.width=Math.min(a.width,g),W.height=Math.min(a.height,h);var B=W.getContext("2d");B.drawImage(m,0,0,W.width,W.height,0,0,W.width,W.height)}var U=c.globalCompositeOperation;m.width=S,m.height=M,W&&c.drawImage(W,0,0,W.width,W.height,0,0,W.width,W.height),c.globalCompositeOperation=U,b=0,c.save()}else a.reset();a.width=g,a.height=h};function T(R,g,h,S){var M=h+R,W=S+g,B;M>a.width?B=M:B=a.width;var U;W>a.height?U=W:U=a.height,a.resize(B,U)}this.autosize=!1,this.width=d,this.height=i,this.getCanvas=function(){return m},this.toCanvas=function(){var g=document.createElement("canvas");g.width=a.width,g.height=a.height;var h=g.getContext("2d");return h.drawImage(a.getCanvas(),0,0),g},this.resize=function(R,g){(R!==a.width||g!==a.height)&&O(R,g)},this.drawImage=function(R,g,h){a.autosize&&T(R,g,h.width,h.height),c.drawImage(h,R,g),E=!1},this.transfer=function(R,g,h,S,M,W,B,U){var z=R.getCanvas();if(!(g>=z.width||h>=z.height)&&(g+S>z.width&&(S=z.width-g),h+M>z.height&&(M=z.height-h),!(S===0||M===0))){a.autosize&&T(W,B,S,M);for(var N=R.getCanvas().getContext("2d").getImageData(g,h,S,M),D=c.getImageData(W,B,S,M),L=0;L<S*M*4;L+=4){var k=new o.Layer.Pixel(N.data[L],N.data[L+1],N.data[L+2],N.data[L+3]),J=new o.Layer.Pixel(D.data[L],D.data[L+1],D.data[L+2],D.data[L+3]);U(k,J),D.data[L]=J.red,D.data[L+1]=J.green,D.data[L+2]=J.blue,D.data[L+3]=J.alpha}c.putImageData(D,W,B),E=!1}},this.put=function(R,g,h,S,M,W,B){var U=R.getCanvas();if(!(g>=U.width||h>=U.height)&&(g+S>U.width&&(S=U.width-g),h+M>U.height&&(M=U.height-h),!(S===0||M===0))){a.autosize&&T(W,B,S,M);var z=R.getCanvas().getContext("2d").getImageData(g,h,S,M);c.putImageData(z,W,B),E=!1}},this.copy=function(R,g,h,S,M,W,B){var U=R.getCanvas();g>=U.width||h>=U.height||(g+S>U.width&&(S=U.width-g),h+M>U.height&&(M=U.height-h),!(S===0||M===0)&&(a.autosize&&T(W,B,S,M),c.drawImage(U,g,h,S,M,W,B,S,M),E=!1))},this.moveTo=function(R,g){w&&(c.beginPath(),w=!1),a.autosize&&T(R,g,0,0),c.moveTo(R,g)},this.lineTo=function(R,g){w&&(c.beginPath(),w=!1),a.autosize&&T(R,g,0,0),c.lineTo(R,g)},this.arc=function(R,g,h,S,M,W){w&&(c.beginPath(),w=!1),a.autosize&&T(R,g,0,0),c.arc(R,g,h,S,M,W)},this.curveTo=function(R,g,h,S,M,W){w&&(c.beginPath(),w=!1),a.autosize&&T(M,W,0,0),c.bezierCurveTo(R,g,h,S,M,W)},this.close=function(){c.closePath(),w=!0},this.rect=function(R,g,h,S){w&&(c.beginPath(),w=!1),a.autosize&&T(R,g,h,S),c.rect(R,g,h,S)},this.clip=function(){c.clip(),w=!0},this.strokeColor=function(R,g,h,S,M,W,B){c.lineCap=R,c.lineJoin=g,c.lineWidth=h,c.strokeStyle="rgba("+S+","+M+","+W+","+B/255+")",c.stroke(),E=!1,w=!0},this.fillColor=function(R,g,h,S){c.fillStyle="rgba("+R+","+g+","+h+","+S/255+")",c.fill(),E=!1,w=!0},this.strokeLayer=function(R,g,h,S){c.lineCap=R,c.lineJoin=g,c.lineWidth=h,c.strokeStyle=c.createPattern(S.getCanvas(),"repeat"),c.stroke(),E=!1,w=!0},this.fillLayer=function(R){c.fillStyle=c.createPattern(R.getCanvas(),"repeat"),c.fill(),E=!1,w=!0},this.push=function(){c.save(),b++},this.pop=function(){b>0&&(c.restore(),b--)},this.reset=function(){for(;b>0;)c.restore(),b--;c.restore(),c.save(),c.beginPath(),w=!1},this.setTransform=function(R,g,h,S,M,W){c.setTransform(R,g,h,S,M,W)},this.transform=function(R,g,h,S,M,W){c.transform(R,g,h,S,M,W)},this.setChannelMask=function(R){c.globalCompositeOperation=_[R]},this.setMiterLimit=function(R){c.miterLimit=R},O(d,i),m.style.zIndex=-1},o.Layer.ROUT=2,o.Layer.ATOP=6,o.Layer.XOR=10,o.Layer.ROVER=11,o.Layer.OVER=14,o.Layer.PLUS=15,o.Layer.RIN=1,o.Layer.IN=4,o.Layer.OUT=8,o.Layer.RATOP=9,o.Layer.SRC=12,o.Layer.Pixel=function(d,i,a,p){this.red=d,this.green=i,this.blue=a,this.alpha=p};var o=o||{};o.Mouse=function(d){var i=this;this.touchMouseThreshold=3,this.scrollThreshold=53,this.PIXELS_PER_LINE=18,this.PIXELS_PER_PAGE=this.PIXELS_PER_LINE*16,this.currentState=new o.Mouse.State(0,0,!1,!1,!1,!1,!1),this.onmousedown=null,this.onmouseup=null,this.onmousemove=null,this.onmouseout=null;var a=0,p=0;function m(b){b.stopPropagation(),b.preventDefault&&b.preventDefault(),b.returnValue=!1}d.addEventListener("contextmenu",function(b){m(b)},!1),d.addEventListener("mousemove",function(b){if(m(b),a){a--;return}i.currentState.fromClientPosition(d,b.clientX,b.clientY),i.onmousemove&&i.onmousemove(i.currentState)},!1),d.addEventListener("mousedown",function(b){if(m(b),!a){switch(b.button){case 0:i.currentState.left=!0;break;case 1:i.currentState.middle=!0;break;case 2:i.currentState.right=!0;break}i.onmousedown&&i.onmousedown(i.currentState)}},!1),d.addEventListener("mouseup",function(b){if(m(b),!a){switch(b.button){case 0:i.currentState.left=!1;break;case 1:i.currentState.middle=!1;break;case 2:i.currentState.right=!1;break}i.onmouseup&&i.onmouseup(i.currentState)}},!1),d.addEventListener("mouseout",function(b){b||(b=window.event);for(var _=b.relatedTarget||b.toElement;_;){if(_===d)return;_=_.parentNode}m(b),(i.currentState.left||i.currentState.middle||i.currentState.right)&&(i.currentState.left=!1,i.currentState.middle=!1,i.currentState.right=!1,i.onmouseup&&i.onmouseup(i.currentState)),i.onmouseout&&i.onmouseout()},!1),d.addEventListener("selectstart",function(b){m(b)},!1);function c(){a=i.touchMouseThreshold}d.addEventListener("touchmove",c,!1),d.addEventListener("touchstart",c,!1),d.addEventListener("touchend",c,!1);function E(b){var _=b.deltaY||-b.wheelDeltaY||-b.wheelDelta;if(_?b.deltaMode===1?_=b.deltaY*i.PIXELS_PER_LINE:b.deltaMode===2&&(_=b.deltaY*i.PIXELS_PER_PAGE):_=b.detail*i.PIXELS_PER_LINE,p+=_,p<=-i.scrollThreshold){do i.onmousedown&&(i.currentState.up=!0,i.onmousedown(i.currentState)),i.onmouseup&&(i.currentState.up=!1,i.onmouseup(i.currentState)),p+=i.scrollThreshold;while(p<=-i.scrollThreshold);p=0}if(p>=i.scrollThreshold){do i.onmousedown&&(i.currentState.down=!0,i.onmousedown(i.currentState)),i.onmouseup&&(i.currentState.down=!1,i.onmouseup(i.currentState)),p-=i.scrollThreshold;while(p>=i.scrollThreshold);p=0}m(b)}d.addEventListener("DOMMouseScroll",E,!1),d.addEventListener("mousewheel",E,!1),d.addEventListener("wheel",E,!1);var w=function(){var b=document.createElement("div");if(!("cursor"in b.style))return!1;try{b.style.cursor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEX///+nxBvIAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==) 0 0, auto"}catch(_){return!1}return/\burl\([^()]*\)\s+0\s+0\b/.test(b.style.cursor||"")}();this.setCursor=function(b,_,O){if(w){var T=b.toDataURL("image/png");return d.style.cursor="url("+T+") "+_+" "+O+", auto",!0}return!1}},o.Mouse.State=function(d,i,a,p,m,c,E){var w=this;this.x=d,this.y=i,this.left=a,this.middle=p,this.right=m,this.up=c,this.down=E,this.fromClientPosition=function(b,_,O){w.x=_-b.offsetLeft,w.y=O-b.offsetTop;for(var T=b.offsetParent;T&&T!==document.body;)w.x-=T.offsetLeft-T.scrollLeft,w.y-=T.offsetTop-T.scrollTop,T=T.offsetParent;if(T){var R=document.body.scrollLeft||document.documentElement.scrollLeft,g=document.body.scrollTop||document.documentElement.scrollTop;w.x-=T.offsetLeft-R,w.y-=T.offsetTop-g}}},o.Mouse.Touchpad=function(d){var i=this;this.scrollThreshold=20*(window.devicePixelRatio||1),this.clickTimingThreshold=250,this.clickMoveThreshold=10*(window.devicePixelRatio||1),this.currentState=new o.Mouse.State(0,0,!1,!1,!1,!1,!1),this.onmousedown=null,this.onmouseup=null,this.onmousemove=null;var a=0,p=0,m=0,c=0,E=0,w={1:"left",2:"right",3:"middle"},b=!1,_=null;d.addEventListener("touchend",function(O){if(O.preventDefault(),b&&O.touches.length===0){var T=new Date().getTime(),R=w[a];i.currentState[R]&&(i.currentState[R]=!1,i.onmouseup&&i.onmouseup(i.currentState),_&&(window.clearTimeout(_),_=null)),T-c<=i.clickTimingThreshold&&E<i.clickMoveThreshold&&(i.currentState[R]=!0,i.onmousedown&&i.onmousedown(i.currentState),_=window.setTimeout(function(){i.currentState[R]=!1,i.onmouseup&&i.onmouseup(i.currentState),b=!1},i.clickTimingThreshold)),_||(b=!1)}},!1),d.addEventListener("touchstart",function(O){if(O.preventDefault(),a=Math.min(O.touches.length,3),_&&(window.clearTimeout(_),_=null),!b){b=!0;var T=O.touches[0];p=T.clientX,m=T.clientY,c=new Date().getTime(),E=0}},!1),d.addEventListener("touchmove",function(O){O.preventDefault();var T=O.touches[0],R=T.clientX-p,g=T.clientY-m;if(E+=Math.abs(R)+Math.abs(g),a===1){var h=E/(new Date().getTime()-c),S=1+h;i.currentState.x+=R*S,i.currentState.y+=g*S,i.currentState.x<0?i.currentState.x=0:i.currentState.x>=d.offsetWidth&&(i.currentState.x=d.offsetWidth-1),i.currentState.y<0?i.currentState.y=0:i.currentState.y>=d.offsetHeight&&(i.currentState.y=d.offsetHeight-1),i.onmousemove&&i.onmousemove(i.currentState),p=T.clientX,m=T.clientY}else if(a===2&&Math.abs(g)>=i.scrollThreshold){var M;g>0?M="down":M="up",i.currentState[M]=!0,i.onmousedown&&i.onmousedown(i.currentState),i.currentState[M]=!1,i.onmouseup&&i.onmouseup(i.currentState),p=T.clientX,m=T.clientY}},!1)},o.Mouse.Touchscreen=function(d){var i=this,a=!1,p=null,m=null,c=null,E=null;this.scrollThreshold=20*(window.devicePixelRatio||1),this.clickTimingThreshold=250,this.clickMoveThreshold=16*(window.devicePixelRatio||1),this.longPressThreshold=500,this.currentState=new o.Mouse.State(0,0,!1,!1,!1,!1,!1),this.onmousedown=null,this.onmouseup=null,this.onmousemove=null;function w(h){i.currentState[h]||(i.currentState[h]=!0,i.onmousedown&&i.onmousedown(i.currentState))}function b(h){i.currentState[h]&&(i.currentState[h]=!1,i.onmouseup&&i.onmouseup(i.currentState))}function _(h){w(h),b(h)}function O(h,S){i.currentState.fromClientPosition(d,h,S),i.onmousemove&&i.onmousemove(i.currentState)}function T(h){var S=h.touches[0]||h.changedTouches[0],M=S.clientX-p,W=S.clientY-m;return Math.sqrt(M*M+W*W)>=i.clickMoveThreshold}function R(h){var S=h.touches[0];a=!0,p=S.clientX,m=S.clientY}function g(){window.clearTimeout(c),window.clearTimeout(E),a=!1}d.addEventListener("touchend",function(h){if(!!a){if(h.touches.length!==0||h.changedTouches.length!==1){g();return}if(window.clearTimeout(E),b("left"),!T(h)&&(h.preventDefault(),!i.currentState.left)){var S=h.changedTouches[0];O(S.clientX,S.clientY),w("left"),c=window.setTimeout(function(){b("left"),g()},i.clickTimingThreshold)}}},!1),d.addEventListener("touchstart",function(h){if(h.touches.length!==1){g();return}h.preventDefault(),R(h),window.clearTimeout(c),E=window.setTimeout(function(){var S=h.touches[0];O(S.clientX,S.clientY),_("right"),g()},i.longPressThreshold)},!1),d.addEventListener("touchmove",function(h){if(!!a){if(T(h)&&window.clearTimeout(E),h.touches.length!==1){g();return}if(i.currentState.left){h.preventDefault();var S=h.touches[0];O(S.clientX,S.clientY)}}},!1)};var o=o||{},o=o||{};o.Object=function(i,a){var p=this,m={},c=function(b){var _=m[b];if(!_)return null;var O=_.shift();return _.length===0&&delete m[b],O},E=function(b,_){var O=m[b];O||(O=[],m[b]=O),O.push(_)};this.index=a,this.onbody=function(b,_,O){var T=c(O);T&&T(b,_)},this.onundefine=null,this.requestInputStream=function(b,_){_&&E(b,_),i.requestObjectInputStream(p.index,b)},this.createOutputStream=function(b,_){return i.createObjectOutputStream(p.index,b,_)}},o.Object.ROOT_STREAM="/",o.Object.STREAM_INDEX_MIMETYPE="application/vnd.glyptodon.guacamole.stream-index+json";var o=o||{};o.OnScreenKeyboard=function(d){var i=this,a={},p={},m=[],c=function(z,N){z.classList?z.classList.add(N):z.className+=" "+N},E=function(z,N){z.classList?z.classList.remove(N):z.className=z.className.replace(/([^ ]+)[ ]*/g,function(L,k){return k===N?"":L})},w=0,b=function(){w=i.touchMouseThreshold},_=function(z,N,D,L){this.width=N,this.height=D,this.scale=function(k){z.style.width=N*k+"px",z.style.height=D*k+"px",L&&(z.style.lineHeight=D*k+"px",z.style.fontSize=k+"px")}},O=function(z){for(var N=0;N<z.length;N++){var D=z[N];if(!(D in a))return!1}return!0},T=function(z){var N=i.keys[z];if(!N)return null;for(var D=N.length-1;D>=0;D--){var L=N[D];if(O(L.requires))return L}return null},R=function(z,N){if(!p[z]){c(N,"guac-keyboard-pressed");var D=T(z);if(D.modifier){var L="guac-keyboard-modifier-"+W(D.modifier),k=a[D.modifier];k?(E(h,L),delete a[D.modifier],i.onkeyup&&i.onkeyup(k)):(c(h,L),a[D.modifier]=D.keysym,i.onkeydown&&i.onkeydown(D.keysym))}else i.onkeydown&&i.onkeydown(D.keysym);p[z]=!0}},g=function(z,N){if(p[z]){E(N,"guac-keyboard-pressed");var D=T(z);!D.modifier&&i.onkeyup&&i.onkeyup(D.keysym),p[z]=!1}},h=document.createElement("div");h.className="guac-keyboard",h.onselectstart=h.onmousemove=h.onmouseup=h.onmousedown=function(z){return w&&w--,z.stopPropagation(),!1},this.touchMouseThreshold=3,this.onkeydown=null,this.onkeyup=null,this.layout=new o.OnScreenKeyboard.Layout(d),this.getElement=function(){return h},this.resize=function(U){for(var z=Math.floor(U*10/i.layout.width)/10,N=0;N<m.length;N++){var D=m[N];D.scale(z)}};var S=function(z,N){if(N instanceof Array){for(var D=[],L=0;L<N.length;L++)D.push(new o.OnScreenKeyboard.Key(N[L],z));return D}return typeof N=="number"?[new o.OnScreenKeyboard.Key({name:z,keysym:N})]:typeof N=="string"?[new o.OnScreenKeyboard.Key({name:z,title:N})]:[new o.OnScreenKeyboard.Key(N,z)]},M=function(z){var N={};for(var D in d.keys)N[D]=S(D,z[D]);return N};this.keys=M(d.keys);var W=function(z){var N=z.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[^A-Za-z0-9]+/g,"-").toLowerCase();return N},B=function U(z,N,D){var L,k=document.createElement("div");if(D&&c(k,"guac-keyboard-"+W(D)),N instanceof Array)for(c(k,"guac-keyboard-group"),L=0;L<N.length;L++)U(k,N[L]);else if(N instanceof Object){c(k,"guac-keyboard-group");var J=Object.keys(N).sort();for(L=0;L<J.length;L++){var D=J[L];U(k,N[D],D)}}else if(typeof N=="number")c(k,"guac-keyboard-gap"),m.push(new _(k,N,N));else if(typeof N=="string"){var ee=N;ee.length===1&&(ee="0x"+ee.charCodeAt(0).toString(16)),c(k,"guac-keyboard-key-container");var ae=document.createElement("div");ae.className="guac-keyboard-key guac-keyboard-key-"+W(ee);var Re=i.keys[N];if(Re)for(L=0;L<Re.length;L++){var V=Re[L],l=document.createElement("div");l.className="guac-keyboard-cap",l.textContent=V.title;for(var v=0;v<V.requires.length;v++){var y=V.requires[v];c(l,"guac-keyboard-requires-"+W(y)),c(ae,"guac-keyboard-uses-"+W(y))}ae.appendChild(l)}k.appendChild(ae),m.push(new _(k,i.layout.keyWidths[N]||1,1,!0));var I=function(te){te.preventDefault(),w=i.touchMouseThreshold,R(N,ae)},F=function(te){te.preventDefault(),w=i.touchMouseThreshold,g(N,ae)},P=function(te){te.preventDefault(),w===0&&R(N,ae)},Y=function(te){te.preventDefault(),w===0&&g(N,ae)};ae.addEventListener("touchstart",I,!0),ae.addEventListener("touchend",F,!0),ae.addEventListener("mousedown",P,!0),ae.addEventListener("mouseup",Y,!0),ae.addEventListener("mouseout",Y,!0)}z.appendChild(k)};B(h,d.layout)},o.OnScreenKeyboard.Layout=function(d){this.language=d.language,this.type=d.type,this.keys=d.keys,this.layout=d.layout,this.width=d.width,this.keyWidths=d.keyWidths||{}},o.OnScreenKeyboard.Key=function(d,i){this.name=i||d.name,this.title=d.title||this.name,this.keysym=d.keysym||function(p){if(!p||p.length!==1)return null;var m=p.charCodeAt(0);return m>=0&&m<=255?m:m>=256&&m<=1114111?16777216|m:null}(this.title),this.modifier=d.modifier,this.requires=d.requires||[]};var o=o||{};o.OutputStream=function(d,i){var a=this;this.index=i,this.onack=null,this.sendBlob=function(p){d.sendBlob(a.index,p)},this.sendEnd=function(){d.endStream(a.index)}};var o=o||{};o.Parser=function(){var d=this,i="",a=[],p=-1,m=0;this.receive=function(c){for(m>4096&&p>=m&&(i=i.substring(m),p-=m,m=0),i+=c;p<i.length;){if(p>=m){var E=i.substring(m,p),w=i.substring(p,p+1);if(a.push(E),w==";"){var b=a.shift();d.oninstruction!=null&&d.oninstruction(b,a),a.length=0}else if(w!=",")throw new Error("Illegal terminator.");m=p+1}var _=i.indexOf(".",m);if(_!=-1){var O=parseInt(i.substring(p+1,_));if(isNaN(O))throw new Error("Non-numeric character in element length.");m=_+1,p=m+O}else{m=i.length;break}}},this.oninstruction=null};var o=o||{};o.RawAudioFormat=function(i){this.bytesPerSample=i.bytesPerSample,this.channels=i.channels,this.rate=i.rate},o.RawAudioFormat.parse=function(i){var a,p=null,m=1;if(i.substring(0,9)==="audio/L8;")i=i.substring(9),a=1;else if(i.substring(0,10)==="audio/L16;")i=i.substring(10),a=2;else return null;for(var c=i.split(","),E=0;E<c.length;E++){var w=c[E],b=w.indexOf("=");if(b===-1)return null;var _=w.substring(0,b),O=w.substring(b+1);switch(_){case"channels":m=parseInt(O);break;case"rate":p=parseInt(O);break;default:return null}}return p===null?null:new o.RawAudioFormat({bytesPerSample:a,channels:m,rate:p})};var o=o||{};o.SessionRecording=function(i){var a=this,p=16384,m=5e3,c=5,E=[],w=[],b=0,_=0,O=new o.SessionRecording._PlaybackTunnel,T=new o.Client(O),R=-1,g=null,h=null,S=null;T.connect(),T.getDisplay().showCursor(!1),i.oninstruction=function(L,k){var J=new o.SessionRecording._Frame.Instruction(L,k.slice());if(w.push(J),b+=J.getSize(),L==="sync"){var ee=parseInt(k[0]),ae=new o.SessionRecording._Frame(ee,w);E.push(ae),(E.length===1||b>=p&&ee-_>=m)&&(ae.keyframe=!0,_=ee,b=0),w=[],a.onprogress&&a.onprogress(a.getDuration())}};var M=function(L){return E.length===0?0:L-E[0].timestamp},W=function D(L,k,J){if(L===k)return L;var ee=Math.floor((L+k)/2),ae=M(E[ee].timestamp);return J<ae&&ee>L?D(L,ee-1,J):J>ae&&ee<k?D(ee+1,k,J):ee},B=function(L){for(var k=E[L],J=0;J<k.instructions.length;J++){var ee=k.instructions[J];O.receiveInstruction(ee.opcode,ee.args)}k.keyframe&&!k.clientState&&T.exportState(function(Re){k.clientState=Re})},U=function D(L,k,J){z(),S=window.setTimeout(function(){var ae;for(ae=L;ae>=0;ae--){var Re=E[ae];if(ae===R)break;if(Re.clientState){T.importState(Re.clientState);break}}ae++;for(var V=new Date().getTime();ae<=L;ae++){var l=new Date().getTime();if(l-V>=c)break;B(ae)}R=ae-1,a.onseek&&a.onseek(a.getPosition()),R!==L?D(L,k,Math.max(J-(new Date().getTime()-V),0)):k()},J||0)},z=function(){window.clearTimeout(S)},N=function D(){if(R+1<E.length){var L=E[R+1],k=L.timestamp-g+h,J=Math.max(k-new Date().getTime(),0);U(R+1,function(){D()},J)}else a.pause()};this.onprogress=null,this.onplay=null,this.onpause=null,this.onseek=null,this.connect=function(L){i.connect(L)},this.disconnect=function(){i.disconnect()},this.getDisplay=function(){return T.getDisplay()},this.isPlaying=function(){return!!g},this.getPosition=function(){return R===-1?0:M(E[R].timestamp)},this.getDuration=function(){return E.length===0?0:M(E[E.length-1].timestamp)},this.play=function(){if(!a.isPlaying()&&R+1<E.length){a.onplay&&a.onplay();var L=E[R+1];g=L.timestamp,h=new Date().getTime(),N()}},this.seek=function(L,k){if(E.length!==0){var J=a.isPlaying();a.pause(),U(W(0,E.length-1,L),function(){J&&a.play(),k&&k()})}},this.pause=function(){z(),a.isPlaying()&&(a.onpause&&a.onpause(),g=null,h=null)}},o.SessionRecording._Frame=function(i,a){this.keyframe=!1,this.timestamp=i,this.instructions=a,this.clientState=null},o.SessionRecording._Frame.Instruction=function(i,a){var p=this;this.opcode=i,this.args=a,this.getSize=function(){for(var c=p.opcode.length,E=0;E<p.args.length;E++)c+=p.args[E].length;return c}},o.SessionRecording._PlaybackTunnel=function(){var i=this;this.connect=function(p){},this.sendMessage=function(p){},this.disconnect=function(){},this.receiveInstruction=function(p,m){i.oninstruction&&i.oninstruction(p,m)}};var o=o||{};o.Status=function(d,i){var a=this;this.code=d,this.message=i,this.isError=function(){return a.code<0||a.code>255}},o.Status.Code={SUCCESS:0,UNSUPPORTED:256,SERVER_ERROR:512,SERVER_BUSY:513,UPSTREAM_TIMEOUT:514,UPSTREAM_ERROR:515,RESOURCE_NOT_FOUND:516,RESOURCE_CONFLICT:517,RESOURCE_CLOSED:518,UPSTREAM_NOT_FOUND:519,UPSTREAM_UNAVAILABLE:520,SESSION_CONFLICT:521,SESSION_TIMEOUT:522,SESSION_CLOSED:523,CLIENT_BAD_REQUEST:768,CLIENT_UNAUTHORIZED:769,CLIENT_FORBIDDEN:771,CLIENT_TIMEOUT:776,CLIENT_OVERRUN:781,CLIENT_BAD_TYPE:783,CLIENT_TOO_MANY:797},o.Status.Code.fromHTTPCode=function(i){switch(i){case 400:return o.Status.Code.CLIENT_BAD_REQUEST;case 403:return o.Status.Code.CLIENT_FORBIDDEN;case 404:return o.Status.Code.RESOURCE_NOT_FOUND;case 429:return o.Status.Code.CLIENT_TOO_MANY;case 503:return o.Status.Code.SERVER_BUSY}return o.Status.Code.SERVER_ERROR},o.Status.Code.fromWebSocketCode=function(i){switch(i){case 1e3:return o.Status.Code.SUCCESS;case 1006:case 1015:return o.Status.Code.UPSTREAM_NOT_FOUND;case 1001:case 1012:case 1013:case 1014:return o.Status.Code.UPSTREAM_UNAVAILABLE}return o.Status.Code.SERVER_ERROR};var o=o||{};o.StringReader=function(d){var i=this,a=new o.ArrayBufferReader(d),p=0,m=0;function c(E){for(var w="",b=new Uint8Array(E),_=0;_<b.length;_++){var O=b[_];p===0?(O|127)==127?w+=String.fromCharCode(O):(O|31)==223?(m=O&31,p=1):(O|15)==239?(m=O&15,p=2):(O|7)==247?(m=O&7,p=3):w+="\uFFFD":(O|63)==191?(m=m<<6|O&63,p--,p===0&&(w+=String.fromCharCode(m))):(p=0,w+="\uFFFD")}return w}a.ondata=function(E){var w=c(E);i.ontext&&i.ontext(w)},a.onend=function(){i.onend&&i.onend()},this.ontext=null,this.onend=null};var o=o||{};o.StringWriter=function(d){var i=this,a=new o.ArrayBufferWriter(d),p=new Uint8Array(8192),m=0;a.onack=function(b){i.onack&&i.onack(b)};function c(b){if(m+b>=p.length){var _=new Uint8Array((m+b)*2);_.set(p),p=_}m+=b}function E(b){var _,O;if(b<=127)_=0,O=1;else if(b<=2047)_=192,O=2;else if(b<=65535)_=224,O=3;else if(b<=2097151)_=240,O=4;else{E(65533);return}c(O);for(var T=m-1,R=1;R<O;R++)p[T--]=128|b&63,b>>=6;p[T]=_|b}function w(b){for(var _=0;_<b.length;_++){var O=b.charCodeAt(_);E(O)}if(m>0){var T=p.subarray(0,m);return m=0,T}}this.sendText=function(b){b.length&&a.sendData(w(b))},this.sendEnd=function(){a.sendEnd()},this.onack=null};var o=o||{};o.Tunnel=function(){this.connect=function(d){},this.disconnect=function(){},this.sendMessage=function(d){},this.setState=function(d){d!==this.state&&(this.state=d,this.onstatechange&&this.onstatechange(d))},this.setUUID=function(i){this.uuid=i,this.onuuid&&this.onuuid(i)},this.isConnected=function(){return this.state===o.Tunnel.State.OPEN||this.state===o.Tunnel.State.UNSTABLE},this.state=o.Tunnel.State.CONNECTING,this.receiveTimeout=15e3,this.unstableThreshold=1500,this.uuid=null,this.onuuid=null,this.onerror=null,this.onstatechange=null,this.oninstruction=null},o.Tunnel.INTERNAL_DATA_OPCODE="",o.Tunnel.State={CONNECTING:0,OPEN:1,CLOSED:2,UNSTABLE:3},o.HTTPTunnel=function(d,i,a){var p=this,m=d+"?connect",c=d+"?read:",E=d+"?write:",w=1,b=0,_=w,O=!1,T="",R=!!i,g=null,h=null,S=null,M=500,W=a||{};function B(ee,ae){for(var Re in ae)ee.setRequestHeader(Re,ae[Re])}function U(){window.clearTimeout(g),window.clearTimeout(h),p.state===o.Tunnel.State.UNSTABLE&&p.setState(o.Tunnel.State.OPEN),g=window.setTimeout(function(){z(new o.Status(o.Status.Code.UPSTREAM_TIMEOUT,"Server timeout."))},p.receiveTimeout),h=window.setTimeout(function(){p.setState(o.Tunnel.State.UNSTABLE)},p.unstableThreshold)}function z(ee){window.clearTimeout(g),window.clearTimeout(h),window.clearInterval(S),p.state!==o.Tunnel.State.CLOSED&&(ee.code!==o.Status.Code.SUCCESS&&p.onerror&&(p.state===o.Tunnel.State.CONNECTING||ee.code!==o.Status.Code.RESOURCE_NOT_FOUND)&&p.onerror(ee),O=!1,p.setState(o.Tunnel.State.CLOSED))}this.sendMessage=function(){if(!p.isConnected()||arguments.length===0)return;function ee(V){var l=new String(V);return l.length+"."+l}for(var ae=ee(arguments[0]),Re=1;Re<arguments.length;Re++)ae+=","+ee(arguments[Re]);ae+=";",T+=ae,O||N()};function N(){if(!!p.isConnected())if(T.length>0){O=!0;var ee=new XMLHttpRequest;ee.open("POST",E+p.uuid),ee.withCredentials=R,B(ee,W),ee.setRequestHeader("Content-type","application/octet-stream"),ee.onreadystatechange=function(){ee.readyState===4&&(U(),ee.status!==200?D(ee):N())},ee.send(T),T=""}else O=!1}function D(ee){var ae=parseInt(ee.getResponseHeader("Guacamole-Status-Code"));if(ae){var Re=ee.getResponseHeader("Guacamole-Error-Message");z(new o.Status(ae,Re))}else ee.status?z(new o.Status(o.Status.Code.fromHTTPCode(ee.status),ee.statusText)):z(new o.Status(o.Status.Code.UPSTREAM_NOT_FOUND))}function L(ee){var ae=null,Re=null,V=0,l=-1,v=0,y=new Array;function I(){if(!p.isConnected()){ae!==null&&clearInterval(ae);return}if(!(ee.readyState<2)){var F;try{F=ee.status}catch(Ge){F=200}if(!Re&&F===200&&(Re=J()),ee.readyState===3||ee.readyState===4){if(U(),_===w&&(ee.readyState===3&&!ae?ae=setInterval(I,30):ee.readyState===4&&ae&&clearInterval(ae)),ee.status===0){p.disconnect();return}else if(ee.status!==200){D(ee);return}var P;try{P=ee.responseText}catch(Ge){return}for(;l<P.length;){if(l>=v){var Y=P.substring(v,l),$=P.substring(l,l+1);if(y.push(Y),$===";"){var te=y.shift();p.oninstruction&&p.oninstruction(te,y),y.length=0}v=l+1}var ne=P.indexOf(".",v);if(ne!==-1){var ie=parseInt(P.substring(l+1,ne));if(ie===0){ae&&clearInterval(ae),ee.onreadystatechange=null,ee.abort(),Re&&L(Re);break}v=ne+1,l=v+ie}else{v=P.length;break}}}}}_===w?ee.onreadystatechange=function(){ee.readyState===3&&(V++,V>=2&&(_=b,ee.onreadystatechange=I)),I()}:ee.onreadystatechange=I,I()}var k=0;function J(){var ee=new XMLHttpRequest;return ee.open("GET",c+p.uuid+":"+k++),ee.withCredentials=R,B(ee,W),ee.send(null),ee}this.connect=function(ee){U(),p.setState(o.Tunnel.State.CONNECTING);var ae=new XMLHttpRequest;ae.onreadystatechange=function(){if(ae.readyState===4){if(ae.status!==200){D(ae);return}U(),p.setUUID(ae.responseText),p.setState(o.Tunnel.State.OPEN),S=setInterval(function(){p.sendMessage("nop")},M),L(J())}},ae.open("POST",m,!0),ae.withCredentials=R,B(ae,W),ae.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),ae.send(ee)},this.disconnect=function(){z(new o.Status(o.Status.Code.SUCCESS,"Manually closed."))}},o.HTTPTunnel.prototype=new o.Tunnel,o.WebSocketTunnel=function(d){var i=this,a=null,p=null,m=null,c=null,E={"http:":"ws:","https:":"wss:"},w=500;if(d.substring(0,3)!=="ws:"&&d.substring(0,4)!=="wss:"){var b=E[window.location.protocol];if(d.substring(0,1)==="/")d=b+"//"+window.location.host+d;else{var _=window.location.pathname.lastIndexOf("/"),O=window.location.pathname.substring(0,_+1);d=b+"//"+window.location.host+O+d}}function T(){window.clearTimeout(p),window.clearTimeout(m),i.state===o.Tunnel.State.UNSTABLE&&i.setState(o.Tunnel.State.OPEN),p=window.setTimeout(function(){R(new o.Status(o.Status.Code.UPSTREAM_TIMEOUT,"Server timeout."))},i.receiveTimeout),m=window.setTimeout(function(){i.setState(o.Tunnel.State.UNSTABLE)},i.unstableThreshold)}function R(g){window.clearTimeout(p),window.clearTimeout(m),window.clearInterval(c),i.state!==o.Tunnel.State.CLOSED&&(g.code!==o.Status.Code.SUCCESS&&i.onerror&&i.onerror(g),i.setState(o.Tunnel.State.CLOSED),a.close())}this.sendMessage=function(g){if(!i.isConnected()||arguments.length===0)return;function h(W){var B=new String(W);return B.length+"."+B}for(var S=h(arguments[0]),M=1;M<arguments.length;M++)S+=","+h(arguments[M]);S+=";",a.send(S)},this.connect=function(g){T(),i.setState(o.Tunnel.State.CONNECTING),a=new WebSocket(d+"?"+g,"guacamole"),a.onopen=function(h){T(),c=setInterval(function(){i.sendMessage(o.Tunnel.INTERNAL_DATA_OPCODE,"ping",new Date().getTime())},w)},a.onclose=function(h){h.reason?R(new o.Status(parseInt(h.reason),h.reason)):h.code?R(new o.Status(o.Status.Code.fromWebSocketCode(h.code))):R(new o.Status(o.Status.Code.UPSTREAM_NOT_FOUND))},a.onmessage=function(h){T();var S=h.data,M=0,W,B=[];do{var U=S.indexOf(".",M);if(U!==-1){var z=parseInt(S.substring(W+1,U));M=U+1,W=M+z}else R(new o.Status(o.Status.Code.SERVER_ERROR,"Incomplete instruction."));var N=S.substring(M,W),D=S.substring(W,W+1);if(B.push(N),D===";"){var L=B.shift();i.uuid===null&&(L===o.Tunnel.INTERNAL_DATA_OPCODE&&i.setUUID(B[0]),i.setState(o.Tunnel.State.OPEN)),L!==o.Tunnel.INTERNAL_DATA_OPCODE&&i.oninstruction&&i.oninstruction(L,B),B.length=0}M=W+1}while(M<S.length)}},this.disconnect=function(){R(new o.Status(o.Status.Code.SUCCESS,"Manually closed."))}},o.WebSocketTunnel.prototype=new o.Tunnel,o.ChainedTunnel=function(d){for(var i=this,a,p=[],m=null,c=0;c<arguments.length;c++)p.push(arguments[c]);function E(w){i.disconnect=w.disconnect,i.sendMessage=w.sendMessage;var b=function(T){if(T&&T.code===o.Status.Code.UPSTREAM_TIMEOUT)return p=[],null;var R=p.shift();return R&&(w.onerror=null,w.oninstruction=null,w.onstatechange=null,E(R)),R};function _(){w.onstatechange=i.onstatechange,w.oninstruction=i.oninstruction,w.onerror=i.onerror,w.onuuid=i.onuuid,w.uuid&&i.setUUID(w.uuid),m=w}w.onstatechange=function(O){switch(O){case o.Tunnel.State.OPEN:_(),i.onstatechange&&i.onstatechange(O);break;case o.Tunnel.State.CLOSED:!b()&&i.onstatechange&&i.onstatechange(O);break}},w.oninstruction=function(O,T){_(),i.oninstruction&&i.oninstruction(O,T)},w.onerror=function(O){!b(O)&&i.onerror&&i.onerror(O)},w.connect(a)}this.connect=function(w){a=w;var b=m||p.shift();b?E(b):i.onerror&&i.onerror(o.Status.Code.SERVER_ERROR,"No tunnels to try.")}},o.ChainedTunnel.prototype=new o.Tunnel,o.StaticHTTPTunnel=function(i,a,p){var m=this,c=null,E=p||{};function w(b,_){for(var O in _)b.setRequestHeader(O,_[O])}this.sendMessage=function(_){},this.connect=function(_){m.disconnect(),m.setState(o.Tunnel.State.CONNECTING),c=new XMLHttpRequest,c.open("GET",i),c.withCredentials=!!a,w(c,E),c.responseType="text",c.send(null);var O=0,T=new o.Parser;T.oninstruction=function(g,h){m.oninstruction&&m.oninstruction(g,h)},c.onreadystatechange=function(){if(c.readyState===3||c.readyState===4){m.setState(o.Tunnel.State.OPEN);var g=c.responseText,h=g.length;O<h&&(T.receive(g.substring(O)),O=h)}c.readyState===4&&m.disconnect()},c.onerror=function(){m.onerror&&m.onerror(new o.Status(o.Status.Code.fromHTTPCode(c.status),c.statusText)),m.disconnect()}},this.disconnect=function(){c&&(c.abort(),c=null),m.setState(o.Tunnel.State.CLOSED)}},o.StaticHTTPTunnel.prototype=new o.Tunnel;var o=o||{};o.API_VERSION="1.3.0";var o=o||{};o.VideoPlayer=function(){this.sync=function(){}},o.VideoPlayer.isSupportedType=function(i){return!1},o.VideoPlayer.getSupportedTypes=function(){return[]},o.VideoPlayer.getInstance=function(i,a,p){return null},et.exports=o},rmhi:function(et,je,o){"use strict";var d=o("o0o1"),i=o.n(d),a=o("2qtc"),p=o("kLXV"),m=o("GNNt"),c=o("wEI+"),E=o("q1tI"),w=o.n(E),b=o("kZ8M"),_=o.n(b),O=o("BGR+"),T=o("i8i4"),R=o.n(T),g=o("b1eo"),h=o("cOkC"),S=o.n(h);function M(){return M=Object.assign||function(v){for(var y=1;y<arguments.length;y++){var I=arguments[y];for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(v[F]=I[F])}return v},M.apply(this,arguments)}function W(v,y){var I=Object.keys(v);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(v);y&&(F=F.filter(function(P){return Object.getOwnPropertyDescriptor(v,P).enumerable})),I.push.apply(I,F)}return I}function B(v){for(var y=1;y<arguments.length;y++){var I=arguments[y]!=null?arguments[y]:{};y%2?W(Object(I),!0).forEach(function(F){U(v,F,I[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(I)):W(Object(I)).forEach(function(F){Object.defineProperty(v,F,Object.getOwnPropertyDescriptor(I,F))})}return v}function U(v,y,I){return y in v?Object.defineProperty(v,y,{value:I,enumerable:!0,configurable:!0,writable:!0}):v[y]=I,v}function z(v,y,I,F,P,Y,$){try{var te=v[Y]($),ne=te.value}catch(ie){I(ie);return}te.done?y(ne):Promise.resolve(ne).then(F,P)}function N(v){return function(){var y=this,I=arguments;return new Promise(function(F,P){var Y=v.apply(y,I);function $(ne){z(Y,F,P,$,te,"next",ne)}function te(ne){z(Y,F,P,$,te,"throw",ne)}$(void 0)})}}function D(v,y){return ae(v)||ee(v,y)||k(v,y)||L()}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(v,y){if(!!v){if(typeof v=="string")return J(v,y);var I=Object.prototype.toString.call(v).slice(8,-1);if(I==="Object"&&v.constructor&&(I=v.constructor.name),I==="Map"||I==="Set")return Array.from(v);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return J(v,y)}}function J(v,y){(y==null||y>v.length)&&(y=v.length);for(var I=0,F=new Array(y);I<y;I++)F[I]=v[I];return F}function ee(v,y){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(v)))){var I=[],F=!0,P=!1,Y=void 0;try{for(var $=v[Symbol.iterator](),te;!(F=(te=$.next()).done)&&(I.push(te.value),!(y&&I.length===y));F=!0);}catch(ne){P=!0,Y=ne}finally{try{!F&&$.return!=null&&$.return()}finally{if(P)throw Y}}return I}}function ae(v){if(Array.isArray(v))return v}function Re(v,y){if(v==null)return{};var I=V(v,y),F,P;if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(v);for(P=0;P<Y.length;P++)F=Y[P],!(y.indexOf(F)>=0)&&(!Object.prototype.propertyIsEnumerable.call(v,F)||(I[F]=v[F]))}return I}function V(v,y){if(v==null)return{};var I={},F=Object.keys(v),P,Y;for(Y=0;Y<F.length;Y++)P=F[Y],!(y.indexOf(P)>=0)&&(I[P]=v[P]);return I}function l(v){var y,I,F,P,Y,$=v.children,te=v.trigger,ne=v.onVisibleChange,ie=v.modalProps,Ge=v.onFinish,ot=v.title,st=v.width,ct=Re(v,["children","trigger","onVisibleChange","modalProps","onFinish","title","width"]),Mt=_()(!!ct.visible,{value:ct.visible,onChange:ne}),wt=D(Mt,2),$e=wt[0],yt=wt[1];Object(h.noteOnce)(!ct.footer||!(ie==null?void 0:ie.footer),"ModalForm \u662F\u4E00\u4E2A ProForm \u7684\u7279\u6B8A\u5E03\u5C40\uFF0C\u5982\u679C\u60F3\u81EA\u5B9A\u4E49\u6309\u94AE\uFF0C\u8BF7\u4F7F\u7528 submit.render \u81EA\u5B9A\u4E49\u3002");var ut=Object(E.useContext)(c.a.ConfigContext);Object(E.useEffect)(function(){$e&&ct.visible&&(ne==null||ne(!0))},[$e]);var xt=Object(E.useRef)(!(ie==null?void 0:ie.forceRender)),_e=Object(E.useMemo)(function(){return!(xt.current&&$e===!1||$e===!1&&(ie==null?void 0:ie.destroyOnClose))},[$e,ie==null?void 0:ie.destroyOnClose]),X=Object(E.useRef)();return Object(E.useEffect)(function(){if($e&&(xt.current=!1),!$e&&(ie==null?void 0:ie.destroyOnClose)){var j;(j=X.current)===null||j===void 0||j.resetFields()}},[ie==null?void 0:ie.destroyOnClose,$e]),Object(E.useImperativeHandle)(ct.formRef,function(){return X.current},[X.current]),w.a.createElement(w.a.Fragment,null,Object(T.createPortal)(w.a.createElement("div",null,w.a.createElement(g.a,M({layout:"vertical"},Object(O.a)(ct,["visible"]),{formRef:X,onFinish:function(){var j=N(i.a.mark(function G(K){var oe,Ee;return i.a.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(Ge){de.next=2;break}return de.abrupt("return");case 2:return de.next=4,Ge(K);case 4:oe=de.sent,oe&&((Ee=X.current)===null||Ee===void 0||Ee.resetFields(),yt(!1));case 6:case"end":return de.stop()}},G)}));return function(G){return j.apply(this,arguments)}}(),submitter:B({searchConfig:{submitText:(ie==null?void 0:ie.okText)||((y=ut.locale)===null||y===void 0||(I=y.Modal)===null||I===void 0?void 0:I.okText)||"\u786E\u8BA4",resetText:(ie==null?void 0:ie.cancelText)||((F=ut.locale)===null||F===void 0||(P=F.Modal)===null||P===void 0?void 0:P.cancelText)||"\u53D6\u6D88"},submitButtonProps:{type:(ie==null?void 0:ie.okType)||"primary"},resetButtonProps:{onClick:function(G){var K;ie==null||(K=ie.onCancel)===null||K===void 0||K.call(ie,G),yt(!1)}}},ct.submitter),contentRender:function(G,K){return w.a.createElement(p.a,M({title:ot,getContainer:!1,width:st||800},ie,{visible:$e,onCancel:function(Ee){var Se;yt(!1),ie==null||(Se=ie.onCancel)===null||Se===void 0||Se.call(ie,Ee)},footer:K}),_e?G:null)}}),$)),(ut==null||(Y=ut.getPopupContainer)===null||Y===void 0?void 0:Y.call(ut,document.body))||document.body),te&&w.a.cloneElement(te,B(B({},te.props),{},{onClick:function(G){var K,oe;yt(!$e),(K=te.props)===null||K===void 0||(oe=K.onClick)===null||oe===void 0||oe.call(K,G)}})))}je.a=l},u1OI:function(et,je,o){},"yj/a":function(et,je,o){"use strict";var d=o("q1tI"),i=o.n(d),a=o("/s86"),p=o("uX+g"),m=o("WFLz");function c(){return c=Object.assign||function(O){for(var T=1;T<arguments.length;T++){var R=arguments[T];for(var g in R)Object.prototype.hasOwnProperty.call(R,g)&&(O[g]=R[g])}return O},c.apply(this,arguments)}function E(O,T){var R=Object.keys(O);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(O);T&&(g=g.filter(function(h){return Object.getOwnPropertyDescriptor(O,h).enumerable})),R.push.apply(R,g)}return R}function w(O){for(var T=1;T<arguments.length;T++){var R=arguments[T]!=null?arguments[T]:{};T%2?E(Object(R),!0).forEach(function(g){b(O,g,R[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(R)):E(Object(R)).forEach(function(g){Object.defineProperty(O,g,Object.getOwnPropertyDescriptor(R,g))})}return O}function b(O,T,R){return T in O?Object.defineProperty(O,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):O[T]=R,O}var _=i.a.forwardRef(function(O,T){var R=O.fieldProps,g=O.children,h=O.proFieldProps,S=O.mode,M=O.valueEnum,W=O.request,B=O.showSearch,U=O.options;return i.a.createElement(a.a,c({mode:"edit",valueEnum:Object(p.a)(M),request:W,valueType:"select",fieldProps:w({options:U,mode:S,showSearch:B},R),ref:T},h),g)});je.a=Object(m.a)(_,{customLightMode:!0})}}]);
